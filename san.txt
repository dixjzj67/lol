From: <Saved by Blink>
Snapshot-Content-Location: https://shz.al/~SanadiniCarasterme
Subject: 
Date: Mon, 12 Feb 2024 11:15:48 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--j3MscNnFiYNc3A3ncUGXyEuWG2Mlwy9OmhvSmYkp8i----"


------MultipartBoundary--j3MscNnFiYNc3A3ncUGXyEuWG2Mlwy9OmhvSmYkp8i----
Content-Type: text/html
Content-ID: <frame-D02F885095E1D310FC8F6D6B98E1DE77@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://shz.al/~SanadiniCarasterme

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8"></head><body><pre style=3D"word-wrap: break-word; white-space: pr=
e-wrap;">{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"FL=
=E5=8D=A1=E5=AF=86=EF=BC=88=E7=94=B5=E8=84=91=EF=BC=89","options":{"check_f=
or_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":fa=
lse,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_=
for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge=
_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":=
[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://linkvertise.c=
om/*","*://*.fluxteam.net/*"],"orig_noframes":null,"orig_run_at":"document-=
idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":=
[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap"=
:null,"user_modified":1707296566114},"storage":{"ts":1706958399697,"data":{=
}},"enabled":false,"position":1,"uuid":"3f7d1743-9c9c-4fee-9733-1cc86ebbd72=
2","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBGTOWNoeWvhu+8iO=
eUteiEke+8iQovLyBAZGVzY3JpcHRpb24gIOW+heWumgovLyBAYXV0aG9yICAgICAgIFNhbmFka=
W5p44GuQ2FyYXN0ZXJtZQovLyBAdmVyc2lvbiAgICAgIDIwMjQtMDItMDMKLy8gQGF1dGhvciAg=
ICAgICBZb3UKLy8gQG1hdGNoICAgICAgICAqOi8vbGlua3ZlcnRpc2UuY29tLyoKLy8gQG1hdGN=
oICAgICAgICAqOi8vKi5mbHV4dGVhbS5uZXQvKgovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vd3=
d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/c3o9NjQmZG9tYWluPWdvb2dsZS5jb20KLy8gQGdyY=
W50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7CiAgICAndXNl=
IHN0cmljdCc7CgogICAgY29uc3QgcmVkaXJlY3RNYXAgPSB7CiAgICAgICAgImh0dHBzOi8vbGl=
ua3ZlcnRpc2UuY29tLzUzMDc5OS9mbHV4dXMtYW5kcm9pZC1mcmVlMiI6ICJmbHV4dGVhbS5uZX=
QvYW5kcm9pZC9jaGVja3BvaW50L2NoZWNrMS5waHAiLAogICAgICAgICJodHRwczovL2xpbmt2Z=
XJ0aXNlLmNvbS81MzA3OTkvZmx1eHVzLWFuZHJvaWQtZnJlZSI6ICJmbHV4dGVhbS5uZXQvYW5k=
cm9pZC9jaGVja3BvaW50L21haW4ucGhwIiwKICAgICAgICAiaHR0cHM6Ly9mbHV4dGVhbS5uZXQ=
vYW5kcm9pZC9jaGVja3BvaW50L2NoZWNrMS5waHAiOiAibGlua3ZlcnRpc2UuY29tLzUzMDc5OS=
9mbHV4dXMtYW5kcm9pZC1mcmVlIiwKICAgIH07CgogICAgY29uc3QgY3VycmVudFVSTCA9IHdpb=
mRvdy5sb2NhdGlvbi5ocmVmOwoKICAgIGlmIChjdXJyZW50VVJMIGluIHJlZGlyZWN0TWFwKSB7=
CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYGh0dHBzOi8vJHtyZWRpcmVjdE1hcFt=
jdXJyZW50VVJMXX1gKTsKICAgIH0KCiAgICBpZihjdXJyZW50VVJMID09PSAiaHR0cHM6Ly9mbH=
V4dGVhbS5uZXQvd2luZG93cy9jaGVja3BvaW50L2NoZWNrMS5waHAiKSB7CgogICAgbG9jYWxTd=
G9yYWdlLnNldEl0ZW0oJ3N0YXJ0VGltZScsIERhdGUubm93KCkpOwoKICAgIH0KCiAgICBpZihj=
dXJyZW50VVJMID09PSAiZmx1eHRlYW0ubmV0L2FuZHJvaWQvY2hlY2twb2ludC9jaGVjazEucGh=
wIikgewoKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdGFydFRpbWUnLCBEYXRlLm5vdygpKT=
sKCiAgICB9CiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoIi5uZXh1cyIgJiYgI=
nN0YXJ0LnBocCIpKSB7CiAgICAgICAgc2hvd05vdGlmaWNhdGlvbiggeyByOiAyMCwgZzogMTI4=
LCBiOiAyNTUgfSwgIuetieW+hSIpOwogICAgfQoKICAgIGlmIChjdXJyZW50VVJMLmluY2x1ZGV=
zKCJmbHV4dGVhbS5uZXQvYW5kcm9pZC9jaGVja3BvaW50L3N0YXJ0LnBocD9IV0lEPSIpKSB7Ci=
AgICAgICAgc2hvd05vdGlmaWNhdGlvbiggeyByOiAwLCBnOiAxMjgsIGI6IDI1NSB9LCAi5Y675=
L2g5aaI55qE54We56yURkwh57uV6L+H77yf5ZCv5Yqo77yBIik7CiAgICAgICAgd2luZG93Lmxv=
Y2F0aW9uLnJlcGxhY2UoImh0dHBzOi8vbGlua3ZlcnRpc2UuY29tLzUzMDc5OS9mbHV4dXMtYW5=
kcm9pZC1mcmVlMiIpOwogICAgY29uc3Qgbm90aWZpZXIgPSBuZXcgKHsgaWNvbnM6IHsgZW5hYm=
xlZDogZmFsc2UgfSB9KTsKICAgIGNvbnN0IHV0aWwgPSB7CiAgICBmdW5jdGlvbiAobGluaykge=
wogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAg=
ICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCI=
sCiAgICAgICAgICAgICAgICB1cmw6IGxpbmssCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7Ci=
AgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogJ2h0dHBzOi8vbGlua3ZlcnRpc2UuY29tLycsC=
iAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVz=
cG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLnJlc3BvbnNlVGV=
4dCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb2=
4gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgI=
CAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAp9OwogICAgfQogICAg=
IGlmIChjdXJyZW50VVJMLmluY2x1ZGVzKCJmbHV4dGVhbS5uZXQvYW5kcm9pZC9jaGVja3BvaW5=
0L21haW4ucGhwIikpIHsKICAgICAgICAgIGNvbnN0IG5vdGlmaWVyID0gbmV3ICh7IGljb25zOi=
B7IGVuYWJsZWQ6IGZhbHNlIH0gfSk7CiAgICBjb25zdCB1dGlsID0gewogICAgZnVuY3Rpb24gK=
GxpbmspIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4g=
ewogICAgICAgICAgICBHTS54bWxIdHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q=
6ICJHRVQiLAogICAgICAgICAgICAgICAgdXJsOiBsaW5rLAogICAgICAgICAgICAgICAgaGVhZG=
VyczogewogICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6ICdodHRwczovL2xpbmt2ZXJ0aXNlL=
mNvbS81ODA3MjYvZmx1eHVzJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBv=
bmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmU=
ocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC=
AgICBvbmVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZWplY=
3QoZXJyb3IpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7=
CiAgICB9LAp9OwogICAgfQogICAgaWYgKGN1cnJlbnRVUkwgPT09ICJmbHV4dGVhbS5uZXQvYW5=
kcm9pZC9jaGVja3BvaW50L21haW4ucGhwIikgewogICAgICAgIHdpbmRvdy5zdG9wKCk7CiAgIC=
AgICAgY29uc3Qgc3RhcnRUaW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0YXJ0VGltZScpO=
wogICAgICAgIGlmIChzdGFydFRpbWUpIHsKICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5u=
b3coKTsKICAgICAgICBjb25zdCBlbGFwc2VkU2Vjb25kcyA9IE1hdGguZmxvb3IoKGVuZFRpbWU=
gLSBwYXJzZUludChzdGFydFRpbWUpKSAvIDEwMDApOwogICAgICAgIHNob3dOb3RpZmljYXRpb2=
4oCiAgICAgICAgeyByOiAwLCBnOiAxMjgsIGI6IDAgfSwKICAgICAgICBgT0shYAogICAgICApO=
wogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc3RhcnRUaW1lJykKICAgfSBlbHNlIHsK=
ICAgICAgc2hvd05vdGlmaWNhdGlvbigKICAgICAgICB7IHI6IDI1NSwgZzogMCwgYjogMCB9LAo=
gICAgICAgICfkvaDlpognCiAgICAgICk7CiAgICB9CiB9CgogICAgZnVuY3Rpb24gc2hvd05vdG=
lmaWNhdGlvbihjb2xvciwgbWVzc2FnZSkgewogICAgY29uc3Qgbm90aWZpY2F0aW9uRGl2ID0gZ=
G9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBub3RpZmljYXRpb25EaXYuc3R5bGUu=
YmFja2dyb3VuZENvbG9yID0gYHJnYigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ=
9KWA7CiAgICBub3RpZmljYXRpb25EaXYuc3R5bGUuY29sb3IgPSAnd2hpdGUnOwogICAgbm90aW=
ZpY2F0aW9uRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgIG5vdGlmaWNhdGlvbkRpd=
i5zdHlsZS50b3AgPSAnMCc7CiAgICBub3RpZmljYXRpb25EaXYuc3R5bGUubGVmdCA9ICcwJzsK=
ICAgIG5vdGlmaWNhdGlvbkRpdi5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgIG5vdGlmaWNhdGl=
vbkRpdi5zdHlsZS5wYWRkaW5nID0gJzIwcHgnOwogICAgbm90aWZpY2F0aW9uRGl2LnN0eWxlLn=
RleHRBbGlnbiA9ICdjZW50ZXInOwogICAgbm90aWZpY2F0aW9uRGl2LnN0eWxlLmZvbnRXZWlna=
HQgPSAnYm9sZCc7CiAgICBub3RpZmljYXRpb25EaXYudGV4dENvbnRlbnQgPSBtZXNzYWdlOwog=
ICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpZmljYXRpb25EaXYpOwogICAgc2V0VGl=
tZW91dCgoKSA9PiB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobm90aWZpY2F0aW=
9uRGl2KTsKICAgIH0sIDQwMDApOwogIH0KfSkoKTs=3D"},{"name":"[Working] work.ink =
bypasser=EF=BC=88=E9=83=A8=E5=88=86=E8=84=9A=E6=9C=AC=E5=8D=A1=E5=AF=86=EF=
=BC=89","options":{"check_for_updates":true,"comment":null,"compat_foreach"=
:false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedj=
sobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"=
merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_mat=
ches":true,"orig_connects":[],"orig_excludes":["https://work.ink/search/*",=
"https://work.ink/token/*"],"orig_includes":[],"orig_matches":["https://wor=
k.ink/*/*","https://r.work.ink/*/*"],"orig_noframes":null,"orig_run_at":"do=
cument-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_in=
cludes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,=
"unwrap":null,"user_modified":1707296723912},"storage":{"ts":1707208285072,=
"data":{}},"enabled":true,"position":2,"file_url":"https://update.greasyfor=
k.org/scripts/482848/%5BWorking%5D%20workink%20bypasser.user.js","uuid":"1a=
dd11a7-fe98-4459-aa8c-02b8c2fd5131","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQ=
G5hbWUgICAgICAgICBbV29ya2luZ10gd29yay5pbmsgYnlwYXNzZXLvvIjpg6jliIbohJrmnKzl=
jaHlr4bvvIkKLy8gQGhvbWVwYWdlVVJMICBodHRwczovL2FudGl3b3JraW5nLnVzLnRvLwovLyB=
AZGVzY3JpcHRpb24gIGJ5cGFzc2VzIHdvcmsuaW5rIHF1aWNrbHkgYW5kIGVmZmljaWVudGx5LC=
BzYXZpbmcgeW91IHRpbWUgYW5kIGVuZXJneS4KLy8gQGF1dGhvciAgICAgICBhbnRpd29ya2luZ=
wovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd29yay5pbmsvKi8qCi8vIEBtYXRjaCAgICAgICAg=
aHR0cHM6Ly9yLndvcmsuaW5rLyovKgovLyBAZXhjbHVkZSAgICAgIGh0dHBzOi8vd29yay5pbms=
vc2VhcmNoLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwczovL3dvcmsuaW5rL3Rva2VuLyoKLy8gQH=
J1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAdmVyc2lvbiAgICAgIDEuMwovLyBAbGljZ=
W5zZSAgICAgIE1JVAovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vZGlzY29yZC5nZy85MnA2WDJk=
cnhuCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9maWxlcy5jYXRib3gubW9lL2R2OTN3bS5wbmc=
KLy8gQG5hbWVzcGFjZSBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQGRvd25sb2FkVVJMIG=
h0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDgyODQ4LyU1QldvcmtpbmclN=
UQlMjB3b3JraW5rJTIwYnlwYXNzZXIudXNlci5qcwovLyBAdXBkYXRlVVJMIGh0dHBzOi8vdXBk=
YXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDgyODQ4LyU1QldvcmtpbmclNUQlMjB3b3JraW5=
rJTIwYnlwYXNzZXIubWV0YS5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCmRvY3VtZW50LmhlYWQuYX=
BwZW5kQ2hpbGQgPSBmdW5jdGlvbiAoKSB7IH07Cgp3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gK=
CkgewogICAgY29uc3Qgc3VwcG9ydExpbmsgPSAnaHR0cHM6Ly9kaXNjb3JkLmdnLzkycDZYMmRy=
eG4nOwoKICAgIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT0gJ3Iud29yay5pbmsnKSB=
7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbih3aW5kb3cubG9jYXRpb24uaHJlZi5yZX=
BsYWNlKCdodHRwczovL3Iud29yay5pbmsvJywgJ2h0dHBzOi8vd29yay5pbmsvJykpOwogICAgI=
CAgIHJldHVybjsKICAgIH0KCiAgICBsZXQgdHVybnN0aWxlTG9jYXRpb24gPSBkb2N1bWVudC5j=
cmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHR1cm5zdGlsZUxvY2F0aW9uLmlkID0gJ3R1cm5zdGl=
sZUxvY2F0aW9uJzsKICAgIHR1cm5zdGlsZUxvY2F0aW9uLnN0eWxlLnRleHRBbGlnbiA9ICdjZW=
50ZXInOwogICAgdHVybnN0aWxlTG9jYXRpb24uc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLWFsb=
Cc7CiAgICB0dXJuc3RpbGVMb2NhdGlvbi5pbm5lckhUTUwgPSAnPGgxPnBsZWFzZSBzb2x2ZSB0=
aGUgY2FwdGNoYTwvaDE+PGJyPic7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3M=
9InRleHRibG9jayJdJykuYXBwZW5kQ2hpbGQodHVybnN0aWxlTG9jYXRpb24pOwoKICAgIGxldC=
B0dXJuc3RpbGVTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgI=
HR1cm5zdGlsZVNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9jaGFsbGVuZ2VzLmNsb3VkZmxhcmUuY29t=
L3R1cm5zdGlsZS92MC9hcGkuanM/cmVuZGVyPWV4cGxpY2l0JzsKICAgIHR1cm5zdGlsZVNjcml=
wdC5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgdHVybnN0aWxlLnJlbmRlcihkb2N1bWVudC5nZX=
RFbGVtZW50QnlJZCgndHVybnN0aWxlTG9jYXRpb24nKSwgewogICAgICAgICAgICBzaXRla2V5O=
iAnMHg0QUFBQUFBQU9ZSHoxTkFyLUhXVk50JywKICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0=
aW9uICh0b2tlbikgewogICAgICAgICAgICAgICAgdHVybW92ZW5zdGlsZS5yZSgpOwogICAgICA=
gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R1cm5zdGlsZUxvY2F0aW9uJykuY2=
hpbGRyZW5bMF0uaW5uZXJIVE1MID0gJ2J5cGFzc2luZy4gLiAuJwogICAgICAgICAgICAgICAgY=
nlwYXNzKHRva2VuKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKICAgIGRvY3Vt=
ZW50LmhlYWQuYXBwZW5kKHR1cm5zdGlsZVNjcmlwdCk7CgogICAgZnVuY3Rpb24gYnlwYXNzKHR=
va2VuKSB7CiAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIH=
hoci5vcGVuKCdQT1NUJywgJ2h0dHBzOi8vYW50aXdvcmtpbmcudXMudG8vYnlwYXNzJywgdHJ1Z=
Sk7CiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAg=
ICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9IDQpIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGl=
mICh4aHIuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YS=
A9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICBpZiAocmVzc=
G9uc2VEYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVt=
ZW50QnlJZCgndHVybnN0aWxlTG9jYXRpb24nKS5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBgZGV=
zdGluYXRpb24gbGluazo8YnI+PGEgaHJlZj0iJHtyZXNwb25zZURhdGEubGlua30iPiR7cmVzcG=
9uc2VEYXRhLmxpbmt9PC9hPmA7CiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4ocmVzc=
G9uc2VEYXRhLmxpbmssICdfYmxhbmsnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg=
ICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd=
0dXJuc3RpbGVMb2NhdGlvbicpLmNoaWxkcmVuWzBdLmlubmVySFRNTCA9IHJlc3BvbnNlRGF0YS=
5lcnJvciArIGA8YnI+PGEgaHJlZj0iJHtzdXBwb3J0TGlua30iPmNsaWNrIGhlcmUgdG8gcmVwb=
3J0IGEgcHJvYmxlbTwvYT5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAg=
ICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R=
1cm5zdGlsZUxvY2F0aW9uJykuY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gYHNlcnZlciBlcnJvcj=
xicj48YSBocmVmPSIke3N1cHBvcnRMaW5rfSI+Y2xpY2sgaGVyZSB0byByZXBvcnQgYSBwcm9ib=
GVtPC9hPmA7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHhoci5zZXRSZXF1ZXN0=
SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpOwogICAgICAgIHhoci5=
zZW5kKEpTT04uc3RyaW5naWZ5KHsgbGluazogd2luZG93LmxvY2F0aW9uLmhyZWYsICdjZi10dX=
Juc3RpbGUtcmVzcG9uc2UnOiB0b2tlbiB9KSk7CiAgICB9Cn0=3D"},{"name":"=E5=8E=BB=
=E4=BD=A0=E5=A6=88=E7=9A=84lootlink=EF=BC=88=E5=BF=8D=E8=80=85=EF=BC=89","o=
ptions":{"check_for_updates":true,"comment":null,"compat_foreach":false,"co=
mpat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":f=
alse,"compatopts_for_requires":true,"noframes":null,"override":{"merge_conn=
ects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true=
,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["=
https://loot-link.com/s?*","https://loot-links.com/s?*","https://lootlink.o=
rg/s?*","https://lootlinks.co/s?*","https://lootdest.info/s?*","https://loo=
tdest.org/s?*","https://lootdest.com/s?*","https://links-loot.com/s?*","htt=
ps://linksloot.net/s?*"],"orig_noframes":null,"orig_run_at":"document-end",=
"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"us=
e_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,=
"user_modified":1707296676260},"storage":{"ts":1707208285072,"data":{}},"en=
abled":true,"position":3,"file_url":"https://update.greasyfork.org/scripts/=
483207/%5BWorking%5D%20loot-linkcom%20bypasser%20%28includes%20all%20lootla=
bsgg%20link%20variations%29.user.js","uuid":"bae3b2c8-ca49-41df-9070-a07e26=
dba5b1","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDljrvkvaDlp=
ojnmoRsb290bGlua++8iOW/jeiAhe+8iQovLyBAZGVzY3JpcHRpb24gIOe7lei/h+eFnueslGxv=
b3RsaW5rCi8vIEBhdXRob3IgICAgICAgU2FuYWRpbmnjga5DYXJhc3Rlcm1l77yIUVExMjU1OTQ=
5ODM377yJCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9sb290LWxpbmsuY29tL3M/KgovLyBAbW=
F0Y2ggICAgICAgIGh0dHBzOi8vbG9vdC1saW5rcy5jb20vcz8qCi8vIEBtYXRjaCAgICAgICAga=
HR0cHM6Ly9sb290bGluay5vcmcvcz8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9sb290bGlu=
a3MuY28vcz8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9sb290ZGVzdC5pbmZvL3M/KgovLyB=
AbWF0Y2ggICAgICAgIGh0dHBzOi8vbG9vdGRlc3Qub3JnL3M/KgovLyBAbWF0Y2ggICAgICAgIG=
h0dHBzOi8vbG9vdGRlc3QuY29tL3M/KgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vbGlua3Mtb=
G9vdC5jb20vcz8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9saW5rc2xvb3QubmV0L3M/Kgov=
LyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovLyBAdmVyc2lvbiAgICAgIDIuMQovLyBAbGl=
jZW5zZSAgICAgIE1JVAovLyA9PS9Vc2VyU2NyaXB0PT0KCmZ1bmN0aW9uIGRlY3J5cHREYXRhKG=
VuY29kZWREYXRhLCBrZXlMZW5ndGggPSA1KSB7CiAgbGV0IGRlY3J5cHRlZERhdGEgPSAnJywKI=
CAgIGJhc2U2NERlY29kZWQgPSBhdG9iKGVuY29kZWREYXRhKSwKICAgIGtleSA9IGJhc2U2NERl=
Y29kZWQuc3Vic3RyaW5nKDAsIGtleUxlbmd0aCksCiAgICBlbmNyeXB0ZWRDb250ZW50ID0gYmF=
zZTY0RGVjb2RlZC5zdWJzdHJpbmcoa2V5TGVuZ3RoKTsKCiAgZm9yIChsZXQgaSA9IDA7IGkgPC=
BlbmNyeXB0ZWRDb250ZW50Lmxlbmd0aDsgaSsrKSB7CiAgICBsZXQgY2hhckNvZGVFbmNyeXB0Z=
WQgPSBlbmNyeXB0ZWRDb250ZW50LmNoYXJDb2RlQXQoaSksCiAgICAgIGNoYXJDb2RlS2V5ID0g=
a2V5LmNoYXJDb2RlQXQoaSAlIGtleS5sZW5ndGgpLAogICAgICBkZWNyeXB0ZWRDaGFyQ29kZSA=
9IGNoYXJDb2RlRW5jcnlwdGVkIF4gY2hhckNvZGVLZXk7CgogICAgZGVjcnlwdGVkRGF0YSArPS=
BTdHJpbmcuZnJvbUNoYXJDb2RlKGRlY3J5cHRlZENoYXJDb2RlKTsKICB9CgogIHJldHVybiBkZ=
WNyeXB0ZWREYXRhOwp9CgooZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiBwID09ICdvYmpl=
Y3QnICYmIHA/LlBVQkxJU0hFUl9MSU5LICYmIGRlY3J5cHREYXRhKHBbJ1BVQkxJU0hFUl9MSU5=
LJ10pKSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihkZWNyeXB0RGF0YShwWydQVU=
JMSVNIRVJfTElOSyddKSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBhbGVydCgnYnlwYXNzI=
GZhaWxlZC5cbnBsZWFzZSBqb2luIHRoZSBkaXNjb3JkIGF0IGh0dHBzOi8vZGlzY29yZC5nZy85=
MnA2WDJkcnhuIHRvIHJlcG9ydCB0aGlzIGlzc3VlLicpOwogICAgICAgIHdpbmRvdy5vcGVuKCd=
odHRwczovL2Rpc2NvcmQuZ2cvOTJwNlgyZHJ4bicsICdfYmxhbmsnKTsKICAgIH0KfSkoKTs=3D=
"},{"name":"Autopass Cloudflare CAPTCHA","options":{"check_for_updates":tru=
e,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_pow=
erful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":t=
rue,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true=
,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_exclud=
es":[],"orig_includes":[],"orig_matches":["*://*/*"],"orig_noframes":null,"=
orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excl=
udes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"=
tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1707208=
285088,"data":{}},"enabled":true,"position":4,"file_url":"https://update.gr=
easyfork.org/scripts/464785/Autopass%20Cloudflare%20CAPTCHA.user.js","uuid"=
:"6bbe1768-abd5-4875-acc1-b74599bfb0e8","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KL=
y8gQG5hbWUgICAgICAgICBBdXRvcGFzcyBDbG91ZGZsYXJlIENBUFRDSEEKLy8gQG5hbWVzcGFj=
ZSAgICBWaW9sZW50bW9ua2V5IFNjcmlwdHMKLy8gQG1hdGNoICAgICAgICAqOi8vKi8qCi8vIEB=
2ZXJzaW9uICAgICAgWGlhb1lpbmdfMjAyMy4wNS4yNS4yMgovLyBAZ3JhbnQgICAgICAgIG5vbm=
UKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAYXV0aG9yICAgICAgIGdpdGh1Y=
i5jb20gQFhpYW9ZaW5nWW8KLy8gQHJlcXVpcmUgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcv=
c2NyaXB0cy80NjQ5MjktbW9kdWxlLWpxdWVyeS14aWFveWluZy9jb2RlL21vZHVsZV9qcXVlcnl=
fWGlhb1lpbmcuanMKLy8gQHJlcXVpcmUgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaX=
B0cy80NjQ3ODAtZ2xvYmFsLW1vZHVsZS9jb2RlL2dsb2JhbF9tb2R1bGUuanMKLy8gQGljb24gI=
CAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP3N6PTQ4JmRvbWFpbj1j=
bG91ZGZsYXJlLmNvbQovLyBAaWNvbjY0ICAgICAgIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczI=
vZmF2aWNvbnM/c3o9NjQmZG9tYWluPWNsb3VkZmxhcmUuY29tCi8vIEBkZXNjcmlwdGlvbiBWaW=
9sZW50bW9ua2V5IFNjcmlwdHMKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFze=
WZvcmsub3JnL3NjcmlwdHMvNDY0Nzg1L0F1dG9wYXNzJTIwQ2xvdWRmbGFyZSUyMENBUFRDSEEu=
dXNlci5qcwovLyBAdXBkYXRlVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3Njcml=
wdHMvNDY0Nzg1L0F1dG9wYXNzJTIwQ2xvdWRmbGFyZSUyMENBUFRDSEEubWV0YS5qcwovLyA9PS=
9Vc2VyU2NyaXB0PT0KCmdsb2JhbF9tb2R1bGUgPSB3aW5kb3dbJ2dsb2JhbF9tb2R1bGUnXTsKC=
mFzeW5jIGZ1bmN0aW9uIFZlcmlmeVlvdUFyZUh1bWFuXzAxKCkgewogICAgbGV0IGRvbSA9IGF3=
YWl0IGdsb2JhbF9tb2R1bGUud2FpdEZvckVsZW1lbnQoImlucHV0W3ZhbHVlPSdWZXJpZnkgeW9=
1IGFyZSBodW1hbiddW3R5cGU9J2J1dHRvbiddIiwgbnVsbCwgbnVsbCwgMjAwLCAtMSk7CiAgIC=
BnbG9iYWxfbW9kdWxlLmNsaWNrRWxlbWVudCgkKGRvbSkuZXEoMClbMF0pOwp9Cgphc3luYyBmd=
W5jdGlvbiBWZXJpZnlZb3VBcmVIdW1hbl8wMigpIHsKICAgIGxldCBkb20gPSBhd2FpdCBnbG9i=
YWxfbW9kdWxlLndhaXRGb3JFbGVtZW50KCJpbnB1dFt0eXBlPSdjaGVja2JveCddIiwgbnVsbCw=
gbnVsbCwgMjAwLCAtMSk7CiAgICBnbG9iYWxfbW9kdWxlLmNsaWNrRWxlbWVudCgkKGRvbSkuZX=
EoMClbMF0pOwogICAgZG9tID0gYXdhaXQgZ2xvYmFsX21vZHVsZS53YWl0Rm9yRWxlbWVudCgic=
3BhbltjbGFzcz0nbWFyayddIiwgbnVsbCwgbnVsbCwgMjAwLCAtMSk7CiAgICBnbG9iYWxfbW9k=
dWxlLmNsaWNrRWxlbWVudCgkKGRvbSkuZXEoMClbMF0pOwp9Cgphc3luYyBmdW5jdGlvbiBWZXJ=
pZnlZb3VBcmVIdW1hbl8wMygpIHsKICAgIGxldCBkb20gPSBhd2FpdCBnbG9iYWxfbW9kdWxlLn=
dhaXRGb3JFbGVtZW50KCJpbnB1dFt2YWx1ZT0nVmVyaWZ5IHlvdSBhcmUgaHVtYW4nXVt0eXBlP=
SdidXR0b24nXSIsIG51bGwsIG51bGwsIDIwMCwgLTEpOwogICAgZ2xvYmFsX21vZHVsZS5jbGlj=
a0VsZW1lbnQoJChkb20pLmVxKDApWzBdKTsKfQoKYXN5bmMgZnVuY3Rpb24gbWFpbigpIHsKICA=
gIGxldCByYXlfaWQgPSAkKCJkaXZbY2xhc3M9J3JheS1pZCddIik7CiAgICBsZXQgaHJlZmRvbS=
A9ICQoImFbaHJlZio9J2Nsb3VkZmxhcmUuY29tJ11bdGFyZ2V0PSdfYmxhbmsnXSIpOwogICAga=
WYgKHJheV9pZC5sZW5ndGggPiAwICYmIGhyZWZkb20ubGVuZ3RoID4gMCkgewogICAgICAgIFZl=
cmlmeVlvdUFyZUh1bWFuXzAxKCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHdpbmR=
vdy5sb2NhdGlvbi5ob3N0ID09ICdjaGFsbGVuZ2VzLmNsb3VkZmxhcmUuY29tJyAmJiAkKCJkaX=
ZbaWQ9J3N1Y2Nlc3MnXSIpLmxlbmd0aCA+IDAgJiYgJCgiZGl2W2lkPSdmYWlsJ10iKS5sZW5nd=
GggPiAwICYmICQoImRpdltpZD0nZXhwaXJlZCddIikubGVuZ3RoID4gMCkgewogICAgICAgIFZl=
cmlmeVlvdUFyZUh1bWFuXzAyKCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCQoJ2R=
pdltjbGFzcz0ibG9nbyJdJykubGVuZ3RoID4gMCkgewogICAgICAgIFZlcmlmeVlvdUFyZUh1bW=
FuXzAzKCk7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgokKGRvY3VtZW50KS5yZWFkeSgoKSA9P=
iBtYWluKCkpOwo=3D","requires":[{"meta":{"name":"module_jquery_XiaoYing.js",=
"url":"https://greasyfork.org/scripts/464929-module-jquery-xiaoying/code/mo=
dule_jquery_XiaoYing.js","ts":1707664526610,"mimetype":"text/javascript"},"=
source":"KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHsKICAgICJ1c2Ugc3RyaWN0IjsKIC=
AgIGlmICh0eXBlb2YgbW9kdWxlID09PSAib2JqZWN0IiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9yd=
HMgPT09ICJvYmplY3QiKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1l=
bnQgPwogICAgICAgICAgICBmYWN0b3J5KGdsb2JhbCwgdHJ1ZSkgOgogICAgICAgICAgICBmdW5=
jdGlvbiAodykgewogICAgICAgICAgICAgICAgaWYgKCF3LmRvY3VtZW50KSB7CiAgICAgICAgIC=
AgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0a=
CBhIGRvY3VtZW50Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4g=
ZmFjdG9yeSh3KTsKICAgICAgICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgICAgZmFjdG9yeSh=
nbG9iYWwpOwogICAgfQp9KSh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdy=
A6IHRoaXMsIGZ1bmN0aW9uICh3aW5kb3csIG5vR2xvYmFsKSB7CiAgICAidXNlIHN0cmljdCI7C=
iAgICB2YXIgYXJyID0gW107CiAgICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBl=
T2Y7CiAgICB2YXIgc2xpY2UgPSBhcnIuc2xpY2U7CiAgICB2YXIgZmxhdCA9IGFyci5mbGF0ID8=
KICAgICAgICBmdW5jdGlvbiAoYXJyYXkpIHsKICAgICAgICAgICAgcmV0dXJuIGFyci5mbGF0Lm=
NhbGwoYXJyYXkpOwogICAgICAgIH0gOgogICAgICAgIGZ1bmN0aW9uIChhcnJheSkgewogICAgI=
CAgICAgICByZXR1cm4gYXJyLmNvbmNhdC5hcHBseShbXSwgYXJyYXkpOwogICAgICAgIH07CiAg=
ICB2YXIgcHVzaCA9IGFyci5wdXNoOwogICAgdmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjsKICA=
gIHZhciBjbGFzczJ0eXBlID0ge307CiAgICB2YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3=
RyaW5nOwogICAgdmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7CiAgICB2Y=
XIgZm5Ub1N0cmluZyA9IGhhc093bi50b1N0cmluZzsKICAgIHZhciBPYmplY3RGdW5jdGlvblN0=
cmluZyA9IGZuVG9TdHJpbmcuY2FsbChPYmplY3QpOwogICAgdmFyIHN1cHBvcnQgPSB7fTsKICA=
gIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHsKICAgICAgICByZX=
R1cm4gdHlwZW9mIG9iaiA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9P=
SAibnVtYmVyIiAmJiB0eXBlb2Ygb2JqLml0ZW0gIT09ICJmdW5jdGlvbiI7CiAgICB9OwogICAg=
dmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3cob2JqKSB7CiAgICAgICAgcmV0dXJuIG9=
iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdzsKICAgIH07CiAgICB2YXIgZG9jdW1lbn=
QgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgICB2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9I=
HsKICAgICAgICB0eXBlOiB0cnVlLAogICAgICAgIHNyYzogdHJ1ZSwKICAgICAgICBub25jZTog=
dHJ1ZSwKICAgICAgICBub01vZHVsZTogdHJ1ZQogICAgfTsKCiAgICBmdW5jdGlvbiBET01FdmF=
sKGNvZGUsIG5vZGUsIGRvYykgewogICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgIC=
AgICB2YXIgaSwKICAgICAgICAgICAgdmFsLAogICAgICAgICAgICBzY3JpcHQgPSBkb2MuY3JlY=
XRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgc2NyaXB0LnRleHQgPSBjb2RlOwogICAgICAg=
IGlmIChub2RlKSB7CiAgICAgICAgICAgIGZvciAoaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ=
1dGVzKSB7CiAgICAgICAgICAgICAgICB2YWwgPSBub2RlW2ldIHx8IChub2RlLmdldEF0dHJpYn=
V0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZShpKSk7CiAgICAgICAgICAgICAgICBpZiAodmFsKSB7C=
iAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZShpLCB2YWwpOwogICAgICAg=
ICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRvYy5oZWFkLmFwcGV=
uZENoaWxkKHNjcmlwdCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpOwogICAgfQoKIC=
AgIGZ1bmN0aW9uIHRvVHlwZShvYmopIHsKICAgICAgICBpZiAob2JqID09IG51bGwpIHsKICAgI=
CAgICAgICAgcmV0dXJuIG9iaiArICIiOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHlwZW9m=
IG9iaiA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIG9iaiA9PT0gImZ1bmN0aW9uIiA/IGNsYXNzMnR=
5cGVbdG9TdHJpbmcuY2FsbChvYmopXSB8fCAib2JqZWN0IiA6IHR5cGVvZiBvYmo7CiAgICB9Ci=
AgICB2YXIgdmVyc2lvbiA9ICIzLjYuNCIsCiAgICAgICAgalF1ZXJ5ID0gZnVuY3Rpb24gKHNlb=
GVjdG9yLCBjb250ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQo=
c2VsZWN0b3IsIGNvbnRleHQpOwogICAgICAgIH07CiAgICBqUXVlcnkuZm4gPSBqUXVlcnkucHJ=
vdG90eXBlID0gewogICAgICAgIGpxdWVyeTogdmVyc2lvbiwKICAgICAgICBjb25zdHJ1Y3Rvcj=
ogalF1ZXJ5LAogICAgICAgIGxlbmd0aDogMCwKICAgICAgICB0b0FycmF5OiBmdW5jdGlvbiAoK=
SB7CiAgICAgICAgICAgIHJldHVybiBzbGljZS5jYWxsKHRoaXMpOwogICAgICAgIH0sCiAgICAg=
ICAgZ2V0OiBmdW5jdGlvbiAobnVtKSB7CiAgICAgICAgICAgIGlmIChudW0gPT0gbnVsbCkgewo=
gICAgICAgICAgICAgICAgcmV0dXJuIHNsaWNlLmNhbGwodGhpcyk7CiAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgcmV0dXJuIG51bSA8IDAgPyB0aGlzW251bSArIHRoaXMubGVuZ3RoXSA6IHRoa=
XNbbnVtXTsKICAgICAgICB9LAogICAgICAgIHB1c2hTdGFjazogZnVuY3Rpb24gKGVsZW1zKSB7=
CiAgICAgICAgICAgIHZhciByZXQgPSBqUXVlcnkubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLCB=
lbGVtcyk7CiAgICAgICAgICAgIHJldC5wcmV2T2JqZWN0ID0gdGhpczsKICAgICAgICAgICAgcm=
V0dXJuIHJldDsKICAgICAgICB9LAogICAgICAgIGVhY2g6IGZ1bmN0aW9uIChjYWxsYmFjaykge=
wogICAgICAgICAgICByZXR1cm4galF1ZXJ5LmVhY2godGhpcywgY2FsbGJhY2spOwogICAgICAg=
IH0sCiAgICAgICAgbWFwOiBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgcmV0dXJ=
uIHRoaXMucHVzaFN0YWNrKAogICAgICAgICAgICAgICAgalF1ZXJ5Lm1hcCh0aGlzLCBmdW5jdG=
lvbiAoZWxlbSwgaSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsK=
GVsZW0sIGksIGVsZW0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgKTsKICAgICAg=
ICB9LAogICAgICAgIHNsaWNlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGl=
zLnB1c2hTdGFjayhzbGljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgICAgICB9LAogIC=
AgICAgIGZpcnN0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVxKDApO=
wogICAgICAgIH0sCiAgICAgICAgbGFzdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1=
cm4gdGhpcy5lcSgtMSk7CiAgICAgICAgfSwKICAgICAgICBldmVuOiBmdW5jdGlvbiAoKSB7CiA=
gICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjaygKICAgICAgICAgICAgICAgIGpRdWVyeS=
5ncmVwKHRoaXMsIGZ1bmN0aW9uIChfZWxlbSwgaSkgewogICAgICAgICAgICAgICAgICAgIHJld=
HVybiAoaSArIDEpICUgMjsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICk7CiAgICAg=
ICAgfSwKICAgICAgICBvZGQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM=
ucHVzaFN0YWNrKAogICAgICAgICAgICAgICAgalF1ZXJ5LmdyZXAodGhpcywgZnVuY3Rpb24gKF=
9lbGVtLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgJSAyOwogICAgICAgICAgI=
CAgICAgfSkKICAgICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGVxOiBmdW5jdGlvbiAo=
aSkgewogICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGgsCiAgICAgICAgICAgICAgICB=
qID0gK2kgKyAoaSA8IDAgPyBsZW4gOiAwKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaF=
N0YWNrKGogPj0gMCAmJiBqIDwgbGVuID8gW3RoaXNbal1dIDogW10pOwogICAgICAgIH0sCiAgI=
CAgICAgZW5kOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZPYmpl=
Y3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpOwogICAgICAgIH0sCiAgICAgICAgcHVzaDogcHVzaCw=
KICAgICAgICBzb3J0OiBhcnIuc29ydCwKICAgICAgICBzcGxpY2U6IGFyci5zcGxpY2UsCiAgIC=
B9OwogICAgalF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbiAoKSB7C=
iAgICAgICAgdmFyIG9wdGlvbnMsCiAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgIHNyYywK=
ICAgICAgICAgICAgY29weSwKICAgICAgICAgICAgY29weUlzQXJyYXksCiAgICAgICAgICAgIGN=
sb25lLAogICAgICAgICAgICB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sCiAgICAgICAgIC=
AgIGkgPSAxLAogICAgICAgICAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLAogICAgICAgI=
CAgICBkZWVwID0gZmFsc2U7CiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICJib29sZWFu=
IikgewogICAgICAgICAgICBkZWVwID0gdGFyZ2V0OwogICAgICAgICAgICB0YXJnZXQgPSBhcmd=
1bWVudHNbaV0gfHwge307CiAgICAgICAgICAgIGkrKzsKICAgICAgICB9CiAgICAgICAgaWYgKH=
R5cGVvZiB0YXJnZXQgIT09ICJvYmplY3QiICYmICFpc0Z1bmN0aW9uKHRhcmdldCkpIHsKICAgI=
CAgICAgICAgdGFyZ2V0ID0ge307CiAgICAgICAgfQogICAgICAgIGlmIChpID09PSBsZW5ndGgp=
IHsKICAgICAgICAgICAgdGFyZ2V0ID0gdGhpczsKICAgICAgICAgICAgaS0tOwogICAgICAgIH0=
KICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICgob3B0aW=
9ucyA9IGFyZ3VtZW50c1tpXSkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgZm9yIChuYW1lI=
GluIG9wdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICBjb3B5ID0gb3B0aW9uc1tuYW1lXTsK=
ICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gIl9fcHJvdG9fXyIgfHwgdGFyZ2V0ID0=
9PSBjb3B5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgIC=
AgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcCAmJiBjb3B5ICYmIChqUXVlc=
nkuaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGNv=
cHkpKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gdGFyZ2V0W25hbWVdOwogICA=
gICAgICAgICAgICAgICAgICAgICBpZiAoY29weUlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoc3=
JjKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBbXTsKICAgICAgICAgI=
CAgICAgICAgICAgICAgfSBlbHNlIGlmICghY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWlu=
T2JqZWN0KHNyYykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0ge307CiA=
gICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICBjbG9uZSA9IHNyYzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgI=
CAgICAgICAgICBjb3B5SXNBcnJheSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0=
YXJnZXRbbmFtZV0gPSBqUXVlcnkuZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KTsKICAgICAgICA=
gICAgICAgICAgICB9IGVsc2UgaWYgKGNvcHkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgIC=
AgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5OwogICAgICAgICAgICAgICAgICAgIH0KI=
CAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4g=
dGFyZ2V0OwogICAgfTsKICAgIGpRdWVyeS5leHRlbmQoewogICAgICAgIGV4cGFuZG86ICJqUXV=
lcnkiICsgKHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCAiIiksCiAgIC=
AgICAgaXNSZWFkeTogdHJ1ZSwKICAgICAgICBlcnJvcjogZnVuY3Rpb24gKG1zZykgewogICAgI=
CAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTsKICAgICAgICB9LAogICAgICAgIG5vb3A6IGZ1=
bmN0aW9uICgpIHsgfSwKICAgICAgICBpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7CiA=
gICAgICAgICAgIHZhciBwcm90bywgQ3RvcjsKICAgICAgICAgICAgaWYgKCFvYmogfHwgdG9TdH=
JpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikgewogICAgICAgICAgICAgICAgc=
mV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHByb3RvID0gZ2V0UHJvdG8o=
b2JqKTsKICAgICAgICAgICAgaWYgKCFwcm90bykgewogICAgICAgICAgICAgICAgcmV0dXJuIHR=
ydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ3RvciA9IGhhc093bi5jYWxsKHByb3RvLC=
AiY29uc3RydWN0b3IiKSAmJiBwcm90by5jb25zdHJ1Y3RvcjsKICAgICAgICAgICAgcmV0dXJuI=
HR5cGVvZiBDdG9yID09PSAiZnVuY3Rpb24iICYmIGZuVG9TdHJpbmcuY2FsbChDdG9yKSA9PT0g=
T2JqZWN0RnVuY3Rpb25TdHJpbmc7CiAgICAgICAgfSwKICAgICAgICBpc0VtcHR5T2JqZWN0OiB=
mdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgIHZhciBuYW1lOwogICAgICAgICAgICBmb3IgKG=
5hbWUgaW4gb2JqKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgI=
H0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSwKICAgICAgICBnbG9iYWxFdmFs=
OiBmdW5jdGlvbiAoY29kZSwgb3B0aW9ucywgZG9jKSB7CiAgICAgICAgICAgIERPTUV2YWwoY29=
kZSwgewogICAgICAgICAgICAgICAgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZQogIC=
AgICAgICAgICB9LCBkb2MpOwogICAgICAgIH0sCiAgICAgICAgZWFjaDogZnVuY3Rpb24gKG9ia=
iwgY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIGxlbmd0aCwKICAgICAgICAgICAgICAgIGkg=
PSAwOwogICAgICAgICAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgewogICAgICAgICAgICAgICA=
gbGVuZ3RoID0gb2JqLmxlbmd0aDsKICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOy=
BpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChvYmpbaV0sIGksI=
G9ialtpXSkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAg=
ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHs=
KICAgICAgICAgICAgICAgIGZvciAoaSBpbiBvYmopIHsKICAgICAgICAgICAgICAgICAgICBpZi=
AoY2FsbGJhY2suY2FsbChvYmpbaV0sIGksIG9ialtpXSkgPT09IGZhbHNlKSB7CiAgICAgICAgI=
CAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg=
ICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgIH0sCiA=
gICAgICAgbWFrZUFycmF5OiBmdW5jdGlvbiAoYXJyLCByZXN1bHRzKSB7CiAgICAgICAgICAgIH=
ZhciByZXQgPSByZXN1bHRzIHx8IFtdOwogICAgICAgICAgICBpZiAoYXJyICE9IG51bGwpIHsKI=
CAgICAgICAgICAgICAgIGlmIChpc0FycmF5TGlrZShPYmplY3QoYXJyKSkpIHsKICAgICAgICAg=
ICAgICAgICAgICBqUXVlcnkubWVyZ2UocmV0LCB0eXBlb2YgYXJyID09PSAic3RyaW5nIiA/IFt=
hcnJdIDogYXJyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC=
AgcHVzaC5jYWxsKHJldCwgYXJyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogI=
CAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0sCiAgICAgICAgaW5BcnJheTogZnVuY3Rp=
b24gKGVsZW0sIGFyciwgaSkgewogICAgICAgICAgICByZXR1cm4gYXJyID09IG51bGwgPyAtMSA=
6IGluZGV4T2YuY2FsbChhcnIsIGVsZW0sIGkpOwogICAgICAgIH0sCiAgICAgICAgbWVyZ2U6IG=
Z1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7CiAgICAgICAgICAgIHZhciBsZW4gPSArc2Vjb25kL=
mxlbmd0aCwKICAgICAgICAgICAgICAgIGogPSAwLAogICAgICAgICAgICAgICAgaSA9IGZpcnN0=
Lmxlbmd0aDsKICAgICAgICAgICAgZm9yICg7IGogPCBsZW47IGorKykgewogICAgICAgICAgICA=
gICAgZmlyc3RbaSsrXSA9IHNlY29uZFtqXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmaX=
JzdC5sZW5ndGggPSBpOwogICAgICAgICAgICByZXR1cm4gZmlyc3Q7CiAgICAgICAgfSwKICAgI=
CAgICBncmVwOiBmdW5jdGlvbiAoZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQpIHsKICAgICAgICAg=
ICAgdmFyIGNhbGxiYWNrSW52ZXJzZSwKICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBbXSwKICA=
gICAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICAgICAgbGVuZ3RoID0gZWxlbXMubGVuZ3=
RoLAogICAgICAgICAgICAgICAgY2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0OwogICAgICAgICAgI=
CBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFja0ludmVy=
c2UgPSAhY2FsbGJhY2soZWxlbXNbaV0sIGkpOwogICAgICAgICAgICAgICAgaWYgKGNhbGxiYWN=
rSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QpIHsKICAgICAgICAgICAgICAgICAgICBtYXRjaG=
VzLnB1c2goZWxlbXNbaV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgI=
CAgICAgIHJldHVybiBtYXRjaGVzOwogICAgICAgIH0sCiAgICAgICAgbWFwOiBmdW5jdGlvbiAo=
ZWxlbXMsIGNhbGxiYWNrLCBhcmcpIHsKICAgICAgICAgICAgdmFyIGxlbmd0aCwKICAgICAgICA=
gICAgICAgIHZhbHVlLAogICAgICAgICAgICAgICAgaSA9IDAsCiAgICAgICAgICAgICAgICByZX=
QgPSBbXTsKICAgICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGVsZW1zKSkgewogICAgICAgICAgI=
CAgICAgbGVuZ3RoID0gZWxlbXMubGVuZ3RoOwogICAgICAgICAgICAgICAgZm9yICg7IGkgPCBs=
ZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2soZWxlbXN=
baV0sIGksIGFyZyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKIC=
AgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godmFsdWUpOwogICAgICAgICAgICAgICAgI=
CAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAg=
ICAgIGZvciAoaSBpbiBlbGVtcykgewogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2FsbGJ=
hY2soZWxlbXNbaV0sIGksIGFyZyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG=
51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godmFsdWUpOwogICAgICAgI=
CAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAg=
ICByZXR1cm4gZmxhdChyZXQpOwogICAgICAgIH0sCiAgICAgICAgZ3VpZDogMSwKICAgICAgICB=
zdXBwb3J0OiBzdXBwb3J0LAogICAgfSk7CiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bm=
N0aW9uIikgewogICAgICAgIGpRdWVyeS5mbltTeW1ib2wuaXRlcmF0b3JdID0gYXJyW1N5bWJvb=
C5pdGVyYXRvcl07CiAgICB9CiAgICBqUXVlcnkuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5n=
IEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCI=
gIiksIGZ1bmN0aW9uIChfaSwgbmFtZSkgewogICAgICAgIGNsYXNzMnR5cGVbIltvYmplY3QgIi=
ArIG5hbWUgKyAiXSJdID0gbmFtZS50b0xvd2VyQ2FzZSgpOwogICAgfSk7CgogICAgZnVuY3Rpb=
24gaXNBcnJheUxpa2Uob2JqKSB7CiAgICAgICAgdmFyIGxlbmd0aCA9ICEhb2JqICYmICJsZW5n=
dGgiIGluIG9iaiAmJiBvYmoubGVuZ3RoLAogICAgICAgICAgICB0eXBlID0gdG9UeXBlKG9iaik=
7CiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JqKSB8fCBpc1dpbmRvdyhvYmopKSB7CiAgICAgIC=
AgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICJhc=
nJheSIgfHwgbGVuZ3RoID09PSAwIHx8ICh0eXBlb2YgbGVuZ3RoID09PSAibnVtYmVyIiAmJiBs=
ZW5ndGggPiAwICYmIGxlbmd0aCAtIDEgaW4gb2JqKTsKICAgIH0KICAgIHZhciBTaXp6bGUgPSA=
oZnVuY3Rpb24gKHdpbmRvdykgewogICAgICAgIHZhciBpLAogICAgICAgICAgICBzdXBwb3J0LA=
ogICAgICAgICAgICBFeHByLAogICAgICAgICAgICBnZXRUZXh0LAogICAgICAgICAgICBpc1hNT=
CwKICAgICAgICAgICAgdG9rZW5pemUsCiAgICAgICAgICAgIGNvbXBpbGUsCiAgICAgICAgICAg=
IHNlbGVjdCwKICAgICAgICAgICAgb3V0ZXJtb3N0Q29udGV4dCwKICAgICAgICAgICAgc29ydEl=
ucHV0LAogICAgICAgICAgICBoYXNEdXBsaWNhdGUsCiAgICAgICAgICAgIHNldERvY3VtZW50LA=
ogICAgICAgICAgICBkb2N1bWVudCwKICAgICAgICAgICAgZG9jRWxlbSwKICAgICAgICAgICAgZ=
G9jdW1lbnRJc0hUTUwsCiAgICAgICAgICAgIHJidWdneVFTQSwKICAgICAgICAgICAgcmJ1Z2d5=
TWF0Y2hlcywKICAgICAgICAgICAgbWF0Y2hlcywKICAgICAgICAgICAgY29udGFpbnMsCiAgICA=
gICAgICAgIGV4cGFuZG8gPSAic2l6emxlIiArIDEgKiBuZXcgRGF0ZSgpLAogICAgICAgICAgIC=
BwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsCiAgICAgICAgICAgIGRpcnJ1bnMgPSAwL=
AogICAgICAgICAgICBkb25lID0gMCwKICAgICAgICAgICAgY2xhc3NDYWNoZSA9IGNyZWF0ZUNh=
Y2hlKCksCiAgICAgICAgICAgIHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLAogICAgICAgICA=
gICBjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwKICAgICAgICAgICAgbm9ubmF0aXZlU2=
VsZWN0b3JDYWNoZSA9IGNyZWF0ZUNhY2hlKCksCiAgICAgICAgICAgIHNvcnRPcmRlciA9IGZ1b=
mN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICBpZiAoYSA9PT0gYikgewogICAgICAgICAg=
ICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICA=
gICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFzT3duID0ge3=
0uaGFzT3duUHJvcGVydHksCiAgICAgICAgICAgIGFyciA9IFtdLAogICAgICAgICAgICBwb3AgP=
SBhcnIucG9wLAogICAgICAgICAgICBwdXNoTmF0aXZlID0gYXJyLnB1c2gsCiAgICAgICAgICAg=
IHB1c2ggPSBhcnIucHVzaCwKICAgICAgICAgICAgc2xpY2UgPSBhcnIuc2xpY2UsCiAgICAgICA=
gICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobGlzdCwgZWxlbSkgewogICAgICAgICAgICAgICAgdm=
FyIGkgPSAwLAogICAgICAgICAgICAgICAgICAgIGxlbiA9IGxpc3QubGVuZ3RoOwogICAgICAgI=
CAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChs=
aXN0W2ldID09PSBlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpOwogICA=
gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldH=
VybiAtMTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9vbGVhbnMgPSAiY2hlY2tlZHxzZ=
WxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8=
aGlkZGVufCIgKyAiaXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHN=
jb3BlZCIsCiAgICAgICAgICAgIHdoaXRlc3BhY2UgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsCi=
AgICAgICAgICAgIGlkZW50aWZpZXIgPSAiKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iICsgd2hpd=
GVzcGFjZSArICI/fFxcXFxbXlxcclxcblxcZl18W1xcdy1dfFteXDAtXFx4N2ZdKSsiLAogICAg=
ICAgICAgICBhdHRyaWJ1dGVzID0gIlxcWyIgKyB3aGl0ZXNwYWNlICsgIiooIiArIGlkZW50aWZ=
pZXIgKyAiKSg/OiIgKyB3aGl0ZXNwYWNlICsgIiooWypeJHwhfl0/PSkiICsgd2hpdGVzcGFjZS=
ArICIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopX=
CJ8KCIgKyBpZGVudGlmaWVyICsgIikpfCkiICsgd2hpdGVzcGFjZSArICIqXFxdIiwKICAgICAg=
ICAgICAgcHNldWRvcyA9ICI6KCIgKyBpZGVudGlmaWVyICsgIikoPzpcXCgoIiArICIoJygoPzp=
cXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCIgKyAiKCg/Ol=
xcXFwufFteXFxcXCgpW1xcXV18IiArIGF0dHJpYnV0ZXMgKyAiKSopfCIgKyAiLioiICsgIilcX=
Cl8KSIsCiAgICAgICAgICAgIHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCh3aGl0ZXNwYWNlICsg=
IisiLCAiZyIpLAogICAgICAgICAgICBydHJpbSA9IG5ldyBSZWdFeHAoIl4iICsgd2hpdGVzcGF=
jZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgd2hpdGVzcGFjZSArICIrJCIsIC=
JnIiksCiAgICAgICAgICAgIHJjb21tYSA9IG5ldyBSZWdFeHAoIl4iICsgd2hpdGVzcGFjZSArI=
CIqLCIgKyB3aGl0ZXNwYWNlICsgIioiKSwKICAgICAgICAgICAgcmxlYWRpbmdDb21iaW5hdG9y=
ID0gbmV3IFJlZ0V4cCgiXiIgKyB3aGl0ZXNwYWNlICsgIiooWz4rfl18IiArIHdoaXRlc3BhY2U=
gKyAiKSIgKyB3aGl0ZXNwYWNlICsgIioiKSwKICAgICAgICAgICAgcmRlc2NlbmQgPSBuZXcgUm=
VnRXhwKHdoaXRlc3BhY2UgKyAifD4iKSwKICAgICAgICAgICAgcnBzZXVkbyA9IG5ldyBSZWdFe=
HAocHNldWRvcyksCiAgICAgICAgICAgIHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCgiXiIgKyBp=
ZGVudGlmaWVyICsgIiQiKSwKICAgICAgICAgICAgbWF0Y2hFeHByID0gewogICAgICAgICAgICA=
gICAgSUQ6IG5ldyBSZWdFeHAoIl4jKCIgKyBpZGVudGlmaWVyICsgIikiKSwKICAgICAgICAgIC=
AgICAgIENMQVNTOiBuZXcgUmVnRXhwKCJeXFwuKCIgKyBpZGVudGlmaWVyICsgIikiKSwKICAgI=
CAgICAgICAgICAgIFRBRzogbmV3IFJlZ0V4cCgiXigiICsgaWRlbnRpZmllciArICJ8WypdKSIp=
LAogICAgICAgICAgICAgICAgQVRUUjogbmV3IFJlZ0V4cCgiXiIgKyBhdHRyaWJ1dGVzKSwKICA=
gICAgICAgICAgICAgIFBTRVVETzogbmV3IFJlZ0V4cCgiXiIgKyBwc2V1ZG9zKSwKICAgICAgIC=
AgICAgICAgIENISUxEOiBuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sY=
XN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiICsgd2hpdGVzcGFjZSArICIqKGV2ZW58b2RkfCgo=
WystXXwpKFxcZCopbnwpIiArIHdoaXRlc3BhY2UgKyAiKig/OihbKy1dfCkiICsgd2hpdGVzcGF=
jZSArICIqKFxcZCspfCkpIiArIHdoaXRlc3BhY2UgKyAiKlxcKXwpIiwgImkiKSwKICAgICAgIC=
AgICAgICAgIGJvb2w6IG5ldyBSZWdFeHAoIl4oPzoiICsgYm9vbGVhbnMgKyAiKSQiLCAiaSIpL=
AogICAgICAgICAgICAgICAgbmVlZHNDb250ZXh0OiBuZXcgUmVnRXhwKCJeIiArIHdoaXRlc3Bh=
Y2UgKyAiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIiA=
rIHdoaXRlc3BhY2UgKyAiKigoPzotXFxkKT9cXGQqKSIgKyB3aGl0ZXNwYWNlICsgIipcXCl8KS=
g/PVteLV18JCkiLCAiaSIpLAogICAgICAgICAgICB9LAogICAgICAgICAgICByaHRtbCA9IC9IV=
E1MJC9pLAogICAgICAgICAgICByaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8=
YnV0dG9uKSQvaSwKICAgICAgICAgICAgcmhlYWRlciA9IC9eaFxkJC9pLAogICAgICAgICAgICB=
ybmF0aXZlID0gL15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLAogICAgICAgICAgICBycXVpY2tFeH=
ByID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLywKICAgICAgICAgICAgcnNpY=
mxpbmcgPSAvWyt+XS8sCiAgICAgICAgICAgIHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoIlxcXFxb=
XFxkYS1mQS1GXXsxLDZ9IiArIHdoaXRlc3BhY2UgKyAiP3xcXFxcKFteXFxyXFxuXFxmXSkiLCA=
iZyIpLAogICAgICAgICAgICBmdW5lc2NhcGUgPSBmdW5jdGlvbiAoZXNjYXBlLCBub25IZXgpIH=
sKICAgICAgICAgICAgICAgIHZhciBoaWdoID0gIjB4IiArIGVzY2FwZS5zbGljZSgxKSAtIDB4M=
TAwMDA7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9uSGV4ID8gbm9uSGV4IDogaGlnaCA8IDAg=
PyBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpZ2ggKyAweDEwMDAwKSA6IFN0cmluZy5mcm9tQ2hhckN=
vZGUoKGhpZ2ggPj4gMTApIHwgMHhkODAwLCAoaGlnaCAmIDB4M2ZmKSB8IDB4ZGMwMCk7CiAgIC=
AgICAgICAgIH0sCiAgICAgICAgICAgIHJjc3Nlc2NhcGUgPSAvKFtcMC1ceDFmXHg3Zl18Xi0/X=
GQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZywKICAgICAgICAgICAgZmNzc2VzY2Fw=
ZSA9IGZ1bmN0aW9uIChjaCwgYXNDb2RlUG9pbnQpIHsKICAgICAgICAgICAgICAgIGlmIChhc0N=
vZGVQb2ludCkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gIlwwIikgewogICAgIC=
AgICAgICAgICAgICAgICAgICByZXR1cm4gIlx1RkZGRCI7CiAgICAgICAgICAgICAgICAgICAgf=
QogICAgICAgICAgICAgICAgICAgIHJldHVybiBjaC5zbGljZSgwLCAtMSkgKyAiXFwiICsgY2gu=
Y2hhckNvZGVBdChjaC5sZW5ndGggLSAxKS50b1N0cmluZygxNikgKyAiICI7CiAgICAgICAgICA=
gICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gIlxcIiArIGNoOwogICAgICAgICAgICB9LA=
ogICAgICAgICAgICB1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgI=
CAgc2V0RG9jdW1lbnQoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5EaXNhYmxlZEZp=
ZWxkc2V0ID0gYWRkQ29tYmluYXRvcigKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtKSB=
7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgZW=
xlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAiZmllbGRzZXQiOwogICAgICAgICAgICAgI=
CAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBkaXI6ICJwYXJlbnRO=
b2RlIiwKICAgICAgICAgICAgICAgICAgICBuZXh0OiAibGVnZW5kIgogICAgICAgICAgICAgICA=
gfQogICAgICAgICAgICApOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHB1c2guYXBwbHkoKG=
FyciA9IHNsaWNlLmNhbGwocHJlZmVycmVkRG9jLmNoaWxkTm9kZXMpKSwgcHJlZmVycmVkRG9jL=
mNoaWxkTm9kZXMpOwogICAgICAgICAgICBhcnJbcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVu=
Z3RoXS5ub2RlVHlwZTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHB1c2ggPSB=
7CiAgICAgICAgICAgICAgICBhcHBseTogYXJyLmxlbmd0aCA/CiAgICAgICAgICAgICAgICAgIC=
AgZnVuY3Rpb24gKHRhcmdldCwgZWxzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hOY=
XRpdmUuYXBwbHkodGFyZ2V0LCBzbGljZS5jYWxsKGVscykpOwogICAgICAgICAgICAgICAgICAg=
IH0gOgogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh0YXJnZXQsIGVscykgewogICAgICA=
gICAgICAgICAgICAgICAgICB2YXIgaiA9IHRhcmdldC5sZW5ndGgsCiAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICBpID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCh0YXJnZ=
XRbaisrXSA9IGVsc1tpKytdKSkgeyB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5s=
ZW5ndGggPSBqIC0gMTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwogICA=
gICAgIH0KCiAgICAgICAgZnVuY3Rpb24gU2l6emxlKHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bH=
RzLCBzZWVkKSB7CiAgICAgICAgICAgIHZhciBtLAogICAgICAgICAgICAgICAgaSwKICAgICAgI=
CAgICAgICAgIGVsZW0sCiAgICAgICAgICAgICAgICBuaWQsCiAgICAgICAgICAgICAgICBtYXRj=
aCwKICAgICAgICAgICAgICAgIGdyb3VwcywKICAgICAgICAgICAgICAgIG5ld1NlbGVjdG9yLAo=
gICAgICAgICAgICAgICAgbmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3=
VtZW50LAogICAgICAgICAgICAgICAgbm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlV=
HlwZSA6IDk7CiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwogICAgICAgICAg=
ICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAic3RyaW5nIiB8fCAhc2VsZWN0b3IgfHwgKG5vZGV=
UeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSkpIHsKICAgIC=
AgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmI=
Cghc2VlZCkgewogICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoY29udGV4dCk7CiAgICAgICAg=
ICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDsKICAgICAgICAgICAgICAgIGl=
mIChkb2N1bWVudElzSFRNTCkgewogICAgICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSAhPT=
0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKHNlbGVjdG9yKSkpIHsKICAgICAgICAgI=
CAgICAgICAgICAgICAgaWYgKChtID0gbWF0Y2hbMV0pKSB7CiAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICBpZiAobm9kZVR5cGUgPT09IDkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICBpZiAoKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKG0pKSkgewogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pZCA9PT0gbSkgewogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGVsZW0pOwogICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZ=
XR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgIGlmIChuZXdDb250ZXh0ICYmIChlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZC=
htKSkgJiYgY29udGFpbnMoY29udGV4dCwgZWxlbSkgJiYgZWxlbS5pZCA9PT0gbSkgewogICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZWxlbSk7CiAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFsyXSkgewogICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRz=
QnlUYWdOYW1lKHNlbGVjdG9yKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4=
gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgobSA9IG1hdGNoWz=
NdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgY29udGV4dC5nZXRFbGVtZ=
W50c0J5Q2xhc3NOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5=
KHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShtKSk7CiAgICAgICAgICA=
gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgIC=
AgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoc3VwcG9yd=
C5xc2EgJiYgIW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbc2VsZWN0b3IgKyAiICJdICYmICghcmJ1=
Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdChzZWxlY3RvcikpICYmIChub2RlVHlwZSAhPT0gMSB=
8fCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICJvYmplY3QiKSkgewogICAgIC=
AgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvciA9IHNlbGVjdG9yOwogICAgICAgICAgICAgI=
CAgICAgICAgICBuZXdDb250ZXh0ID0gY29udGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAg=
aWYgKG5vZGVUeXBlID09PSAxICYmIChyZGVzY2VuZC50ZXN0KHNlbGVjdG9yKSB8fCBybGVhZGl=
uZ0NvbWJpbmF0b3IudGVzdChzZWxlY3RvcikpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICBuZXdDb250ZXh0ID0gKHJzaWJsaW5nLnRlc3Qoc2VsZWN0b3IpICYmIHRlc3RDb250ZXh0K=
GNvbnRleHQucGFyZW50Tm9kZSkpIHx8IGNvbnRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICBpZiAobmV3Q29udGV4dCAhPT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSkgewogICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobmlkID0gY29udGV4dC5nZXRBdHRyaW=
J1dGUoImlkIikpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pZCA9I=
G5pZC5yZXBsYWNlKHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUpOwogICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gIGNvbnRleHQuc2V0QXR0cmlidXRlKCJpZCIsIChuaWQgPSBleHBhbmRvKSk7CiAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzID0gdG9rZW5pemUoc2VsZWN0b3IpOwog=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGdyb3Vwcy5sZW5ndGg7CiAgICAgICAgICA=
gICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgZ3JvdXBzW2ldID0gKG5pZCA/ICIjIiArIG5pZCA6ICI6c2NvcGUiKSArICIgIiArI=
HRvU2VsZWN0b3IoZ3JvdXBzW2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIiwiKTs=
KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0cnkgew=
ogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBuZXdDb250Z=
Xh0LnF1ZXJ5U2VsZWN0b3JBbGwobmV3U2VsZWN0b3IpKTsKICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICh=
xc2FFcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ubmF0aXZlU2VsZWN0b3=
JDYWNoZShzZWxlY3RvciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxse=
SB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmlkID09PSBleHBhbmRvKSB7CiAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIml=
kIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIC=
AgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgI=
H0KICAgICAgICAgICAgcmV0dXJuIHNlbGVjdChzZWxlY3Rvci5yZXBsYWNlKHJ0cmltLCAiJDEi=
KSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB=
jcmVhdGVDYWNoZSgpIHsKICAgICAgICAgICAgdmFyIGtleXMgPSBbXTsKCiAgICAgICAgICAgIG=
Z1bmN0aW9uIGNhY2hlKGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChrZXlzLnB1c=
2goa2V5ICsgIiAiKSA+IEV4cHIuY2FjaGVMZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBk=
ZWxldGUgY2FjaGVba2V5cy5zaGlmdCgpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICA=
gICAgIHJldHVybiAoY2FjaGVba2V5ICsgIiAiXSA9IHZhbHVlKTsKICAgICAgICAgICAgfQogIC=
AgICAgICAgICByZXR1cm4gY2FjaGU7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtYXJrR=
nVuY3Rpb24oZm4pIHsKICAgICAgICAgICAgZm5bZXhwYW5kb10gPSB0cnVlOwogICAgICAgICAg=
ICByZXR1cm4gZm47CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhc3NlcnQoZm4pIHsKICA=
gICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTsKIC=
AgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiAhIWZuKGVsKTsKICAgICAgI=
CAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAg=
ICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgaWYgKGVsLnBhcmVudE5vZGUpIHsKICA=
gICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgIC=
AgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsID0gbnVsbDsKICAgICAgICAgICAgfQogICAgI=
CAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkSGFuZGxlKGF0dHJzLCBoYW5kbGVyKSB7CiAgICAg=
ICAgICAgIHZhciBhcnIgPSBhdHRycy5zcGxpdCgifCIpLAogICAgICAgICAgICAgICAgaSA9IGF=
yci5sZW5ndGg7CiAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgIEV4cH=
IuYXR0ckhhbmRsZVthcnJbaV1dID0gaGFuZGxlcjsKICAgICAgICAgICAgfQogICAgICAgIH0KC=
iAgICAgICAgZnVuY3Rpb24gc2libGluZ0NoZWNrKGEsIGIpIHsKICAgICAgICAgICAgdmFyIGN1=
ciA9IGIgJiYgYSwKICAgICAgICAgICAgICAgIGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0=
gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmIGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4Ow=
ogICAgICAgICAgICBpZiAoZGlmZikgewogICAgICAgICAgICAgICAgcmV0dXJuIGRpZmY7CiAgI=
CAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGN1cikgewogICAgICAgICAgICAgICAgd2hpbGUg=
KChjdXIgPSBjdXIubmV4dFNpYmxpbmcpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ciA=
9PT0gYikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIC=
AgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJld=
HVybiBhID8gMSA6IC0xOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5wdXRQ=
c2V1ZG8odHlwZSkgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHsKICAgICA=
gICAgICAgICAgIHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgIC=
AgICAgICAgICAgcmV0dXJuIG5hbWUgPT09ICJpbnB1dCIgJiYgZWxlbS50eXBlID09PSB0eXBlO=
wogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9u=
UHNldWRvKHR5cGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7CiAgICA=
gICAgICAgICAgICB2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC=
AgICAgICAgICAgIHJldHVybiAobmFtZSA9PT0gImlucHV0IiB8fCBuYW1lID09PSAiYnV0dG9uI=
ikgJiYgZWxlbS50eXBlID09PSB0eXBlOwogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAg=
ICAgZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oZGlzYWJsZWQpIHsKICAgICAgICAgICA=
gcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICBpZiAoImZvcm0iIGluIG=
VsZW0pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZ=
GlzYWJsZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgibGFiZWwi=
IGluIGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgibGFiZWwiIGluIGV=
sZW0ucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybi=
BlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkOwogICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1=
cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICA=
gICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcm=
V0dXJuIGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHwgKGVsZW0uaXNEaXNhYmxlZCAhP=
T0gIWRpc2FibGVkICYmIGluRGlzYWJsZWRGaWVsZHNldChlbGVtKSA9PT0gZGlzYWJsZWQpOwog=
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kaXN=
hYmxlZCA9PT0gZGlzYWJsZWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCJsYWJlbCIgaW=
4gZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSBka=
XNhYmxlZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsK=
ICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9=
uYWxQc2V1ZG8oZm4pIHsKICAgICAgICAgICAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbi=
AoYXJndW1lbnQpIHsKICAgICAgICAgICAgICAgIGFyZ3VtZW50ID0gK2FyZ3VtZW50OwogICAgI=
CAgICAgICAgICAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VlZCwgbWF0Y2hlcykg=
ewogICAgICAgICAgICAgICAgICAgIHZhciBqLAogICAgICAgICAgICAgICAgICAgICAgICBtYXR=
jaEluZGV4ZXMgPSBmbihbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50KSwKICAgICAgICAgICAgIC=
AgICAgICAgICAgaSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgd=
2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VlZFsoaiA9IG1hdGNo=
SW5kZXhlc1tpXSldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVkW2pdID0gISh=
tYXRjaGVzW2pdID0gc2VlZFtqXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgIC=
AgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgI=
CAgfQoKICAgICAgICBmdW5jdGlvbiB0ZXN0Q29udGV4dChjb250ZXh0KSB7CiAgICAgICAgICAg=
IHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE=
9PSAidW5kZWZpbmVkIiAmJiBjb250ZXh0OwogICAgICAgIH0KICAgICAgICBzdXBwb3J0ID0gU2=
l6emxlLnN1cHBvcnQgPSB7fTsKICAgICAgICBpc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0a=
W9uIChlbGVtKSB7CiAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBlbGVtICYmIGVsZW0ubmFt=
ZXNwYWNlVVJJLAogICAgICAgICAgICAgICAgZG9jRWxlbSA9IGVsZW0gJiYgKGVsZW0ub3duZXJ=
Eb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgICAgIHJldHVybiAhcm=
h0bWwudGVzdChuYW1lc3BhY2UgfHwgKGRvY0VsZW0gJiYgZG9jRWxlbS5ub2RlTmFtZSkgfHwgI=
khUTUwiKTsKICAgICAgICB9OwogICAgICAgIHNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3Vt=
ZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgdmFyIGhhc0NvbXBhcmUsCiAgICA=
gICAgICAgICAgICBzdWJXaW5kb3csCiAgICAgICAgICAgICAgICBkb2MgPSBub2RlID8gbm9kZS=
5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7CiAgICAgICAgICAgIGlmIChkb=
2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVt=
ZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQ7CiAgICAgICAgICAgIH0KICA=
gICAgICAgICAgZG9jdW1lbnQgPSBkb2M7CiAgICAgICAgICAgIGRvY0VsZW0gPSBkb2N1bWVudC=
5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgICAgIGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKGRvY=
3VtZW50KTsKICAgICAgICAgICAgaWYgKHByZWZlcnJlZERvYyAhPSBkb2N1bWVudCAmJiAoc3Vi=
V2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1Yld=
pbmRvdykgewogICAgICAgICAgICAgICAgaWYgKHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKS=
B7CiAgICAgICAgICAgICAgICAgICAgc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZ=
CIsIHVubG9hZEhhbmRsZXIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3Vi=
V2luZG93LmF0dGFjaEV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgc3ViV2luZG93LmF0dGF=
jaEV2ZW50KCJvbnVubG9hZCIsIHVubG9hZEhhbmRsZXIpOwogICAgICAgICAgICAgICAgfQogIC=
AgICAgICAgICB9CiAgICAgICAgICAgIHN1cHBvcnQuc2NvcGUgPSBhc3NlcnQoZnVuY3Rpb24gK=
GVsKSB7CiAgICAgICAgICAgICAgICBkb2NFbGVtLmFwcGVuZENoaWxkKGVsKS5hcHBlbmRDaGls=
ZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7CiAgICAgICAgICAgICAgICByZXR1cm4=
gdHlwZW9mIGVsLnF1ZXJ5U2VsZWN0b3JBbGwgIT09ICJ1bmRlZmluZWQiICYmICFlbC5xdWVyeV=
NlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RoOwogICAgICAgICAgICB9K=
TsKICAgICAgICAgICAgc3VwcG9ydC5jc3NIYXMgPSBhc3NlcnQoZnVuY3Rpb24gKCkgewogICAg=
ICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGV=
jdG9yKCI6aGFzKCosOmpxZmFrZSkiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2=
U7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0d=
XJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBz=
dXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICA=
gICBlbC5jbGFzc05hbWUgPSAiaSI7CiAgICAgICAgICAgICAgICByZXR1cm4gIWVsLmdldEF0dH=
JpYnV0ZSgiY2xhc3NOYW1lIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdXBwb3J0L=
mdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uIChlbCkgewogICAgICAgICAg=
ICAgICAgZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpOwogICAgICA=
gICAgICAgICAgcmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aDsKIC=
AgICAgICAgICAgfSk7CiAgICAgICAgICAgIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZ=
SA9IHJuYXRpdmUudGVzdChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKTsKICAgICAg=
ICAgICAgc3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uIChlbCkgewogICAgICAgICA=
gICAgICAgZG9jRWxlbS5hcHBlbmRDaGlsZChlbCkuaWQgPSBleHBhbmRvOwogICAgICAgICAgIC=
AgICAgcmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0R=
WxlbWVudHNCeU5hbWUoZXhwYW5kbykubGVuZ3RoOwogICAgICAgICAgICB9KTsKICAgICAgICAg=
ICAgaWYgKHN1cHBvcnQuZ2V0QnlJZCkgewogICAgICAgICAgICAgICAgRXhwci5maWx0ZXJbIkl=
EIl0gPSBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cklkID0gaW=
QucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0d=
XJuIGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVt=
LmdldEF0dHJpYnV0ZSgiaWQiKSA9PT0gYXR0cklkOwogICAgICAgICAgICAgICAgICAgIH07CiA=
gICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgRXhwci5maW5kWyJJRCJdID0gZnVuY3=
Rpb24gKGlkLCBjb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250Z=
Xh0LmdldEVsZW1lbnRCeUlkICE9PSAidW5kZWZpbmVkIiAmJiBkb2N1bWVudElzSFRNTCkgewog=
ICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQ=
oaWQpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA/IFtlbGVtXSA6IFtdOw=
ogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZ=
WxzZSB7CiAgICAgICAgICAgICAgICBFeHByLmZpbHRlclsiSUQiXSA9IGZ1bmN0aW9uIChpZCkg=
ewogICAgICAgICAgICAgICAgICAgIHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKHJ1bmVzY2FwZSw=
gZnVuZXNjYXBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIH=
sKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRya=
WJ1dGVOb2RlICE9PSAidW5kZWZpbmVkIiAmJiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7=
CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF=
0dHJJZDsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfTsKICAgICAgIC=
AgICAgICAgIEV4cHIuZmluZFsiSUQiXSA9IGZ1bmN0aW9uIChpZCwgY29udGV4dCkgewogICAgI=
CAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gInVu=
ZGVmaW5lZCIgJiYgZG9jdW1lbnRJc0hUTUwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmF=
yIG5vZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgZWxlbXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gY29ud=
GV4dC5nZXRFbGVtZW50QnlJZChpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVt=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGV=
Ob2RlKCJpZCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS=
52YWx1ZSA9PT0gaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW=
2VsZW1dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgZWxlbXMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlOYW1lKGlkKTsKICAgICAgICA=
gICAgICAgICAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2=
hpbGUgKChlbGVtID0gZWxlbXNbaSsrXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICBub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpOwogICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUudmFsdWUgPT09IGlkKSB7CiAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZWxlbV07CiAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgI=
CAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsK=
ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiA=
gICAgICAgICAgIEV4cHIuZmluZFsiVEFHIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW=
1lID8KICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh0YWcsIGNvbnRleHQpIHsKICAgICAgICAgI=
CAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1=
bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmdldEV=
sZW1lbnRzQnlUYWdOYW1lKHRhZyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdX=
Bwb3J0LnFzYSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5xdWVye=
VNlbGVjdG9yQWxsKHRhZyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg=
fSA6CiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodGFnLCBjb250ZXh0KSB7CiAgICAgICAgICA=
gICAgICAgICAgdmFyIGVsZW0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IFtdLAogIC=
AgICAgICAgICAgICAgICAgICAgICBpID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVzd=
Wx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTsKICAgICAgICAgICAgICAg=
ICAgICBpZiAodGFnID09PSAiKiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCh=
lbGVtID0gcmVzdWx0c1tpKytdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG=
VsZW0ubm9kZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b=
XAucHVzaChlbGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg=
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wOwogICAgICA=
gICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgIC=
AgICAgICAgICAgIH07CiAgICAgICAgICAgIEV4cHIuZmluZFsiQ0xBU1MiXSA9CiAgICAgICAgI=
CAgICAgICBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYKICAgICAgICAgICAgICAg=
IGZ1bmN0aW9uIChjbGFzc05hbWUsIGNvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICBpZiA=
odHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gInVuZGVmaW5lZCIgJi=
YgZG9jdW1lbnRJc0hUTUwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRle=
HQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpOwogICAgICAgICAgICAgICAgICAg=
IH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJidWdneU1hdGNoZXMgPSBbXTsKICA=
gICAgICAgICAgcmJ1Z2d5UVNBID0gW107CiAgICAgICAgICAgIGlmICgoc3VwcG9ydC5xc2EgPS=
BybmF0aXZlLnRlc3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCkpKSB7CiAgICAgICAgICAgI=
CAgICBhc3NlcnQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0=
OwogICAgICAgICAgICAgICAgICAgIGRvY0VsZW0uYXBwZW5kQ2hpbGQoZWwpLmlubmVySFRNTCA=
9ICI8YSBpZD0nIiArIGV4cGFuZG8gKyAiJz48L2E+IiArICI8c2VsZWN0IGlkPSciICsgZXhwYW=
5kbyArICItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+IiArICI8b3B0aW9uIHNlbGVjdGVkPScnP=
jwvb3B0aW9uPjwvc2VsZWN0PiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnF1ZXJ5U2Vs=
ZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoKSB7CiAgICAgICAgICAgICA=
gICAgICAgICAgIHJidWdneVFTQS5wdXNoKCJbKl4kXT0iICsgd2hpdGVzcGFjZSArICIqKD86Jy=
d8XCJcIikiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgK=
CFlbC5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RoKSB7CiAgICAgICAgICAg=
ICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCJcXFsiICsgd2hpdGVzcGFjZSArICIqKD86dmF=
sdWV8IiArIGJvb2xlYW5zICsgIikiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgIC=
AgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIgKyBleHBhbmRvICsgI=
i1dIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCJ+=
PSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGR=
vY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgICAgICAgICAgICAgaW5wdX=
Quc2V0QXR0cmlidXRlKCJuYW1lIiwgIiIpOwogICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZ=
ENoaWxkKGlucHV0KTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JB=
bGwoIltuYW1lPScnXSIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3l=
RU0EucHVzaCgiXFxbIiArIHdoaXRlc3BhY2UgKyAiKm5hbWUiICsgd2hpdGVzcGFjZSArICIqPS=
IgKyB3aGl0ZXNwYWNlICsgIiooPzonJ3xcIlwiKSIpOwogICAgICAgICAgICAgICAgICAgIH0KI=
CAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIiku=
bGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCI6Y2hlY2t=
lZCIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLn=
F1ZXJ5U2VsZWN0b3JBbGwoImEjIiArIGV4cGFuZG8gKyAiKyoiKS5sZW5ndGgpIHsKICAgICAgI=
CAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goIi4jLitbK35dIik7CiAgICAgICAgICAg=
ICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGY=
iKTsKICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaCgiW1xcclxcblxcZl0iKTsKIC=
AgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgYXNzZXJ0KGZ1bmN0aW9uIChlbCkge=
wogICAgICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9ICI8YSBocmVmPScnIGRpc2FibGVk=
PSdkaXNhYmxlZCc+PC9hPiIgKyAiPHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24=
vPjwvc2VsZWN0PiI7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3=
JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRya=
WJ1dGUoInR5cGUiLCAiaGlkZGVuIik7CiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hp=
bGQoaW5wdXQpLnNldEF0dHJpYnV0ZSgibmFtZSIsICJEIik7CiAgICAgICAgICAgICAgICAgICA=
gaWYgKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoKSB7CiAgICAgICAgIC=
AgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCJuYW1lIiArIHdoaXRlc3BhY2UgKyAiKlsqX=
iR8IX5dPz0iKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYg=
KGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoICE9PSAyKSB7CiAgICAgICA=
gICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCI6ZW5hYmxlZCIsICI6ZGlzYWJsZWQiKT=
sKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZG9jRWxlbS5hcHBlb=
mRDaGlsZChlbCkuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChlbC5x=
dWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGggIT09IDIpIHsKICAgICAgICAgICA=
gICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goIjplbmFibGVkIiwgIjpkaXNhYmxlZCIpOwogIC=
AgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbC5xdWVyeVNlbGVjdG9yQ=
WxsKCIqLDp4Iik7CiAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goIiwuKjoiKTsK=
ICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgoc3VwcG9=
ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoKG1hdGNoZXMgPSBkb2NFbGVtLm1hdG=
NoZXMgfHwgZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZG9jRWxlbS5tb3pNYXRja=
GVzU2VsZWN0b3IgfHwgZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8IGRvY0VsZW0ubXNNYXRj=
aGVzU2VsZWN0b3IpKSkpIHsKICAgICAgICAgICAgICAgIGFzc2VydChmdW5jdGlvbiAoZWwpIHs=
KICAgICAgICAgICAgICAgICAgICBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy=
5jYWxsKGVsLCAiKiIpOwogICAgICAgICAgICAgICAgICAgIG1hdGNoZXMuY2FsbChlbCwgIltzI=
T0nJ106eCIpOwogICAgICAgICAgICAgICAgICAgIHJidWdneU1hdGNoZXMucHVzaCgiIT0iLCBw=
c2V1ZG9zKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGl=
mICghc3VwcG9ydC5jc3NIYXMpIHsKICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCI6aG=
FzIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlb=
md0aCAmJiBuZXcgUmVnRXhwKHJidWdneVFTQS5qb2luKCJ8IikpOwogICAgICAgICAgICByYnVn=
Z3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cChyYnVnZ3lNYXR=
jaGVzLmpvaW4oInwiKSk7CiAgICAgICAgICAgIGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoZG=
9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbik7CiAgICAgICAgICAgIGNvbnRhaW5zID0KI=
CAgICAgICAgICAgICAgIGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KGRvY0VsZW0uY29udGFp=
bnMpID8KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICA=
gICAgICAgICAgICB2YXIgYWRvd24gPSAoYS5ub2RlVHlwZSA9PT0gOSAmJiBhLmRvY3VtZW50RW=
xlbWVudCkgfHwgYSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cCA9IGIgJiYgYi5wY=
XJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA9PT0gYnVwIHx8ICEh=
KGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKGFkb3duLmNvbnRhaW5zID8gYWRvd24uY29=
udGFpbnMoYnVwKSA6IGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW=
1lbnRQb3NpdGlvbihidXApICYgMTYpKTsKICAgICAgICAgICAgICAgICAgICB9IDoKICAgICAgI=
CAgICAgICAgICAgICBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICAgICAgICBp=
ZiAoYikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChiID0gYi5wYXJlbnR=
Ob2RlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiID09PSBhKSB7Ci=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0K=
ICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4=
gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgc29ydE9yZGVyID0gaG=
FzQ29tcGFyZSA/CiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgI=
CAgICAgICAgIGlmIChhID09PSBiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0R1cGxp=
Y2F0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFyZSA9ICFhLmNvbXBhcm=
VEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247CiAgICAgICAgI=
CAgICAgICAgICAgaWYgKGNvbXBhcmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu=
IGNvbXBhcmU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbXB=
hcmUgPSAoYS5vd25lckRvY3VtZW50IHx8IGEpID09IChiLm93bmVyRG9jdW1lbnQgfHwgYikgPy=
BhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpIDogMTsKICAgICAgICAgICAgICAgICAgICBpZ=
iAoY29tcGFyZSAmIDEgfHwgKCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1=
bWVudFBvc2l0aW9uKGEpID09PSBjb21wYXJlKSkgewogICAgICAgICAgICAgICAgICAgICAgICB=
pZiAoYSA9PSBkb2N1bWVudCB8fCAoYS5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJi=
Bjb250YWlucyhwcmVmZXJyZWREb2MsIGEpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAg=
ICAgICAgIGlmIChiID09IGRvY3VtZW50IHx8IChiLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmV=
kRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikpKSB7CiAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgI=
CAgICAgICAgICAgICByZXR1cm4gc29ydElucHV0ID8gaW5kZXhPZihzb3J0SW5wdXQsIGEpIC0g=
aW5kZXhPZihzb3J0SW5wdXQsIGIpIDogMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICA=
gICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxOwogICAgICAgICAgICAgIC=
AgfSA6CiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgI=
CAgIGlmIChhID09PSBiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9=
IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICAgICA=
gICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgY3VyLAogICAgICAgICAgICAgICAgICAgIC=
AgICBpID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgYXVwID0gYS5wYXJlbnROb2RlLAogI=
CAgICAgICAgICAgICAgICAgICAgICBidXAgPSBiLnBhcmVudE5vZGUsCiAgICAgICAgICAgICAg=
ICAgICAgICAgIGFwID0gW2FdLAogICAgICAgICAgICAgICAgICAgICAgICBicCA9IFtiXTsKICA=
gICAgICAgICAgICAgICAgICBpZiAoIWF1cCB8fCAhYnVwKSB7CiAgICAgICAgICAgICAgICAgIC=
AgICAgIHJldHVybiBhID09IGRvY3VtZW50ID8gLTEgOiBiID09IGRvY3VtZW50ID8gMSA6IGF1c=
CA/IC0xIDogYnVwID8gMSA6IHNvcnRJbnB1dCA/IGluZGV4T2Yoc29ydElucHV0LCBhKSAtIGlu=
ZGV4T2Yoc29ydElucHV0LCBiKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh=
hdXAgPT09IGJ1cCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZ0NoZW=
NrKGEsIGIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjdXIgP=
SBhOwogICAgICAgICAgICAgICAgICAgIHdoaWxlICgoY3VyID0gY3VyLnBhcmVudE5vZGUpKSB7=
CiAgICAgICAgICAgICAgICAgICAgICAgIGFwLnVuc2hpZnQoY3VyKTsKICAgICAgICAgICAgICA=
gICAgICB9CiAgICAgICAgICAgICAgICAgICAgY3VyID0gYjsKICAgICAgICAgICAgICAgICAgIC=
B3aGlsZSAoKGN1ciA9IGN1ci5wYXJlbnROb2RlKSkgewogICAgICAgICAgICAgICAgICAgICAgI=
CBicC51bnNoaWZ0KGN1cik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg=
ICAgIHdoaWxlIChhcFtpXSA9PT0gYnBbaV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaSs=
rOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSA/IH=
NpYmxpbmdDaGVjayhhcFtpXSwgYnBbaV0pIDogYXBbaV0gPT0gcHJlZmVycmVkRG9jID8gLTEgO=
iBicFtpXSA9PSBwcmVmZXJyZWREb2MgPyAxIDogMDsKICAgICAgICAgICAgICAgIH07CiAgICAg=
ICAgICAgIHJldHVybiBkb2N1bWVudDsKICAgICAgICB9OwogICAgICAgIFNpenpsZS5tYXRjaGV=
zID0gZnVuY3Rpb24gKGV4cHIsIGVsZW1lbnRzKSB7CiAgICAgICAgICAgIHJldHVybiBTaXp6bG=
UoZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMpOwogICAgICAgIH07CiAgICAgICAgU2l6emxlL=
m1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uIChlbGVtLCBleHByKSB7CiAgICAgICAgICAgIHNl=
dERvY3VtZW50KGVsZW0pOwogICAgICAgICAgICBpZiAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3I=
gJiYgZG9jdW1lbnRJc0hUTUwgJiYgIW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbZXhwciArICIgIl=
0gJiYgKCFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoZXhwcikpICYmICghc=
mJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdChleHByKSkpIHsKICAgICAgICAgICAgICAgIHRy=
eSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IG1hdGNoZXMuY2FsbChlbGVtLCBleHB=
yKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTW=
F0Y2ggfHwgKGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEpK=
SB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgICAgICAgICAg=
ICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIG5=
vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoZXhwciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgIC=
AgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFNpenpsZShleHByLCBkb2N1bWVudCwgbnVsb=
CwgW2VsZW1dKS5sZW5ndGggPiAwOwogICAgICAgIH07CiAgICAgICAgU2l6emxlLmNvbnRhaW5z=
ID0gZnVuY3Rpb24gKGNvbnRleHQsIGVsZW0pIHsKICAgICAgICAgICAgaWYgKChjb250ZXh0Lm9=
3bmVyRG9jdW1lbnQgfHwgY29udGV4dCkgIT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgIH=
NldERvY3VtZW50KGNvbnRleHQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBjb=
250YWlucyhjb250ZXh0LCBlbGVtKTsKICAgICAgICB9OwogICAgICAgIFNpenpsZS5hdHRyID0g=
ZnVuY3Rpb24gKGVsZW0sIG5hbWUpIHsKICAgICAgICAgICAgaWYgKChlbGVtLm93bmVyRG9jdW1=
lbnQgfHwgZWxlbSkgIT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgIHNldERvY3VtZW50KG=
VsZW0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBmbiA9IEV4cHIuYXR0ckhhbmRsZ=
VtuYW1lLnRvTG93ZXJDYXNlKCldLAogICAgICAgICAgICAgICAgdmFsID0gZm4gJiYgaGFzT3du=
LmNhbGwoRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkpID8gZm4oZWxlbSwgbmF=
tZSwgIWRvY3VtZW50SXNIVE1MKSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgcmV0dXJuIHZhbC=
AhPT0gdW5kZWZpbmVkID8gdmFsIDogc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzS=
FRNTCA/IGVsZW0uZ2V0QXR0cmlidXRlKG5hbWUpIDogKHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRl=
Tm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/IHZhbC52YWx1ZSA6IG51bGw7CiAgICAgICA=
gfTsKICAgICAgICBTaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24gKHNlbCkgewogICAgICAgICAgIC=
ByZXR1cm4gKHNlbCArICIiKS5yZXBsYWNlKHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUpOwogICAgI=
CAgIH07CiAgICAgICAgU2l6emxlLmVycm9yID0gZnVuY3Rpb24gKG1zZykgewogICAgICAgICAg=
ICB0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb24=
6ICIgKyBtc2cpOwogICAgICAgIH07CiAgICAgICAgU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdG=
lvbiAocmVzdWx0cykgewogICAgICAgICAgICB2YXIgZWxlbSwKICAgICAgICAgICAgICAgIGR1c=
GxpY2F0ZXMgPSBbXSwKICAgICAgICAgICAgICAgIGogPSAwLAogICAgICAgICAgICAgICAgaSA9=
IDA7CiAgICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM=
7CiAgICAgICAgICAgIHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy=
5zbGljZSgwKTsKICAgICAgICAgICAgcmVzdWx0cy5zb3J0KHNvcnRPcmRlcik7CiAgICAgICAgI=
CAgIGlmIChoYXNEdXBsaWNhdGUpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IHJl=
c3VsdHNbaSsrXSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSA9PT0gcmVzdWx0c1t=
pXSkgewogICAgICAgICAgICAgICAgICAgICAgICBqID0gZHVwbGljYXRlcy5wdXNoKGkpOwogIC=
AgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoa=
WxlIChqLS0pIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnNwbGljZShkdXBsaWNhdGVz=
W2pdLCAxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzb3J=
0SW5wdXQgPSBudWxsOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICB9OwogIC=
AgICAgIGdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgI=
CAgICAgIHZhciBub2RlLAogICAgICAgICAgICAgICAgcmV0ID0gIiIsCiAgICAgICAgICAgICAg=
ICBpID0gMCwKICAgICAgICAgICAgICAgIG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTsKICAgICA=
gICAgICAgaWYgKCFub2RlVHlwZSkgewogICAgICAgICAgICAgICAgd2hpbGUgKChub2RlID0gZW=
xlbVtpKytdKSkgewogICAgICAgICAgICAgICAgICAgIHJldCArPSBnZXRUZXh0KG5vZGUpOwogI=
CAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVUeXBlID09PSAxIHx8=
IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSkgewogICAgICAgICAgICAgICAgaWY=
gKHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSAic3RyaW5nIikgewogICAgICAgICAgICAgIC=
AgICAgIHJldHVybiBlbGVtLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKI=
CAgICAgICAgICAgICAgICAgICBmb3IgKGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVs=
ZW0gPSBlbGVtLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldCArPSB=
nZXRUZXh0KGVsZW0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCkge=
wogICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0ubm9kZVZhbHVlOwogICAgICAgICAgICB9CiAg=
ICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfTsKICAgICAgICBFeHByID0gU2l6emxlLnN=
lbGVjdG9ycyA9IHsKICAgICAgICAgICAgY2FjaGVMZW5ndGg6IDUwLAogICAgICAgICAgICBjcm=
VhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbiwKICAgICAgICAgICAgbWF0Y2g6IG1hdGNoRXhwciwKI=
CAgICAgICAgICAgYXR0ckhhbmRsZToge30sCiAgICAgICAgICAgIGZpbmQ6IHt9LAogICAgICAg=
ICAgICByZWxhdGl2ZTogewogICAgICAgICAgICAgICAgIj4iOiB7CiAgICAgICAgICAgICAgICA=
gICAgZGlyOiAicGFyZW50Tm9kZSIsCiAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHRydWUKIC=
AgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiICI6IHsKICAgICAgICAgICAgICAgI=
CAgICBkaXI6ICJwYXJlbnROb2RlIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAg=
ICIrIjogewogICAgICAgICAgICAgICAgICAgIGRpcjogInByZXZpb3VzU2libGluZyIsCiAgICA=
gICAgICAgICAgICAgICAgZmlyc3Q6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgIC=
AgICAgICAifiI6IHsKICAgICAgICAgICAgICAgICAgICBkaXI6ICJwcmV2aW91c1NpYmxpbmciC=
iAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByZUZpbHRlcjog=
ewogICAgICAgICAgICAgICAgQVRUUjogZnVuY3Rpb24gKG1hdGNoKSB7CiAgICAgICAgICAgICA=
gICAgICAgbWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKT=
sKICAgICAgICAgICAgICAgICAgICBtYXRjaFszXSA9IChtYXRjaFszXSB8fCBtYXRjaFs0XSB8f=
CBtYXRjaFs1XSB8fCAiIikucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7CiAgICAgICAg=
ICAgICAgICAgICAgaWYgKG1hdGNoWzJdID09PSAifj0iKSB7CiAgICAgICAgICAgICAgICAgICA=
gICAgIG1hdGNoWzNdID0gIiAiICsgbWF0Y2hbM10gKyAiICI7CiAgICAgICAgICAgICAgICAgIC=
AgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5zbGljZSgwLCA0KTsKICAgICAgI=
CAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBDSElMRDogZnVuY3Rpb24gKG1hdGNoKSB7CiAg=
ICAgICAgICAgICAgICAgICAgbWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpOwogICA=
gICAgICAgICAgICAgICAgIGlmIChtYXRjaFsxXS5zbGljZSgwLCAzKSA9PT0gIm50aCIpIHsKIC=
AgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaFszXSkgewogICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgU2l6emxlLmVycm9yKG1hdGNoWzBdKTsKICAgICAgICAgICAgICAgICAgICAg=
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFs0XSA9ICsobWF0Y2hbNF0gPyBtYXR=
jaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAobWF0Y2hbM10gPT09ICJldmVuIiB8fCBtYX=
RjaFszXSA9PT0gIm9kZCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbNV0gPSArK=
G1hdGNoWzddICsgbWF0Y2hbOF0gfHwgbWF0Y2hbM10gPT09ICJvZGQiKTsKICAgICAgICAgICAg=
ICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzNdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN=
penpsZS5lcnJvcihtYXRjaFswXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgIC=
AgICAgICAgIHJldHVybiBtYXRjaDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgI=
CBQU0VVRE86IGZ1bmN0aW9uIChtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIHZhciBleGNl=
c3MsCiAgICAgICAgICAgICAgICAgICAgICAgIHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGN=
oWzJdOwogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaEV4cHJbIkNISUxEIl0udGVzdChtYX=
RjaFswXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgI=
CAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFszXSkgewogICAgICAg=
ICAgICAgICAgICAgICAgICBtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8ICIiOwo=
gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KH=
VucXVvdGVkKSAmJiAoZXhjZXNzID0gdG9rZW5pemUodW5xdW90ZWQsIHRydWUpKSAmJiAoZXhjZ=
XNzID0gdW5xdW90ZWQuaW5kZXhPZigiKSIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcykgLSB1=
bnF1b3RlZC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzBdID0gbWF=
0Y2hbMF0uc2xpY2UoMCwgZXhjZXNzKTsKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl=
0gPSB1bnF1b3RlZC5zbGljZSgwLCBleGNlc3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2guc2xpY2UoMCwgMyk7CiAgICAgICAgICAgICAg=
ICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWx0ZXI6IHsKICAgICAgICAgICAgICA=
gIFRBRzogZnVuY3Rpb24gKG5vZGVOYW1lU2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgICAgIC=
B2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc=
2NhcGUpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVOYW1l=
U2VsZWN0b3IgPT09ICIqIiA/CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHs=
KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIC=
AgICAgICAgICB9IDoKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0pIHsKI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0u=
bm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7CiAgICAgICAgICAgICAgICAgICA=
gICAgIH07CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgQ0xBU1M6IGZ1bmN0aW=
9uIChjbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGF0dGVybiA9IGNsYXNzQ=
2FjaGVbY2xhc3NOYW1lICsgIiAiXTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gKAogICAg=
ICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICg=
ocGF0dGVybiA9IG5ldyBSZWdFeHAoIihefCIgKyB3aGl0ZXNwYWNlICsgIikiICsgY2xhc3NOYW=
1lICsgIigiICsgd2hpdGVzcGFjZSArICJ8JCkiKSkgJiYKICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgIGNsYXNzQ2FjaGUoY2xhc3NOYW1lLCBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoKHR5cGVvZiBlbGVtLmN=
sYXNzTmFtZSA9PT0gInN0cmluZyIgJiYgZWxlbS5jbGFzc05hbWUpIHx8ICh0eXBlb2YgZWxlbS=
5nZXRBdHRyaWJ1dGUgIT09ICJ1bmRlZmluZWQiICYmIGVsZW0uZ2V0QXR0cmlidXRlKCJjbGFzc=
yIpKSB8fCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAg=
ICAgICAgICApOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIEFUVFI6IGZ1bmN=
0aW9uIChuYW1lLCBvcGVyYXRvciwgY2hlY2spIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm=
4gZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9I=
FNpenpsZS5hdHRyKGVsZW0sIG5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVz=
dWx0ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVyYXR=
vciA9PT0gIiE9IjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIC=
AgICAgICBpZiAoIW9wZXJhdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1c=
m4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAg=
ICByZXN1bHQgKz0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVyYXRvciA=
9PT0gIj0iID8gcmVzdWx0ID09PSBjaGVjayA6IG9wZXJhdG9yID09PSAiIT0iID8gcmVzdWx0IC=
E9PSBjaGVjayA6IG9wZXJhdG9yID09PSAiXj0iID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoY=
2hlY2spID09PSAwIDogb3BlcmF0b3IgPT09ICIqPSIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhP=
ZihjaGVjaykgPiAtMSA6IG9wZXJhdG9yID09PSAiJD0iID8gY2hlY2sgJiYgcmVzdWx0LnNsaWN=
lKC1jaGVjay5sZW5ndGgpID09PSBjaGVjayA6IG9wZXJhdG9yID09PSAifj0iID8gKCIgIiArIH=
Jlc3VsdC5yZXBsYWNlKHJ3aGl0ZXNwYWNlLCAiICIpICsgIiAiKS5pbmRleE9mKGNoZWNrKSA+I=
C0xIDogb3BlcmF0b3IgPT09ICJ8PSIgPyByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGlj=
ZSgwLCBjaGVjay5sZW5ndGggKyAxKSA9PT0gY2hlY2sgKyAiLSIgOiBmYWxzZTsKICAgICAgICA=
gICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIENISUxEOi=
BmdW5jdGlvbiAodHlwZSwgd2hhdCwgX2FyZ3VtZW50LCBmaXJzdCwgbGFzdCkgewogICAgICAgI=
CAgICAgICAgICAgIHZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKDAsIDMpICE9PSAibnRoIiwKICAg=
ICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZCA9IHR5cGUuc2xpY2UoLTQpICE9PSAibGFzdCI=
sCiAgICAgICAgICAgICAgICAgICAgICAgIG9mVHlwZSA9IHdoYXQgPT09ICJvZi10eXBlIjsKIC=
AgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/CiAgI=
CAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICByZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICA=
gICAgIH0gOgogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSwgX2NvbnRleH=
QsIHhtbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlLAogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZUNhY2hlLAogICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgIG91dGVyQ2FjaGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gbm9kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlSW5kZXgsCiAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2=
aW91c1NpYmxpbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGV=
sZW0ucGFyZW50Tm9kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gb2=
ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICB1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSwKICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICBkaWZmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICA=
gICBpZiAocGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbX=
BsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZGlyKSB7C=
iAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxlbTsKICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobm9kZSA9IG5vZGV=
bZGlyXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZi=
Aob2ZUeXBlID8gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDogbm9kZS5ub=
2RlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBkaXIgPSB0eXBlI=
D09PSAib25seSIgJiYgIXN0YXJ0ICYmICJuZXh0U2libGluZyI7CiAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gW2ZvcndhcmQgPyBwYXJlbnQuZmlyc3RDa=
GlsZCA6IHBhcmVudC5sYXN0Q2hpbGRdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
IGlmIChmb3J3YXJkICYmIHVzZUNhY2hlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgIG5vZGUgPSBwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgIG91dGVyQ2FjaGUgPSBub2RlW2V4cGFuZG9dIHx8IChub2RlW2V4cGFuZG9dID0ge30pOwogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVDYWNoZSA9IG91dGVyQ2Fj=
aGVbbm9kZS51bmlxdWVJRF0gfHwgKG91dGVyQ2FjaGVbbm9kZS51bmlxdWVJRF0gPSB7fSk7CiA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlID0gdW5pcXVlQ2FjaGVbdH=
lwZV0gfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmRle=
CA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdOwogICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICBkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWzJdOwogICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaG=
lsZE5vZGVzW25vZGVJbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
HdoaWxlICgobm9kZSA9ICgrK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbZGlyXSkgfHwgKGRp=
ZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkpIHsKICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZi=
AmJiBub2RlID09PSBlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgdW5pcXVlQ2FjaGVbdHlwZV0gPSBbZGlycnVucywgbm9kZUluZGV4LCBkaWZmXTsK=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZ=
SB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VDYWNoZSkgewog=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGVsZW07CiAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlID0gbm9kZVtleH=
BhbmRvXSB8fCAobm9kZVtleHBhbmRvXSA9IHt9KTsKICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgIHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVtub2RlLnVuaXF1ZUlEXSB8=
fCAob3V0ZXJDYWNoZVtub2RlLnVuaXF1ZUlEXSA9IHt9KTsKICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgIGNhY2hlID0gdW5pcXVlQ2FjaGVbdHlwZV0gfHwgW107CiAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBjYWNoZVswX=
SA9PT0gZGlycnVucyAmJiBjYWNoZVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgIGRpZmYgPSBub2RlSW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPT=
09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZ=
SAoKG5vZGUgPSAoKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlW2Rpcl0pIHx8IChkaWZmID0g=
bm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgaWYgKChvZlR5cGUgPyBub2RlLm5vZGVOYW1lLnRvTG93ZX=
JDYXNlKCkgPT09IG5hbWUgOiBub2RlLm5vZGVUeXBlID09PSAxKSAmJiArK2RpZmYpIHsKICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUNhY2hl=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB=
vdXRlckNhY2hlID0gbm9kZVtleHBhbmRvXSB8fCAobm9kZVtleHBhbmRvXSA9IHt9KTsKICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZUNhY=
2hlID0gb3V0ZXJDYWNoZVtub2RlLnVuaXF1ZUlEXSB8fCAob3V0ZXJDYWNoZVtub2RlLnVuaXF1=
ZUlEXSA9IHt9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgIHVuaXF1ZUNhY2hlW3R5cGVdID0gW2RpcnJ1bnMsIGRpZmZdOwogICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlID09PSBlbGVtKSB7CiAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICBkaWZmIC09IGxhc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgcmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8IChkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZ=
iAvIGZpcnN0ID49IDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg=
ICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFBTRVV=
ETzogZnVuY3Rpb24gKHBzZXVkbywgYXJndW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICB2YX=
IgYXJncywKICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSBFeHByLnBzZXVkb3NbcHNldWRvX=
SB8fCBFeHByLnNldEZpbHRlcnNbcHNldWRvLnRvTG93ZXJDYXNlKCldIHx8IFNpenpsZS5lcnJv=
cigidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgcHNldWRvKTsKICAgICAgICAgICAgICAgICAgICB=
pZiAoZm5bZXhwYW5kb10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGFyZ3=
VtZW50KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGZuL=
mxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtwc2V1ZG8sIHBz=
ZXVkbywgIiIsIGFyZ3VtZW50XTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4cHI=
uc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShwc2V1ZG8udG9Mb3dlckNhc2UoKSkgPwogICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWVkLCBtYXRja=
GVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCwKICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IGZuKHNlZWQsIGFyZ3VtZW50KSw=
KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZWQubGVuZ3RoOw=
ogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaW5kZXhPZihzZWVkLCBtYXRjaGVkW2ld=
KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFtpZHhdID0gIShtYXR=
jaGVzW2lkeF0gPSBtYXRjaGVkW2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
B9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6CiAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
IHJldHVybiBmbihlbGVtLCAwLCBhcmdzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0=
7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmbjsKIC=
AgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBzZXVkb3M6IHsKI=
CAgICAgICAgICAgICAgIG5vdDogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWxlY3Rvcikgewog=
ICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IFtdLAogICAgICAgICAgICAgICAgICAgICA=
gICByZXN1bHRzID0gW10sCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIgPSBjb21waW=
xlKHNlbGVjdG9yLnJlcGxhY2UocnRyaW0sICIkMSIpKTsKICAgICAgICAgICAgICAgICAgICByZ=
XR1cm4gbWF0Y2hlcltleHBhbmRvXSA/CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtGdW5j=
dGlvbihmdW5jdGlvbiAoc2VlZCwgbWF0Y2hlcywgX2NvbnRleHQsIHhtbCkgewogICAgICAgICA=
gICAgICAgICAgICAgICAgICAgdmFyIGVsZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgdW5tYXRjaGVkID0gbWF0Y2hlcihzZWVkLCBudWxsLCB4bWwsIFtdKSwKICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICBpID0gc2VlZC5sZW5ndGg7CiAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gaWYgKChlbGVtID0gdW5tYXRjaGVkW2ldKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICBzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7CiAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAg=
ICAgICAgICAgICAgICAgICB9KSA6CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh=
lbGVtLCBfY29udGV4dCwgeG1sKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF=
swXSA9IGVsZW07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyKGlucHV0LCBud=
WxsLCB4bWwsIHJlc3VsdHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRbMF0g=
PSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFyZXN1bHRzLnBvcCg=
pOwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSksCiAgICAgIC=
AgICAgICAgICBoYXM6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgI=
CAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAg=
ICAgICAgcmV0dXJuIFNpenpsZShzZWxlY3RvciwgZWxlbSkubGVuZ3RoID4gMDsKICAgICAgICA=
gICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBjb250YW=
luczogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgd=
GV4dCA9IHRleHQucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7CiAgICAgICAgICAgICAg=
ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ=
ldHVybiAoZWxlbS50ZXh0Q29udGVudCB8fCBnZXRUZXh0KGVsZW0pKS5pbmRleE9mKHRleHQpID=
4gLTE7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgI=
CAgICAgICAgbGFuZzogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChsYW5nKSB7CiAgICAgICAgICAg=
ICAgICAgICAgaWYgKCFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgIiIpKSB7CiAgICAgICAgICA=
gICAgICAgICAgICAgIFNpenpsZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIiArIGxhbmcpOw=
ogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsYW5nID0gbGFuZy5yZ=
XBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAg=
ICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgICAgICB=
2YXIgZWxlbUxhbmc7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgIGlmICgoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/IGVsZW0ubGFuZ=
yA6IGVsZW0uZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCJs=
YW5nIikpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbUxhbmcgPSBlbGV=
tTGFuZy50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldH=
VybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKGxhbmcgKyAiLSIpID09P=
SAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAg=
ICB9IHdoaWxlICgoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0=
gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgIC=
AgICAgICB9OwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICB0YXJnZXQ6IGZ1b=
mN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9j=
YXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJ=
uIGhhc2ggJiYgaGFzaC5zbGljZSgxKSA9PT0gZWxlbS5pZDsKICAgICAgICAgICAgICAgIH0sCi=
AgICAgICAgICAgICAgICByb290OiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgI=
CAgIHJldHVybiBlbGVtID09PSBkb2NFbGVtOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAg=
ICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHV=
ybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdX=
MgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8f=
CB+ZWxlbS50YWJJbmRleCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW5h=
YmxlZDogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oZmFsc2UpLAogICAgICAgICAgICAgICAgZGlzYWJ=
sZWQ6IGNyZWF0ZURpc2FibGVkUHNldWRvKHRydWUpLAogICAgICAgICAgICAgICAgY2hlY2tlZD=
ogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBlb=
GVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChu=
b2RlTmFtZSA9PT0gImlucHV0IiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSA=
ib3B0aW9uIiAmJiAhIWVsZW0uc2VsZWN0ZWQpOwogICAgICAgICAgICAgICAgfSwKICAgICAgIC=
AgICAgICAgIHNlbGVjdGVkOiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgI=
GlmIChlbGVtLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5wYXJl=
bnROb2RlLnNlbGVjdGVkSW5kZXg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICA=
gICAgICAgIHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlOwogICAgICAgICAgICAgICAgfS=
wKICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgI=
CAgICAgIGZvciAoZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4=
dFNpYmxpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPCA=
2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgIC=
AgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgI=
CAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcGFyZW50=
OiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAhRXhwci5wc2V=
1ZG9zWyJlbXB0eSJdKGVsZW0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG=
hlYWRlcjogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmhlY=
WRlci50ZXN0KGVsZW0ubm9kZU5hbWUpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAg=
ICAgIGlucHV0OiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB=
yaW5wdXRzLnRlc3QoZWxlbS5ub2RlTmFtZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgIC=
AgICAgICAgYnV0dG9uOiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHZhc=
iBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAg=
IHJldHVybiAobmFtZSA9PT0gImlucHV0IiAmJiBlbGVtLnR5cGUgPT09ICJidXR0b24iKSB8fCB=
uYW1lID09PSAiYnV0dG9uIjsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0ZX=
h0OiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciBhdHRyOwogICAgI=
CAgICAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJp=
bnB1dCIgJiYgZWxlbS50eXBlID09PSAidGV4dCIgJiYgKChhdHRyID0gZWxlbS5nZXRBdHRyaWJ=
1dGUoInR5cGUiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09ICJ0ZXh0Iik7Ci=
AgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZmlyc3Q6IGNyZWF0ZVBvc2l0aW9uY=
WxQc2V1ZG8oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBbMF07CiAg=
ICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIGxhc3Q6IGNyZWF0ZVBvc2l0aW9uYWx=
Qc2V1ZG8oZnVuY3Rpb24gKF9tYXRjaEluZGV4ZXMsIGxlbmd0aCkgewogICAgICAgICAgICAgIC=
AgICAgIHJldHVybiBbbGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgI=
CAgICAgIGVxOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChfbWF0Y2hJbmRleGVz=
LCBsZW5ndGgsIGFyZ3VtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFthcmd1bWV=
udCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50XTsKICAgICAgICAgICAgICAgIH=
0pLAogICAgICAgICAgICAgICAgZXZlbjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvb=
iAobWF0Y2hJbmRleGVzLCBsZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7=
CiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMikgewogICAgICA=
gICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVzaChpKTsKICAgICAgICAgICAgICAgIC=
AgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlczsKICAgICAgICAgI=
CAgICAgIH0pLAogICAgICAgICAgICAgICAgb2RkOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1=
bmN0aW9uIChtYXRjaEluZGV4ZXMsIGxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIHZhciB=
pID0gMTsKICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSArPSAyKSB7Ci=
AgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKGkpOwogICAgICAgICAgI=
CAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzOwogICAg=
ICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBsdDogY3JlYXRlUG9zaXRpb25hbFBzZXV=
kbyhmdW5jdGlvbiAobWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50KSB7CiAgICAgICAgIC=
AgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ=
3VtZW50ID4gbGVuZ3RoID8gbGVuZ3RoIDogYXJndW1lbnQ7CiAgICAgICAgICAgICAgICAgICAg=
Zm9yICg7IC0taSA+PSAwOykgewogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXM=
ucHVzaChpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dX=
JuIG1hdGNoSW5kZXhlczsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgZ3Q6I=
GNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBh=
cmd1bWVudCkgewogICAgICAgICAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJ=
ndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDsKICAgICAgICAgICAgICAgICAgICBmb3IgKDsgKy=
tpIDwgbGVuZ3RoOykgewogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVza=
ChpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1h=
dGNoSW5kZXhlczsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICB9LAogICAgICAgIH0=
7CiAgICAgICAgRXhwci5wc2V1ZG9zWyJudGgiXSA9IEV4cHIucHNldWRvc1siZXEiXTsKICAgIC=
AgICBmb3IgKGkgaW4gewogICAgICAgICAgICByYWRpbzogdHJ1ZSwKICAgICAgICAgICAgY2hlY=
2tib3g6IHRydWUsCiAgICAgICAgICAgIGZpbGU6IHRydWUsCiAgICAgICAgICAgIHBhc3N3b3Jk=
OiB0cnVlLAogICAgICAgICAgICBpbWFnZTogdHJ1ZQogICAgICAgIH0pIHsKICAgICAgICAgICA=
gRXhwci5wc2V1ZG9zW2ldID0gY3JlYXRlSW5wdXRQc2V1ZG8oaSk7CiAgICAgICAgfQogICAgIC=
AgIGZvciAoaSBpbiB7CiAgICAgICAgICAgIHN1Ym1pdDogdHJ1ZSwKICAgICAgICAgICAgcmVzZ=
XQ6IHRydWUKICAgICAgICB9KSB7CiAgICAgICAgICAgIEV4cHIucHNldWRvc1tpXSA9IGNyZWF0=
ZUJ1dHRvblBzZXVkbyhpKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNldEZpbHRlcnM=
oKSB7IH0KICAgICAgICBzZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cH=
IucHNldWRvczsKICAgICAgICBFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpOwogI=
CAgICAgIHRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBw=
YXJzZU9ubHkpIHsKICAgICAgICAgICAgdmFyIG1hdGNoZWQsCiAgICAgICAgICAgICAgICBtYXR=
jaCwKICAgICAgICAgICAgICAgIHRva2VucywKICAgICAgICAgICAgICAgIHR5cGUsCiAgICAgIC=
AgICAgICAgICBzb0ZhciwKICAgICAgICAgICAgICAgIGdyb3VwcywKICAgICAgICAgICAgICAgI=
HByZUZpbHRlcnMsCiAgICAgICAgICAgICAgICBjYWNoZWQgPSB0b2tlbkNhY2hlW3NlbGVjdG9y=
ICsgIiAiXTsKICAgICAgICAgICAgaWYgKGNhY2hlZCkgewogICAgICAgICAgICAgICAgcmV0dXJ=
uIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoMCk7CiAgICAgICAgICAgIH0KICAgICAgIC=
AgICAgc29GYXIgPSBzZWxlY3RvcjsKICAgICAgICAgICAgZ3JvdXBzID0gW107CiAgICAgICAgI=
CAgIHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjsKICAgICAgICAgICAgd2hpbGUgKHNvRmFy=
KSB7CiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWM=
oc29GYXIpKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgIC=
AgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKG1hdGNoWzBdLmxlbmd0aCkgfHwgc29GY=
XI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGdyb3Vwcy5wdXNo=
KCh0b2tlbnMgPSBbXSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWF0Y2h=
lZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKChtYXRjaCA9IHJsZWFkaW5nQ29tYmluYX=
Rvci5leGVjKHNvRmFyKSkpIHsKICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2guc=
2hpZnQoKTsKICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7CiAgICAgICAgICAgICAg=
ICAgICAgICAgIHZhbHVlOiBtYXRjaGVkLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB=
tYXRjaFswXS5yZXBsYWNlKHJ0cmltLCAiICIpLAogICAgICAgICAgICAgICAgICAgIH0pOwogIC=
AgICAgICAgICAgICAgICAgIHNvRmFyID0gc29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpOwogI=
CAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIEV4cHIuZmlsdGVy=
KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaCA9IG1hdGNoRXhwclt0eXBlXS5leGV=
jKHNvRmFyKSkgJiYgKCFwcmVGaWx0ZXJzW3R5cGVdIHx8IChtYXRjaCA9IHByZUZpbHRlcnNbdH=
lwZV0obWF0Y2gpKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IG1hdGNoL=
nNoaWZ0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHsKICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtYXRjaGVkLAogICAgICAgICAgICAgICAgICAgICA=
gICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXM6IG=
1hdGNoCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgI=
CBzb0ZhciA9IHNvRmFyLnNsaWNlKG1hdGNoZWQubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAg=
ICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWQpIHsKICA=
gICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQ=
ogICAgICAgICAgICByZXR1cm4gcGFyc2VPbmx5ID8gc29GYXIubGVuZ3RoIDogc29GYXIgPyBTa=
Xp6bGUuZXJyb3Ioc2VsZWN0b3IpIDogdG9rZW5DYWNoZShzZWxlY3RvciwgZ3JvdXBzKS5zbGlj=
ZSgwKTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiB0b1NlbGVjdG9yKHRva2Vucykgewo=
gICAgICAgICAgICB2YXIgaSA9IDAsCiAgICAgICAgICAgICAgICBsZW4gPSB0b2tlbnMubGVuZ3=
RoLAogICAgICAgICAgICAgICAgc2VsZWN0b3IgPSAiIjsKICAgICAgICAgICAgZm9yICg7IGkgP=
CBsZW47IGkrKykgewogICAgICAgICAgICAgICAgc2VsZWN0b3IgKz0gdG9rZW5zW2ldLnZhbHVl=
OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzZWxlY3RvcjsKICAgICAgICB9Cgo=
gICAgICAgIGZ1bmN0aW9uIGFkZENvbWJpbmF0b3IobWF0Y2hlciwgY29tYmluYXRvciwgYmFzZS=
kgewogICAgICAgICAgICB2YXIgZGlyID0gY29tYmluYXRvci5kaXIsCiAgICAgICAgICAgICAgI=
CBza2lwID0gY29tYmluYXRvci5uZXh0LAogICAgICAgICAgICAgICAga2V5ID0gc2tpcCB8fCBk=
aXIsCiAgICAgICAgICAgICAgICBjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09ICJ=
wYXJlbnROb2RlIiwKICAgICAgICAgICAgICAgIGRvbmVOYW1lID0gZG9uZSsrOwogICAgICAgIC=
AgICByZXR1cm4gY29tYmluYXRvci5maXJzdCA/CiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZ=
WxlbSwgY29udGV4dCwgeG1sKSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0g=
ZWxlbVtkaXJdKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA=
9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
ByZXR1cm4gbWF0Y2hlcihlbGVtLCBjb250ZXh0LCB4bWwpOwogICAgICAgICAgICAgICAgICAgI=
CAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBm=
YWxzZTsKICAgICAgICAgICAgICAgIH0gOgogICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0=
sIGNvbnRleHQsIHhtbCkgewogICAgICAgICAgICAgICAgICAgIHZhciBvbGRDYWNoZSwKICAgIC=
AgICAgICAgICAgICAgICAgICAgdW5pcXVlQ2FjaGUsCiAgICAgICAgICAgICAgICAgICAgICAgI=
G91dGVyQ2FjaGUsCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhY2hlID0gW2RpcnJ1bnMs=
IGRvbmVOYW1lXTsKICAgICAgICAgICAgICAgICAgICBpZiAoeG1sKSB7CiAgICAgICAgICAgICA=
gICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1bZGlyXSkpIHsKICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMpI=
HsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcihlbGVtLCBjb250=
ZXh0LCB4bWwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB=
0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgI=
CAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1b=
ZGlyXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID0=
9PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICBvdXRlckNhY2hlID0gZWxlbVtleHBhbmRvXSB8fCAoZWxlbVtleHBhbmRvXSA9IHt9KTsKI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVb=
ZWxlbS51bmlxdWVJRF0gfHwgKG91dGVyQ2FjaGVbZWxlbS51bmlxdWVJRF0gPSB7fSk7CiAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2=
RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgIGVsZW0gPSBlbGVtW2Rpcl0gfHwgZWxlbTsKICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICB9IGVsc2UgaWYgKChvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlW2tleV0pICYmIG9sZENhY2h=
lWzBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWzFdID09PSBkb25lTmFtZSkgewogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5ld0NhY2hlWzJdID0gb2xkQ2Fja=
GVbMl0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZUNhY2hlW2tleV0gPSBuZXdDYWNoZTs=
KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuZXdDYWNoZVsyXSA9IG=
1hdGNoZXIoZWxlbSwgY29udGV4dCwgeG1sKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICA=
gICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC=
AgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgI=
CAgIH07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBlbGVtZW50TWF0Y2hlcihtYXRjaGVy=
cykgewogICAgICAgICAgICByZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/CiAgICAgICAgICA=
gICAgICBmdW5jdGlvbiAoZWxlbSwgY29udGV4dCwgeG1sKSB7CiAgICAgICAgICAgICAgICAgIC=
AgdmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktL=
SkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXJzW2ldKGVsZW0sIGNvbnRl=
eHQsIHhtbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICA=
gICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgIC=
AgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gOgogICAgICAgICAgICAgI=
CAgbWF0Y2hlcnNbMF07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtdWx0aXBsZUNvbnRl=
eHRzKHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cykgewogICAgICAgICAgICB2YXIgaSA9IDA=
sCiAgICAgICAgICAgICAgICBsZW4gPSBjb250ZXh0cy5sZW5ndGg7CiAgICAgICAgICAgIGZvci=
AoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICAgIFNpenpsZShzZWxlY3RvciwgY29ud=
GV4dHNbaV0sIHJlc3VsdHMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1=
bHRzOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY29uZGVuc2UodW5tYXRjaGVkLCBtYXA=
sIGZpbHRlciwgY29udGV4dCwgeG1sKSB7CiAgICAgICAgICAgIHZhciBlbGVtLAogICAgICAgIC=
AgICAgICAgbmV3VW5tYXRjaGVkID0gW10sCiAgICAgICAgICAgICAgICBpID0gMCwKICAgICAgI=
CAgICAgICAgIGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsCiAgICAgICAgICAgICAgICBtYXBwZWQg=
PSBtYXAgIT0gbnVsbDsKICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykgewogICAgICA=
gICAgICAgICAgaWYgKChlbGVtID0gdW5tYXRjaGVkW2ldKSkgewogICAgICAgICAgICAgICAgIC=
AgIGlmICghZmlsdGVyIHx8IGZpbHRlcihlbGVtLCBjb250ZXh0LCB4bWwpKSB7CiAgICAgICAgI=
CAgICAgICAgICAgICAgIG5ld1VubWF0Y2hlZC5wdXNoKGVsZW0pOwogICAgICAgICAgICAgICAg=
ICAgICAgICBpZiAobWFwcGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAucHV=
zaChpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV3VW5tY=
XRjaGVkOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2V0TWF0Y2hlcihwcmVGaWx0ZXIs=
IHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3I=
pIHsKICAgICAgICAgICAgaWYgKHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbZXhwYW5kb10pIH=
sKICAgICAgICAgICAgICAgIHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKHBvc3RGaWx0ZXIpOwogI=
CAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwb3N0RmluZGVyICYmICFwb3N0RmluZGVyW2V4=
cGFuZG9dKSB7CiAgICAgICAgICAgICAgICBwb3N0RmluZGVyID0gc2V0TWF0Y2hlcihwb3N0Rml=
uZGVyLCBwb3N0U2VsZWN0b3IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBtYX=
JrRnVuY3Rpb24oZnVuY3Rpb24gKHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCkgewogICAgI=
CAgICAgICAgICAgdmFyIHRlbXAsCiAgICAgICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAg=
ICAgICAgICBlbGVtLAogICAgICAgICAgICAgICAgICAgIHByZU1hcCA9IFtdLAogICAgICAgICA=
gICAgICAgICAgIHBvc3RNYXAgPSBbXSwKICAgICAgICAgICAgICAgICAgICBwcmVleGlzdGluZy=
A9IHJlc3VsdHMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIGVsZW1zID0gc2VlZCB8fCBtd=
Wx0aXBsZUNvbnRleHRzKHNlbGVjdG9yIHx8ICIqIiwgY29udGV4dC5ub2RlVHlwZSA/IFtjb250=
ZXh0XSA6IGNvbnRleHQsIFtdKSwKICAgICAgICAgICAgICAgICAgICBtYXRjaGVySW4gPSBwcmV=
GaWx0ZXIgJiYgKHNlZWQgfHwgIXNlbGVjdG9yKSA/IGNvbmRlbnNlKGVsZW1zLCBwcmVNYXAsIH=
ByZUZpbHRlciwgY29udGV4dCwgeG1sKSA6IGVsZW1zLAogICAgICAgICAgICAgICAgICAgIG1hd=
GNoZXJPdXQgPSBtYXRjaGVyID8gKHBvc3RGaW5kZXIgfHwgKHNlZWQgPyBwcmVGaWx0ZXIgOiBw=
cmVleGlzdGluZyB8fCBwb3N0RmlsdGVyKSA/IFtdIDogcmVzdWx0cykgOiBtYXRjaGVySW47CiA=
gICAgICAgICAgICAgICBpZiAobWF0Y2hlcikgewogICAgICAgICAgICAgICAgICAgIG1hdGNoZX=
IobWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwpOwogICAgICAgICAgICAgICAgf=
QogICAgICAgICAgICAgICAgaWYgKHBvc3RGaWx0ZXIpIHsKICAgICAgICAgICAgICAgICAgICB0=
ZW1wID0gY29uZGVuc2UobWF0Y2hlck91dCwgcG9zdE1hcCk7CiAgICAgICAgICAgICAgICAgICA=
gcG9zdEZpbHRlcih0ZW1wLCBbXSwgY29udGV4dCwgeG1sKTsKICAgICAgICAgICAgICAgICAgIC=
BpID0gdGVtcC5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgI=
CAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSB0ZW1wW2ldKSkgewogICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgbWF0Y2hlck91dFtwb3N0TWFwW2ldXSA9ICEobWF0Y2hlckluW3Bvc3R=
NYXBbaV1dID0gZWxlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIC=
AgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc2VlZCkgewogI=
CAgICAgICAgICAgICAgICAgIGlmIChwb3N0RmluZGVyIHx8IHByZUZpbHRlcikgewogICAgICAg=
ICAgICAgICAgICAgICAgICBpZiAocG9zdEZpbmRlcikgewogICAgICAgICAgICAgICAgICAgICA=
gICAgICAgdGVtcCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZX=
JPdXQubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IG1hdGNoZXJPdXRbaV0p=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCgobWF0Y2h=
lckluW2ldID0gZWxlbSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc=
3RGaW5kZXIobnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCk7CiAgICAgICAgICAg=
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZXJPdXQubGV=
uZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJiAodGVtcCA9IHBvc=
3RGaW5kZXIgPyBpbmRleE9mKHNlZWQsIGVsZW0pIDogcHJlTWFwW2ldKSA+IC0xKSB7CiAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFt0ZW1wXSA9ICEocmVzdWx0c1t0ZW1wXSA=
9IGVsZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIC=
AgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKI=
CAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0ID0gY29uZGVuc2UobWF0Y2hlck91dCA9PT0g=
cmVzdWx0cyA/IG1hdGNoZXJPdXQuc3BsaWNlKHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd=
0aCkgOiBtYXRjaGVyT3V0KTsKICAgICAgICAgICAgICAgICAgICBpZiAocG9zdEZpbmRlcikgew=
ogICAgICAgICAgICAgICAgICAgICAgICBwb3N0RmluZGVyKG51bGwsIHJlc3VsdHMsIG1hdGNoZ=
XJPdXQsIHhtbCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg=
ICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBtYXRjaGVyT3V0KTsKICAgICAgICAgICAgICA=
gICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgIC=
AgICAgZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zKSB7CiAgICAgICAgICAgIHZhc=
iBjaGVja0NvbnRleHQsCiAgICAgICAgICAgICAgICBtYXRjaGVyLAogICAgICAgICAgICAgICAg=
aiwKICAgICAgICAgICAgICAgIGxlbiA9IHRva2Vucy5sZW5ndGgsCiAgICAgICAgICAgICAgICB=
sZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlW3Rva2Vuc1swXS50eXBlXSwKICAgICAgIC=
AgICAgICAgIGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhd=
Gl2ZVsiICJdLAogICAgICAgICAgICAgICAgaSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLAog=
ICAgICAgICAgICAgICAgbWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvcigKICAgICAgICAgICA=
gICAgICAgICBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm=
4gZWxlbSA9PT0gY2hlY2tDb250ZXh0OwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgI=
CAgICAgICAgICAgaW1wbGljaXRSZWxhdGl2ZSwKICAgICAgICAgICAgICAgICAgICB0cnVlCiAg=
ICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgbWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29=
tYmluYXRvcigKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgIC=
AgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhPZihjaGVja0NvbnRleHQsIGVsZW0pID4gLTE7C=
iAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBpbXBsaWNpdFJlbGF0=
aXZlLAogICAgICAgICAgICAgICAgICAgIHRydWUKICAgICAgICAgICAgICAgICksCiAgICAgICA=
gICAgICAgICBtYXRjaGVycyA9IFsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbS=
wgY29udGV4dCwgeG1sKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSAoIWxlY=
WRpbmdSZWxhdGl2ZSAmJiAoeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQpKSB8=
fCAoKGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID8gbWF0Y2hDb250ZXh0KGVsZW0=
sIGNvbnRleHQsIHhtbCkgOiBtYXRjaEFueUNvbnRleHQoZWxlbSwgY29udGV4dCwgeG1sKSk7Ci=
AgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ29udGV4dCA9IG51bGw7CiAgICAgICAgICAgI=
CAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAg=
ICAgICAgIF07CiAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICA=
gICAgIGlmICgobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbdG9rZW5zW2ldLnR5cGVdKSkgewogIC=
AgICAgICAgICAgICAgICAgIG1hdGNoZXJzID0gW2FkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZ=
XIobWF0Y2hlcnMpLCBtYXRjaGVyKV07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAg=
ICAgICAgICAgICAgIG1hdGNoZXIgPSBFeHByLmZpbHRlclt0b2tlbnNbaV0udHlwZV0uYXBwbHk=
obnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMpOwogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaG=
VyW2V4cGFuZG9dKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGogPSArK2k7CiAgICAgICAgI=
CAgICAgICAgICAgICAgIGZvciAoOyBqIDwgbGVuOyBqKyspIHsKICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgIGlmIChFeHByLnJlbGF0aXZlW3Rva2Vuc1tqXS50eXBlXSkgewogICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJld=
HVybiBzZXRNYXRjaGVyKGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSwgaSA+IDEg=
JiYgdG9TZWxlY3Rvcih0b2tlbnMuc2xpY2UoMCwgaSAtIDEpLmNvbmNhdCh7CiAgICAgICAgICA=
gICAgICAgICAgICAgICAgICB2YWx1ZTogdG9rZW5zW2kgLSAyXS50eXBlID09PSAiICIgPyAiKi=
IgOiAiIgogICAgICAgICAgICAgICAgICAgICAgICB9KSkucmVwbGFjZShydHJpbSwgIiQxIiksI=
G1hdGNoZXIsIGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucy5zbGljZShpLCBqKSks=
IGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoKHRva2VucyA9IHRva2Vucy5zbGljZShqKSk=
pLCBqIDwgbGVuICYmIHRvU2VsZWN0b3IodG9rZW5zKSk7CiAgICAgICAgICAgICAgICAgICAgfQ=
ogICAgICAgICAgICAgICAgICAgIG1hdGNoZXJzLnB1c2gobWF0Y2hlcik7CiAgICAgICAgICAgI=
CAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRNYXRjaGVyKG1h=
dGNoZXJzKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXR=
jaGVycyhlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzKSB7CiAgICAgICAgICAgIHZhciBieV=
NldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsCiAgICAgICAgICAgICAgICBieUVsZW1lbnQgP=
SBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCwKICAgICAgICAgICAgICAgIHN1cGVyTWF0Y2hl=
ciA9IGZ1bmN0aW9uIChzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCkgewo=
gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtLAogICAgICAgICAgICAgICAgICAgICAgICBqLA=
ogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyLAogICAgICAgICAgICAgICAgICAgICAgI=
CBtYXRjaGVkQ291bnQgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBpID0gIjAiLAogICAg=
ICAgICAgICAgICAgICAgICAgICB1bm1hdGNoZWQgPSBzZWVkICYmIFtdLAogICAgICAgICAgICA=
gICAgICAgICAgICBzZXRNYXRjaGVkID0gW10sCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbn=
RleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LAogICAgICAgICAgICAgICAgICAgICAgICBlb=
GVtcyA9IHNlZWQgfHwgKGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbIlRBRyJdKCIqIiwgb3V0ZXJt=
b3N0KSksCiAgICAgICAgICAgICAgICAgICAgICAgIGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyA=
rPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLAogIC=
AgICAgICAgICAgICAgICAgICAgICBsZW4gPSBlbGVtcy5sZW5ndGg7CiAgICAgICAgICAgICAgI=
CAgICAgaWYgKG91dGVybW9zdCkgewogICAgICAgICAgICAgICAgICAgICAgICBvdXRlcm1vc3RD=
b250ZXh0ID0gY29udGV4dCA9PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDsKICA=
gICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgIT09IGxlbi=
AmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKyspIHsKICAgICAgICAgICAgICAgICAgI=
CAgICAgaWYgKGJ5RWxlbWVudCAmJiBlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICBqID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCAmJiBlbGV=
tLm93bmVyRG9jdW1lbnQgIT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICBzZXREb2N1bWVudChlbGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CB4bWwgPSAhZG9jdW1lbnRJc0hUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2h=
lcnNbaisrXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlci=
hlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpKSB7CiAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChlbGVtKTsKICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQo=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgaWYgKG91dGVybW9zdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcnJ1b=
nMgPSBkaXJydW5zVW5pcXVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAg=
ICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieVNldCkgewo=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbS=
kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkQ291bnQtLTsKICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlm=
IChzZWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5tYXRjaGVkLnB1c2g=
oZWxlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC=
AgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZ=
ENvdW50ICs9IGk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ5U2V0ICYmIGkgIT09IG1hdGNo=
ZWRDb3VudCkgewogICAgICAgICAgICAgICAgICAgICAgICBqID0gMDsKICAgICAgICAgICAgICA=
gICAgICAgICAgd2hpbGUgKChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkpIHsKICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIodW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250Z=
Xh0LCB4bWwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg=
ICAgIGlmIChzZWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZEN=
vdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIH=
sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodW5tYXRjaGVkW2ldI=
Hx8IHNldE1hdGNoZWRbaV0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICBzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwocmVzdWx0cyk7CiAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci=
AgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CBzZXRNYXRjaGVkID0gY29uZGVuc2Uoc2V0TWF0Y2hlZCk7CiAgICAgICAgICAgICAgICAgICAg=
ICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBzZXRNYXR=
jaGVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGVybW9zdCAmJiAhc2VlZCAmJi=
BzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiYgbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ=
3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l6emxlLnVuaXF1ZVNvcnQo=
cmVzdWx0cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB=
9CiAgICAgICAgICAgICAgICAgICAgaWYgKG91dGVybW9zdCkgewogICAgICAgICAgICAgICAgIC=
AgICAgICBkaXJydW5zID0gZGlycnVuc1VuaXF1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgb=
3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7CiAgICAgICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgICAgIHJldHVybiB1bm1hdGNoZWQ7CiAgICAgICAgICAgICAgICB9Owo=
gICAgICAgICAgICByZXR1cm4gYnlTZXQgPyBtYXJrRnVuY3Rpb24oc3VwZXJNYXRjaGVyKSA6IH=
N1cGVyTWF0Y2hlcjsKICAgICAgICB9CiAgICAgICAgY29tcGlsZSA9IFNpenpsZS5jb21waWxlI=
D0gZnVuY3Rpb24gKHNlbGVjdG9yLCBtYXRjaCkgewogICAgICAgICAgICB2YXIgaSwKICAgICAg=
ICAgICAgICAgIHNldE1hdGNoZXJzID0gW10sCiAgICAgICAgICAgICAgICBlbGVtZW50TWF0Y2h=
lcnMgPSBbXSwKICAgICAgICAgICAgICAgIGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbc2VsZWN0b3=
IgKyAiICJdOwogICAgICAgICAgICBpZiAoIWNhY2hlZCkgewogICAgICAgICAgICAgICAgaWYgK=
CFtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIG1hdGNoID0gdG9rZW5pemUoc2VsZWN0b3Ip=
OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaSA9IG1hdGNoLmxlbmd0aDsKICA=
gICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPS=
BtYXRjaGVyRnJvbVRva2VucyhtYXRjaFtpXSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNhY=
2hlZFtleHBhbmRvXSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVycy5wdXNo=
KGNhY2hlZCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICA=
gICAgICAgZWxlbWVudE1hdGNoZXJzLnB1c2goY2FjaGVkKTsKICAgICAgICAgICAgICAgICAgIC=
B9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYWNoZWQgPSBjb21waWxlckNhY=
2hlKHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoZWxlbWVudE1hdGNoZXJzLCBz=
ZXRNYXRjaGVycykpOwogICAgICAgICAgICAgICAgY2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I=
7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDsKICAgICAgICB9OwogIC=
AgICAgIHNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRle=
HQsIHJlc3VsdHMsIHNlZWQpIHsKICAgICAgICAgICAgdmFyIGksCiAgICAgICAgICAgICAgICB0=
b2tlbnMsCiAgICAgICAgICAgICAgICB0b2tlbiwKICAgICAgICAgICAgICAgIHR5cGUsCiAgICA=
gICAgICAgICAgICBmaW5kLAogICAgICAgICAgICAgICAgY29tcGlsZWQgPSB0eXBlb2Ygc2VsZW=
N0b3IgPT09ICJmdW5jdGlvbiIgJiYgc2VsZWN0b3IsCiAgICAgICAgICAgICAgICBtYXRjaCA9I=
CFzZWVkICYmIHRva2VuaXplKChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVj=
dG9yKSk7CiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwogICAgICAgICAgICB=
pZiAobWF0Y2gubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICB0b2tlbnMgPSBtYXRjaF=
swXSA9IG1hdGNoWzBdLnNsaWNlKDApOwogICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5nd=
GggPiAyICYmICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gIklEIiAmJiBjb250ZXh0Lm5v=
ZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbdG9rZW5zWzF=
dLnR5cGVdKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IChFeHByLmZpbmRbIklEIl=
0odG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4d=
CkgfHwgW10pWzBdOwogICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCkgewogICAgICAg=
ICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICB9IGV=
sc2UgaWYgKGNvbXBpbGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb2=
50ZXh0LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgI=
CAgIHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UodG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3Ro=
KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGkgPSBtYXRjaEV4cHJbIm5lZWR=
zQ29udGV4dCJdLnRlc3Qoc2VsZWN0b3IpID8gMCA6IHRva2Vucy5sZW5ndGg7CiAgICAgICAgIC=
AgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNba=
V07CiAgICAgICAgICAgICAgICAgICAgaWYgKEV4cHIucmVsYXRpdmVbKHR5cGUgPSB0b2tlbi50=
eXBlKV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICA=
gICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgoZmluZCA9IEV4cHIuZmluZFt0eXBlXSkpIH=
sKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzZWVkID0gZmluZCh0b2tlbi5tYXRjaGVzW=
zBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCAocnNpYmxpbmcudGVzdCh0b2tlbnNb=
MF0udHlwZSkgJiYgdGVzdENvbnRleHQoY29udGV4dC5wYXJlbnROb2RlKSkgfHwgY29udGV4dCk=
pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDEpOwogIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1Nlb=
GVjdG9yKHRva2Vucyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9y=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCB=
zZWVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
GJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIChjb21waWxlZCB8fCB=
jb21waWxlKHNlbGVjdG9yLCBtYXRjaCkpKHNlZWQsIGNvbnRleHQsICFkb2N1bWVudElzSFRNTC=
wgcmVzdWx0cywgIWNvbnRleHQgfHwgKHJzaWJsaW5nLnRlc3Qoc2VsZWN0b3IpICYmIHRlc3RDb=
250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSkpIHx8IGNvbnRleHQpOwogICAgICAgICAgICByZXR1=
cm4gcmVzdWx0czsKICAgICAgICB9OwogICAgICAgIHN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGF=
uZG8uc3BsaXQoIiIpLnNvcnQoc29ydE9yZGVyKS5qb2luKCIiKSA9PT0gZXhwYW5kbzsKICAgIC=
AgICBzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTsKICAgICAgICBzZ=
XREb2N1bWVudCgpOwogICAgICAgIHN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0=
aW9uIChlbCkgewogICAgICAgICAgICByZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24=
oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSkgJiAxOwogICAgICAgIH0pOwogIC=
AgICAgIGlmICgKICAgICAgICAgICAgIWFzc2VydChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgI=
CAgICAgIGVsLmlubmVySFRNTCA9ICI8YSBocmVmPScjJz48L2E+IjsKICAgICAgICAgICAgICAg=
IHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpID09PSAiIyI7CiAgICA=
gICAgICAgIH0pCiAgICAgICAgKSB7CiAgICAgICAgICAgIGFkZEhhbmRsZSgidHlwZXxocmVmfG=
hlaWdodHx3aWR0aCIsIGZ1bmN0aW9uIChlbGVtLCBuYW1lLCBpc1hNTCkgewogICAgICAgICAgI=
CAgICAgaWYgKCFpc1hNTCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0=
dHJpYnV0ZShuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJ0eXBlIiA/IDEgOiAyKTsKICA=
gICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmICgKIC=
AgICAgICAgICAgIXN1cHBvcnQuYXR0cmlidXRlcyB8fAogICAgICAgICAgICAhYXNzZXJ0KGZ1b=
mN0aW9uIChlbCkgewogICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gIjxpbnB1dC8+IjsK=
ICAgICAgICAgICAgICAgIGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsICIiKTs=
KICAgICAgICAgICAgICAgIHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdW=
UiKSA9PT0gIiI7CiAgICAgICAgICAgIH0pCiAgICAgICAgKSB7CiAgICAgICAgICAgIGFkZEhhb=
mRsZSgidmFsdWUiLCBmdW5jdGlvbiAoZWxlbSwgX25hbWUsIGlzWE1MKSB7CiAgICAgICAgICAg=
ICAgICBpZiAoIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gImlucHV=
0IikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTsKICAgIC=
AgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmICgKICAgI=
CAgICAgICAgIWFzc2VydChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBl=
bC5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikgPT0gbnVsbDsKICAgICAgICAgICAgfSkKICAgICA=
gICApIHsKICAgICAgICAgICAgYWRkSGFuZGxlKGJvb2xlYW5zLCBmdW5jdGlvbiAoZWxlbSwgbm=
FtZSwgaXNYTUwpIHsKICAgICAgICAgICAgICAgIHZhciB2YWw7CiAgICAgICAgICAgICAgICBpZ=
iAoIWlzWE1MKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1bbmFtZV0gPT09IHRy=
dWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOiAodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5=
hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID8gdmFsLnZhbHVlIDogbnVsbDsKICAgICAgICAgICAgIC=
AgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBTaXp6bGU7CiAgI=
CB9KSh3aW5kb3cpOwogICAgalF1ZXJ5LmZpbmQgPSBTaXp6bGU7CiAgICBqUXVlcnkuZXhwciA9=
IFNpenpsZS5zZWxlY3RvcnM7CiAgICBqUXVlcnkuZXhwclsiOiJdID0galF1ZXJ5LmV4cHIucHN=
ldWRvczsKICAgIGpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bm=
lxdWVTb3J0OwogICAgalF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDsKICAgIGpRdWVyeS5pc=
1hNTERvYyA9IFNpenpsZS5pc1hNTDsKICAgIGpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250=
YWluczsKICAgIGpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7CiAgICB2YXI=
gZGlyID0gZnVuY3Rpb24gKGVsZW0sIGRpciwgdW50aWwpIHsKICAgICAgICB2YXIgbWF0Y2hlZC=
A9IFtdLAogICAgICAgICAgICB0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7CiAgICAgI=
CAgd2hpbGUgKChlbGVtID0gZWxlbVtkaXJdKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5KSB7CiAg=
ICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICBpZiA=
odHJ1bmNhdGUgJiYgalF1ZXJ5KGVsZW0pLmlzKHVudGlsKSkgewogICAgICAgICAgICAgICAgIC=
AgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWF0Y2hlZC5wdXNoK=
GVsZW0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBtYXRjaGVkOwog=
ICAgfTsKICAgIHZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uIChuLCBlbGVtKSB7CiAgICAgICAgdmF=
yIG1hdGNoZWQgPSBbXTsKICAgICAgICBmb3IgKDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHsKIC=
AgICAgICAgICAgaWYgKG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSkgewogICAgICAgI=
CAgICAgICAgbWF0Y2hlZC5wdXNoKG4pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg=
IHJldHVybiBtYXRjaGVkOwogICAgfTsKICAgIHZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV=
4cHIubWF0Y2gubmVlZHNDb250ZXh0OwoKICAgIGZ1bmN0aW9uIG5vZGVOYW1lKGVsZW0sIG5hbW=
UpIHsKICAgICAgICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93Z=
XJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTsKICAgIH0KICAgIHZhciByc2luZ2xlVGFn=
ID0gL148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD8=
6PFwvXDE+fCkkL2k7CgogICAgZnVuY3Rpb24gd2lubm93KGVsZW1lbnRzLCBxdWFsaWZpZXIsIG=
5vdCkgewogICAgICAgIGlmIChpc0Z1bmN0aW9uKHF1YWxpZmllcikpIHsKICAgICAgICAgICAgc=
mV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbSwgaSkgewogICAgICAg=
ICAgICAgICAgcmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoZWxlbSwgaSwgZWxlbSkgIT09IG5vdDs=
KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChxdWFsaWZpZXIubm9kZVR5cG=
UpIHsKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLCBmdW5jdGlvbiAoZ=
WxlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtID09PSBxdWFsaWZpZXIpICE9PSBu=
b3Q7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHF1YWxpZml=
lciAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbn=
RzLCBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4T2YuY2Fsb=
ChxdWFsaWZpZXIsIGVsZW0pID4gLTEgIT09IG5vdDsKICAgICAgICAgICAgfSk7CiAgICAgICAg=
fQogICAgICAgIHJldHVybiBqUXVlcnkuZmlsdGVyKHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCk=
7CiAgICB9CiAgICBqUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24gKGV4cHIsIGVsZW1zLCBub3QpIH=
sKICAgICAgICB2YXIgZWxlbSA9IGVsZW1zWzBdOwogICAgICAgIGlmIChub3QpIHsKICAgICAgI=
CAgICAgZXhwciA9ICI6bm90KCIgKyBleHByICsgIikiOwogICAgICAgIH0KICAgICAgICBpZiAo=
ZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHsKICAgICAgICAgICA=
gcmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihlbGVtLCBleHByKSA/IFtlbGVtXS=
A6IFtdOwogICAgICAgIH0KICAgICAgICByZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcygKICAgI=
CAgICAgICAgZXhwciwKICAgICAgICAgICAgalF1ZXJ5LmdyZXAoZWxlbXMsIGZ1bmN0aW9uIChl=
bGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTsKICAgICA=
gICAgICAgfSkKICAgICAgICApOwogICAgfTsKICAgIGpRdWVyeS5mbi5leHRlbmQoewogICAgIC=
AgIGZpbmQ6IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICB2YXIgaSwKICAgICAgI=
CAgICAgICAgIHJldCwKICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMubGVuZ3RoLAogICAgICAg=
ICAgICAgICAgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT0=
9ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soCiAgIC=
AgICAgICAgICAgICAgICAgalF1ZXJ5KHNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24gKCkgewogI=
CAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuY29udGFpbnMoc2VsZltpXSwgdGhpcyk=
pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgI=
CAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAg=
ICAgIHJldCA9IHRoaXMucHVzaFN0YWNrKFtdKTsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA=
8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBqUXVlcnkuZmluZChzZWxlY3Rvciwgc2VsZl=
tpXSwgcmV0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbGVuID4gMSA/IGpRd=
WVyeS51bmlxdWVTb3J0KHJldCkgOiByZXQ7CiAgICAgICAgfSwKICAgICAgICBmaWx0ZXI6IGZ1=
bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2sod2l=
ubm93KHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSkpOwogICAgICAgIH0sCiAgICAgICAgbm=
90OiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0Y=
WNrKHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSkpOwogICAgICAgIH0sCiAgICAg=
ICAgaXM6IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICByZXR1cm4gISF3aW5ub3c=
odGhpcywgdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiAmJiBybmVlZHNDb250ZXh0LnRlc3=
Qoc2VsZWN0b3IpID8galF1ZXJ5KHNlbGVjdG9yKSA6IHNlbGVjdG9yIHx8IFtdLCBmYWxzZSkub=
GVuZ3RoOwogICAgICAgIH0sCiAgICB9KTsKICAgIHZhciByb290alF1ZXJ5LAogICAgICAgIHJx=
dWlja0V4cHIgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSspKSQvLAogICAgICA=
gIGluaXQgPSAoalF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQsIH=
Jvb3QpIHsKICAgICAgICAgICAgdmFyIG1hdGNoLCBlbGVtOwogICAgICAgICAgICBpZiAoIXNlb=
GVjdG9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfQogICAg=
ICAgICAgICByb290ID0gcm9vdCB8fCByb290alF1ZXJ5OwogICAgICAgICAgICBpZiAodHlwZW9=
mIHNlbGVjdG9yID09PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yWz=
BdID09PSAiPCIgJiYgc2VsZWN0b3Jbc2VsZWN0b3IubGVuZ3RoIC0gMV0gPT09ICI+IiAmJiBzZ=
WxlY3Rvci5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICAgIG1hdGNoID0gW251bGws=
IHNlbGVjdG9yLCBudWxsXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICA=
gICAgICAgbWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoc2VsZWN0b3IpOwogICAgICAgICAgICAgIC=
AgfQogICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIChtYXRjaFsxXSB8fCAhY29udGV4dCkpI=
HsKICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHsKICAgICAgICAgICAgICAgICAg=
ICAgICAgY29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WzBdIDo=
gY29udGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKHRoaXMsIGpRdW=
VyeS5wYXJzZUhUTUwobWF0Y2hbMV0sIGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvb=
nRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsIHRydWUpKTsKICAgICAg=
ICAgICAgICAgICAgICAgICAgaWYgKHJzaW5nbGVUYWcudGVzdChtYXRjaFsxXSkgJiYgalF1ZXJ=
5LmlzUGxhaW5PYmplY3QoY29udGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG=
ZvciAobWF0Y2ggaW4gY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
GlmIChpc0Z1bmN0aW9uKHRoaXNbbWF0Y2hdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICB0aGlzW21hdGNoXShjb250ZXh0W21hdGNoXSk7CiAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgdGhpcy5hdHRyKG1hdGNoLCBjb250ZXh0W21hdGNoXSk7CiAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg=
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICA=
gICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPS=
Bkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXRjaFsyXSk7CiAgICAgICAgICAgICAgICAgICAgI=
CAgIGlmIChlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzWzBdID0gZWxl=
bTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTsKICAgICAgICA=
gICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKIC=
AgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjb250ZXh0I=
Hx8IGNvbnRleHQuanF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb250ZXh0=
IHx8IHJvb3QpLmZpbmQoc2VsZWN0b3IpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICA=
gICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvcihjb250ZXh0KS5maW5kKHNlbG=
VjdG9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvc=
i5ub2RlVHlwZSkgewogICAgICAgICAgICAgICAgdGhpc1swXSA9IHNlbGVjdG9yOwogICAgICAg=
ICAgICAgICAgdGhpcy5sZW5ndGggPSAxOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiA=
gICAgICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikpIHsKICAgICAgICAgIC=
AgICAgIHJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgPyByb290LnJlYWR5KHNlbGVjd=
G9yKSA6IHNlbGVjdG9yKGpRdWVyeSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJu=
IGpRdWVyeS5tYWtlQXJyYXkoc2VsZWN0b3IsIHRoaXMpOwogICAgICAgIH0pOwogICAgaW5pdC5=
wcm90b3R5cGUgPSBqUXVlcnkuZm47CiAgICByb290alF1ZXJ5ID0galF1ZXJ5KGRvY3VtZW50KT=
sKICAgIHZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpL=
ywKICAgICAgICBndWFyYW50ZWVkVW5pcXVlID0gewogICAgICAgICAgICBjaGlsZHJlbjogdHJ1=
ZSwKICAgICAgICAgICAgY29udGVudHM6IHRydWUsCiAgICAgICAgICAgIG5leHQ6IHRydWUsCiA=
gICAgICAgICAgIHByZXY6IHRydWUKICAgICAgICB9OwogICAgalF1ZXJ5LmZuLmV4dGVuZCh7Ci=
AgICAgICAgaGFzOiBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgICAgICAgIHZhciB0YXJnZXRzI=
D0galF1ZXJ5KHRhcmdldCwgdGhpcyksCiAgICAgICAgICAgICAgICBsID0gdGFyZ2V0cy5sZW5n=
dGg7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICA=
gICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykgew=
ogICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuY29udGFpbnModGhpcywgdGFyZ2V0c1tpX=
SkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAg=
ICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICA=
gICAgIGNsb3Nlc3Q6IGZ1bmN0aW9uIChzZWxlY3RvcnMsIGNvbnRleHQpIHsKICAgICAgICAgIC=
AgdmFyIGN1ciwKICAgICAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICAgICAgbCA9IHRoa=
XMubGVuZ3RoLAogICAgICAgICAgICAgICAgbWF0Y2hlZCA9IFtdLAogICAgICAgICAgICAgICAg=
dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09ICJzdHJpbmciICYmIGpRdWVyeShzZWxlY3R=
vcnMpOwogICAgICAgICAgICBpZiAoIXJuZWVkc0NvbnRleHQudGVzdChzZWxlY3RvcnMpKSB7Ci=
AgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICAgICAgICAgI=
GZvciAoY3VyID0gdGhpc1tpXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBh=
cmVudE5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5ub2RlVHlwZSA8IDE=
xICYmICh0YXJnZXRzID8gdGFyZ2V0cy5pbmRleChjdXIpID4gLTEgOiBjdXIubm9kZVR5cGUgPT=
09IDEgJiYgalF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGN1ciwgc2VsZWN0b3JzKSkpIHsKI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQucHVzaChjdXIpOwogICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICA=
gICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgIC=
AgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51b=
mlxdWVTb3J0KG1hdGNoZWQpIDogbWF0Y2hlZCk7CiAgICAgICAgfSwKICAgICAgICBpbmRleDog=
ZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgaWYgKCFlbGVtKSB7CiAgICAgICAgICAgICA=
gICByZXR1cm4gdGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUgPyB0aGlzLmZpcnN0KCkucH=
JldkFsbCgpLmxlbmd0aCA6IC0xOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0eXBlb=
2YgZWxlbSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbmRleE9mLmNh=
bGwoalF1ZXJ5KGVsZW0pLCB0aGlzWzBdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR=
1cm4gaW5kZXhPZi5jYWxsKHRoaXMsIGVsZW0uanF1ZXJ5ID8gZWxlbVswXSA6IGVsZW0pOwogIC=
AgICAgIH0sCiAgICAgICAgYWRkOiBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHsKICAgI=
CAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS51bmlxdWVTb3J0KGpRdWVyeS5t=
ZXJnZSh0aGlzLmdldCgpLCBqUXVlcnkoc2VsZWN0b3IsIGNvbnRleHQpKSkpOwogICAgICAgIH0=
sCiAgICAgICAgYWRkQmFjazogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgICAgIHJldH=
VybiB0aGlzLmFkZChzZWxlY3RvciA9PSBudWxsID8gdGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wc=
mV2T2JqZWN0LmZpbHRlcihzZWxlY3RvcikpOwogICAgICAgIH0sCiAgICB9KTsKCiAgICBmdW5j=
dGlvbiBzaWJsaW5nKGN1ciwgZGlyKSB7CiAgICAgICAgd2hpbGUgKChjdXIgPSBjdXJbZGlyXSk=
gJiYgY3VyLm5vZGVUeXBlICE9PSAxKSB7IH0KICAgICAgICByZXR1cm4gY3VyOwogICAgfQogIC=
AgalF1ZXJ5LmVhY2goCiAgICAgICAgewogICAgICAgICAgICBwYXJlbnQ6IGZ1bmN0aW9uIChlb=
GVtKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOwogICAg=
ICAgICAgICAgICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGF=
yZW50IDogbnVsbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFyZW50czogZnVuY3Rpb2=
4gKGVsZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgInBhcmVudE5vZGUiK=
TsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFyZW50c1VudGlsOiBmdW5jdGlvbiAoZWxl=
bSwgX2ksIHVudGlsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sICJwYXJlbnR=
Ob2RlIiwgdW50aWwpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXh0OiBmdW5jdGlvbi=
AoZWxlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmcoZWxlbSwgIm5leHRTaWJsa=
W5nIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByZXY6IGZ1bmN0aW9uIChlbGVtKSB7=
CiAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZyhlbGVtLCAicHJldmlvdXNTaWJsaW5nIik=
7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5leHRBbGw6IGZ1bmN0aW9uIChlbGVtKSB7Ci=
AgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sICJuZXh0U2libGluZyIpOwogICAgICAgI=
CAgICB9LAogICAgICAgICAgICBwcmV2QWxsOiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAg=
ICAgICAgcmV0dXJuIGRpcihlbGVtLCAicHJldmlvdXNTaWJsaW5nIik7CiAgICAgICAgICAgIH0=
sCiAgICAgICAgICAgIG5leHRVbnRpbDogZnVuY3Rpb24gKGVsZW0sIF9pLCB1bnRpbCkgewogIC=
AgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCAibmV4dFNpYmxpbmciLCB1bnRpbCk7CiAgI=
CAgICAgICAgIH0sCiAgICAgICAgICAgIHByZXZVbnRpbDogZnVuY3Rpb24gKGVsZW0sIF9pLCB1=
bnRpbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCAicHJldmlvdXNTaWJsaW5=
nIiwgdW50aWwpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzaWJsaW5nczogZnVuY3Rpb2=
4gKGVsZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5ncygoZWxlbS5wYXJlbnROb=
2RlIHx8IHt9KS5maXJzdENoaWxkLCBlbGVtKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAg=
Y2hpbGRyZW46IGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc2libGl=
uZ3MoZWxlbS5maXJzdENoaWxkKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29udGVudH=
M6IGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICBpZiAoZWxlbS5jb250ZW50RG9jd=
W1lbnQgIT0gbnVsbCAmJiBnZXRQcm90byhlbGVtLmNvbnRlbnREb2N1bWVudCkpIHsKICAgICAg=
ICAgICAgICAgICAgICByZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQ7CiAgICAgICAgICAgICA=
gICB9CiAgICAgICAgICAgICAgICBpZiAobm9kZU5hbWUoZWxlbSwgInRlbXBsYXRlIikpIHsKIC=
AgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07CiAgICAgICAgI=
CAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1lcmdlKFtdLCBlbGVtLmNo=
aWxkTm9kZXMpOwogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb24gKG5=
hbWUsIGZuKSB7CiAgICAgICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uICh1bnRpbC=
wgc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCh0a=
GlzLCBmbiwgdW50aWwpOwogICAgICAgICAgICAgICAgaWYgKG5hbWUuc2xpY2UoLTUpICE9PSAi=
VW50aWwiKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bnRpbDsKICAgICAgICA=
gICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3=
IgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IGpRdWVyeS5ma=
Wx0ZXIoc2VsZWN0b3IsIG1hdGNoZWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg=
ICAgaWYgKHRoaXMubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIGlmICghZ3VhcmF=
udGVlZFVuaXF1ZVtuYW1lXSkgewogICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkudW5pcX=
VlU29ydChtYXRjaGVkKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgI=
CAgaWYgKHJwYXJlbnRzcHJldi50ZXN0KG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAg=
IG1hdGNoZWQucmV2ZXJzZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICA=
gIH0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhtYXRjaGVkKTsKICAgIC=
AgICAgICAgfTsKICAgICAgICB9CiAgICApOwogICAgdmFyIHJub3RodG1sd2hpdGUgPSAvW15ce=
DIwXHRcclxuXGZdKy9nOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMob3B0aW9ucykgewog=
ICAgICAgIHZhciBvYmplY3QgPSB7fTsKICAgICAgICBqUXVlcnkuZWFjaChvcHRpb25zLm1hdGN=
oKHJub3RodG1sd2hpdGUpIHx8IFtdLCBmdW5jdGlvbiAoXywgZmxhZykgewogICAgICAgICAgIC=
BvYmplY3RbZmxhZ10gPSB0cnVlOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBvYmplY3Q7C=
iAgICB9CiAgICBqUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAg=
ICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICJzdHJpbmciID8gY3JlYXRlT3B0aW9ucyh=
vcHRpb25zKSA6IGpRdWVyeS5leHRlbmQoe30sIG9wdGlvbnMpOwogICAgICAgIHZhciBmaXJpbm=
csCiAgICAgICAgICAgIG1lbW9yeSwKICAgICAgICAgICAgZmlyZWQsCiAgICAgICAgICAgIGxvY=
2tlZCwKICAgICAgICAgICAgbGlzdCA9IFtdLAogICAgICAgICAgICBxdWV1ZSA9IFtdLAogICAg=
ICAgICAgICBmaXJpbmdJbmRleCA9IC0xLAogICAgICAgICAgICBmaXJlID0gZnVuY3Rpb24gKCk=
gewogICAgICAgICAgICAgICAgbG9ja2VkID0gbG9ja2VkIHx8IG9wdGlvbnMub25jZTsKICAgIC=
AgICAgICAgICAgIGZpcmVkID0gZmlyaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGZvciAoO=
yBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEpIHsKICAgICAgICAgICAgICAgICAgICBt=
ZW1vcnkgPSBxdWV1ZS5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgIHdoaWxlICgrK2Zpcml=
uZ0luZGV4IDwgbGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3=
RbZmlyaW5nSW5kZXhdLmFwcGx5KG1lbW9yeVswXSwgbWVtb3J5WzFdKSA9PT0gZmFsc2UgJiYgb=
3B0aW9ucy5zdG9wT25GYWxzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyaW5n=
SW5kZXggPSBsaXN0Lmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeSA=
9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQ=
ogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLm1lbW9yeSkge=
wogICAgICAgICAgICAgICAgICAgIG1lbW9yeSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgZmlyaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAobG9ja2V=
kKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbW9yeSkgewogICAgICAgICAgICAgICAgIC=
AgICAgICBsaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgI=
CAgICAgICAgICAgICAgbGlzdCA9ICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg=
ICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2VsZiA9IHsKICAgICAgICAgICA=
gICAgIGFkZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChsaXN0KSB7Ci=
AgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1vcnkgJiYgIWZpcmluZykgewogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7CiAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKG1lbW9yeSk7CiAgICAgICAgICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIGFkZChhcmdzKS=
B7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChhcmdzLCBmdW5jdGlvb=
iAoXywgYXJnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rp=
b24oYXJnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGl=
vbnMudW5pcXVlIHx8ICFzZWxmLmhhcyhhcmcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICBsaXN0LnB1c2goYXJnKTsKICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAo=
YXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKGFyZykgIT09ICJzdHJpbmciKSB7CiAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZChhcmcpOwogICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgI=
CAgICAgICAgICAgICAgICB9KShhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICBp=
ZiAobWVtb3J5ICYmICFmaXJpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmU=
oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgIC=
AgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgI=
CAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBqUXVlcnku=
ZWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uIChfLCBhcmcpIHsKICAgICAgICAgICAgICAgICAgICA=
gICAgdmFyIGluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGluZGV4ID0gal=
F1ZXJ5LmluQXJyYXkoYXJnLCBsaXN0LCBpbmRleCkpID4gLTEpIHsKICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgIGlmIChpbmRleCA8PSBmaXJpbmdJbmRleCkgewogICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgIGZpcmluZ0luZGV4LS07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci=
AgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgI=
CAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAg=
ICAgICBoYXM6IGZ1bmN0aW9uIChmbikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmbiA=
/IGpRdWVyeS5pbkFycmF5KGZuLCBsaXN0KSA+IC0xIDogbGlzdC5sZW5ndGggPiAwOwogICAgIC=
AgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoKSB7CiAgICAgI=
CAgICAgICAgICAgICAgaWYgKGxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9=
IFtdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGh=
pczsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbi=
AoKSB7CiAgICAgICAgICAgICAgICAgICAgbG9ja2VkID0gcXVldWUgPSBbXTsKICAgICAgICAgI=
CAgICAgICAgICBsaXN0ID0gbWVtb3J5ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJu=
IHRoaXM7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZ1bmN=
0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWxpc3Q7CiAgICAgICAgICAgIC=
AgICB9LAogICAgICAgICAgICAgICAgbG9jazogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgI=
CAgICAgIGxvY2tlZCA9IHF1ZXVlID0gW107CiAgICAgICAgICAgICAgICAgICAgaWYgKCFtZW1v=
cnkgJiYgIWZpcmluZykgewogICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbWVtb3J5ID0=
gIiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aG=
lzOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxvY2tlZDogZnVuY3Rpb24gK=
CkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWxvY2tlZDsKICAgICAgICAgICAgICAg=
IH0sCiAgICAgICAgICAgICAgICBmaXJlV2l0aDogZnVuY3Rpb24gKGNvbnRleHQsIGFyZ3MpIHs=
KICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2tlZCkgewogICAgICAgICAgICAgICAgICAgIC=
AgICBhcmdzID0gYXJncyB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtjb=
250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJnc107CiAgICAgICAgICAgICAg=
ICAgICAgICAgIHF1ZXVlLnB1c2goYXJncyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICg=
hZmlyaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlKCk7CiAgICAgICAgIC=
AgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgI=
CAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZmlyZTog=
ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHNlbGYuZmlyZVdpdGgodGhpcywgYXJ=
ndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgIC=
AgIH0sCiAgICAgICAgICAgICAgICBmaXJlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgI=
CAgICAgIHJldHVybiAhIWZpcmVkOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfTsK=
ICAgICAgICByZXR1cm4gc2VsZjsKICAgIH07CgogICAgZnVuY3Rpb24gSWRlbnRpdHkodikgewo=
gICAgICAgIHJldHVybiB2OwogICAgfQoKICAgIGZ1bmN0aW9uIFRocm93ZXIoZXgpIHsKICAgIC=
AgICB0aHJvdyBleDsKICAgIH0KCiAgICBmdW5jdGlvbiBhZG9wdFZhbHVlKHZhbHVlLCByZXNvb=
HZlLCByZWplY3QsIG5vVmFsdWUpIHsKICAgICAgICB2YXIgbWV0aG9kOwogICAgICAgIHRyeSB7=
CiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKChtZXRob2QgPSB2YWx1ZS5wcm9=
taXNlKSkpIHsKICAgICAgICAgICAgICAgIG1ldGhvZC5jYWxsKHZhbHVlKS5kb25lKHJlc29sdm=
UpLmZhaWwocmVqZWN0KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiBpc0Z1bmN0a=
W9uKChtZXRob2QgPSB2YWx1ZS50aGVuKSkpIHsKICAgICAgICAgICAgICAgIG1ldGhvZC5jYWxs=
KHZhbHVlLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICA=
gICAgICAgcmVzb2x2ZS5hcHBseSh1bmRlZmluZWQsIFt2YWx1ZV0uc2xpY2Uobm9WYWx1ZSkpOw=
ogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAodmFsdWUpIHsKICAgICAgICAgICAgcmVqZ=
WN0LmFwcGx5KHVuZGVmaW5lZCwgW3ZhbHVlXSk7CiAgICAgICAgfQogICAgfQogICAgalF1ZXJ5=
LmV4dGVuZCh7CiAgICAgICAgRGVmZXJyZWQ6IGZ1bmN0aW9uIChmdW5jKSB7CiAgICAgICAgICA=
gIHZhciB0dXBsZXMgPSBbCiAgICAgICAgICAgICAgICBbIm5vdGlmeSIsICJwcm9ncmVzcyIsIG=
pRdWVyeS5DYWxsYmFja3MoIm1lbW9yeSIpLCBqUXVlcnkuQ2FsbGJhY2tzKCJtZW1vcnkiKSwgM=
l0sCiAgICAgICAgICAgICAgICBbInJlc29sdmUiLCAiZG9uZSIsIGpRdWVyeS5DYWxsYmFja3Mo=
Im9uY2UgbWVtb3J5IiksIGpRdWVyeS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksIDAsICJyZXN=
vbHZlZCJdLAogICAgICAgICAgICAgICAgWyJyZWplY3QiLCAiZmFpbCIsIGpRdWVyeS5DYWxsYm=
Fja3MoIm9uY2UgbWVtb3J5IiksIGpRdWVyeS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksIDEsI=
CJyZWplY3RlZCJdLAogICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgc3RhdGUgPSAicGVu=
ZGluZyIsCiAgICAgICAgICAgICAgICBwcm9taXNlID0gewogICAgICAgICAgICAgICAgICAgIHN=
0YXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZT=
sKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGFsd2F5czogZnVuY=
3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5kb25lKGFyZ3VtZW50=
cykuZmFpbChhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczs=
KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGNhdGNoOiBmdW5jdG=
lvbiAoZm4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihud=
WxsLCBmbik7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwaXBl=
OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbnMgPSBhcmd1bWV=
udHM7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkKICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgIC5EZWZlcnJlZChmdW5jdGlvbiAobmV3RGVmZXIpIHsKICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaCh0dXBsZXMsIGZ1bmN0aW9uIChfaSwg=
dHVwbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gaXN=
GdW5jdGlvbihmbnNbdHVwbGVbNF1dKSAmJiBmbnNbdHVwbGVbNF1dOwogICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVsxXV0oZnVuY3Rpb24gKCkgewogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVybmVkID0gZm4g=
JiYgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgIGlmIChyZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKHJldHVybmVkLnByb21pc2=
UpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuZ=
WQucHJvbWlzZSgpLnByb2dyZXNzKG5ld0RlZmVyLm5vdGlmeSkuZG9uZShuZXdEZWZlci5yZXNv=
bHZlKS5mYWlsKG5ld0RlZmVyLnJlamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgIG5ld0RlZmVyW3R1cGxlWzBdICsgIldpdGgiXSh0aGlzLCBmbiA/IFtyZXR1cm5lZ=
F0gOiBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbn=
MgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgIC5wcm9taXNlKCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAg=
ICAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJ=
vZ3Jlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heERlcHRoID0gMDsKCiAgIC=
AgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoZGVwdGgsIGRlZmVycmVkLCBoY=
W5kbGVyLCBzcGVjaWFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVu=
Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGh=
pcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cy=
wKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRUaHJvdyA9IGZ1bmN0a=
W9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXR1=
cm5lZCwgdGhlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh=
kZXB0aCA8IG1heERlcHRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgf=
QogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuZWQgPSBoYW5k=
bGVyLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgaWYgKHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkpIHsKICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJUa=
GVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4=
gPSByZXR1cm5lZCAmJiAodHlwZW9mIHJldHVybmVkID09PSAib2JqZWN0IiB8fCB0eXBlb2Ygcm=
V0dXJuZWQgPT09ICJmdW5jdGlvbiIpICYmIHJldHVybmVkLnRoZW47CiAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkgewogICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsKSB7CiAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbChyZX=
R1cm5lZCwgcmVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsKSwgc=
mVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwpKTsKICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhEZXB0aCsrOwogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuLmNhbGwocmV0dXJuZ=
WQsIHJlc29sdmUobWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCksIHJlc29s=
dmUobWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsKSwgcmVzb2x2ZShtYXhEZXB=
0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBkZWZlcnJlZC5ub3RpZnlXaXRoKSk7CiAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlciAhPT0gSWRlbnRpdHkpIHsKICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCA9IHVuZGVmaW5lZDsKIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtyZ=
XR1cm5lZF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcGVjaWFsIHx8IGR=
lZmVycmVkLnJlc29sdmVXaXRoKSh0aGF0LCBhcmdzKTsKICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgf=
SwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VzcyA9IHNwZWNpYWwg=
PwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRUaHJvdyA6CiA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRUaHJvdygpOwogICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS=
5EZWZlcnJlZC5leGNlcHRpb25Ib29rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLCBw=
cm9jZXNzLnN0YWNrVHJhY2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgIGlmIChkZXB0aCArIDEgPj0gbWF4RGVwdGgpIHsKICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyICE9PSBUaHJvd2VyKSB7=
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gdGhhdCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICBhcmdzID0gW2VdOwogICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0V2l0aCh0aGF0LCBhcmdzKTs=
KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgaWYgKGRlcHRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2N=
lc3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrS=
G9vaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5z=
dGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpOwogICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHByb2Nlc3MpOwogICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeQogICAgICA=
gICAgICAgICAgICAgICAgICAgICAgLkRlZmVycmVkKGZ1bmN0aW9uIChuZXdEZWZlcikgewogIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1swXVszXS5hZGQocmVzb2x2ZSgwL=
CBuZXdEZWZlciwgaXNGdW5jdGlvbihvblByb2dyZXNzKSA/IG9uUHJvZ3Jlc3MgOiBJZGVudGl0=
eSwgbmV3RGVmZXIubm90aWZ5V2l0aCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gIHR1cGxlc1sxXVszXS5hZGQocmVzb2x2ZSgwLCBuZXdEZWZlciwgaXNGdW5jdGlvbihvbkZ1bG=
ZpbGxlZCkgPyBvbkZ1bGZpbGxlZCA6IElkZW50aXR5KSk7CiAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgdHVwbGVzWzJdWzNdLmFkZChyZXNvbHZlKDAsIG5ld0RlZmVyLCBpc0Z1bmN0=
aW9uKG9uUmVqZWN0ZWQpID8gb25SZWplY3RlZCA6IFRocm93ZXIpKTsKICAgICAgICAgICAgICA=
gICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvbWlzZSgpOw=
ogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZTogZnVuY=
3Rpb24gKG9iaikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqICE9IG51bGwg=
PyBqUXVlcnkuZXh0ZW5kKG9iaiwgcHJvbWlzZSkgOiBwcm9taXNlOwogICAgICAgICAgICAgICA=
gICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGVmZXJyZWQgPSB7fT=
sKICAgICAgICAgICAgalF1ZXJ5LmVhY2godHVwbGVzLCBmdW5jdGlvbiAoaSwgdHVwbGUpIHsKI=
CAgICAgICAgICAgICAgIHZhciBsaXN0ID0gdHVwbGVbMl0sCiAgICAgICAgICAgICAgICAgICAg=
c3RhdGVTdHJpbmcgPSB0dXBsZVs1XTsKICAgICAgICAgICAgICAgIHByb21pc2VbdHVwbGVbMV1=
dID0gbGlzdC5hZGQ7CiAgICAgICAgICAgICAgICBpZiAoc3RhdGVTdHJpbmcpIHsKICAgICAgIC=
AgICAgICAgICAgICBsaXN0LmFkZCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gK=
CkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZVN0cmluZzsKICAg=
ICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzM=
gLSBpXVsyXS5kaXNhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMyAtIGldWz=
NdLmRpc2FibGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1swXVsyXS5sb2NrLAogI=
CAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMF1bM10ubG9jawogICAgICAgICAgICAgICAg=
ICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsaXN0LmFkZCh0dXBsZVs=
zXS5maXJlKTsKICAgICAgICAgICAgICAgIGRlZmVycmVkW3R1cGxlWzBdXSA9IGZ1bmN0aW9uIC=
gpIHsKICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVswXSArICJXaXRoIl0odGhpc=
yA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAg=
ICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICA=
gIGRlZmVycmVkW3R1cGxlWzBdICsgIldpdGgiXSA9IGxpc3QuZmlyZVdpdGg7CiAgICAgICAgIC=
AgIH0pOwogICAgICAgICAgICBwcm9taXNlLnByb21pc2UoZGVmZXJyZWQpOwogICAgICAgICAgI=
CBpZiAoZnVuYykgewogICAgICAgICAgICAgICAgZnVuYy5jYWxsKGRlZmVycmVkLCBkZWZlcnJl=
ZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgICAgIH0=
sCiAgICAgICAgd2hlbjogZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7CiAgICAgICAgICAgIHZhci=
ByZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLAogICAgICAgICAgICAgICAgaSA9IHJlbWFpb=
mluZywKICAgICAgICAgICAgICAgIHJlc29sdmVDb250ZXh0cyA9IEFycmF5KGkpLAogICAgICAg=
ICAgICAgICAgcmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKSwKICAgICAgICA=
gICAgICAgIHByaW1hcnkgPSBqUXVlcnkuRGVmZXJyZWQoKSwKICAgICAgICAgICAgICAgIHVwZG=
F0ZUZ1bmMgPSBmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jd=
GlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUNvbnRleHRzW2ld=
ID0gdGhpczsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlc1tpXSA9IGFyZ3V=
tZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbChhcmd1bWVudHMpIDogdmFsdWU7CiAgICAgIC=
AgICAgICAgICAgICAgICAgIGlmICghLS1yZW1haW5pbmcpIHsKICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgIHByaW1hcnkucmVzb2x2ZVdpdGgocmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFs=
dWVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CiA=
gICAgICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IDEpIHsKICAgIC=
AgICAgICAgICAgIGFkb3B0VmFsdWUoc2luZ2xlVmFsdWUsIHByaW1hcnkuZG9uZSh1cGRhdGVGd=
W5jKGkpKS5yZXNvbHZlLCBwcmltYXJ5LnJlamVjdCwgIXJlbWFpbmluZyk7CiAgICAgICAgICAg=
ICAgICBpZiAocHJpbWFyeS5zdGF0ZSgpID09PSAicGVuZGluZyIgfHwgaXNGdW5jdGlvbihyZXN=
vbHZlVmFsdWVzW2ldICYmIHJlc29sdmVWYWx1ZXNbaV0udGhlbikpIHsKICAgICAgICAgICAgIC=
AgICAgICByZXR1cm4gcHJpbWFyeS50aGVuKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgI=
CAgIH0KICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgYWRvcHRWYWx1=
ZShyZXNvbHZlVmFsdWVzW2ldLCB1cGRhdGVGdW5jKGkpLCBwcmltYXJ5LnJlamVjdCk7CiAgICA=
gICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHByaW1hcnkucHJvbWlzZSgpOwogICAgICAgIH=
0sCiAgICB9KTsKICAgIHZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8U=
mVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvOwogICAgalF1ZXJ5LkRlZmVycmVkLmV4=
Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiAoZXJyb3IsIHN0YWNrKSB7CiAgICAgICAgaWYgKHdpbmR=
vdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZX=
MudGVzdChlcnJvci5uYW1lKSkgewogICAgICAgICAgICB3aW5kb3cuY29uc29sZS53YXJuKCJqU=
XVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ss=
IHN0YWNrKTsKICAgICAgICB9CiAgICB9OwogICAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnV=
uY3Rpb24gKGVycm9yKSB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew=
ogICAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9KTsKICAgIH07CiAgICB2YXIgcmVhZ=
HlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7CiAgICBqUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlv=
biAoZm4pIHsKICAgICAgICByZWFkeUxpc3QudGhlbihmbikuY2F0Y2goZnVuY3Rpb24gKGVycm9=
yKSB7CiAgICAgICAgICAgIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbihlcnJvcik7CiAgICAgICAgfS=
k7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9OwogICAgalF1ZXJ5LmV4dGVuZCh7CiAgICAgI=
CAgaXNSZWFkeTogZmFsc2UsCiAgICAgICAgcmVhZHlXYWl0OiAxLAogICAgICAgIHJlYWR5OiBm=
dW5jdGlvbiAod2FpdCkgewogICAgICAgICAgICBpZiAod2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ=
5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5KSB7CiAgICAgICAgICAgICAgICByZXR1cm47Ci=
AgICAgICAgICAgIH0KICAgICAgICAgICAgalF1ZXJ5LmlzUmVhZHkgPSB0cnVlOwogICAgICAgI=
CAgICBpZiAod2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwKSB7CiAgICAg=
ICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVhZHlMaXN0LnJ=
lc29sdmVXaXRoKGRvY3VtZW50LCBbalF1ZXJ5XSk7CiAgICAgICAgfSwKICAgIH0pOwogICAgal=
F1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjsKCiAgICBmdW5jdGlvbiBjb21wbGV0Z=
WQoKSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExv=
YWRlZCIsIGNvbXBsZXRlZCk7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImx=
vYWQiLCBjb21wbGV0ZWQpOwogICAgICAgIGpRdWVyeS5yZWFkeSgpOwogICAgfQogICAgaWYgKG=
RvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIgfHwgKGRvY3VtZW50LnJlYWR5U3Rhd=
GUgIT09ICJsb2FkaW5nIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKSkg=
ewogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGpRdWVyeS5yZWFkeSk7CiAgICB9IGVsc2Ugewo=
gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBjb2=
1wbGV0ZWQpOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgY29tcGxld=
GVkKTsKICAgIH0KICAgIHZhciBhY2Nlc3MgPSBmdW5jdGlvbiAoZWxlbXMsIGZuLCBrZXksIHZh=
bHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcpIHsKICAgICAgICB2YXIgaSA9IDAsCiAgICA=
gICAgICAgIGxlbiA9IGVsZW1zLmxlbmd0aCwKICAgICAgICAgICAgYnVsayA9IGtleSA9PSBudW=
xsOwogICAgICAgIGlmICh0b1R5cGUoa2V5KSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgY=
2hhaW5hYmxlID0gdHJ1ZTsKICAgICAgICAgICAgZm9yIChpIGluIGtleSkgewogICAgICAgICAg=
ICAgICAgYWNjZXNzKGVsZW1zLCBmbiwgaSwga2V5W2ldLCB0cnVlLCBlbXB0eUdldCwgcmF3KTs=
KICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgew=
ogICAgICAgICAgICBjaGFpbmFibGUgPSB0cnVlOwogICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb=
24odmFsdWUpKSB7CiAgICAgICAgICAgICAgICByYXcgPSB0cnVlOwogICAgICAgICAgICB9CiAg=
ICAgICAgICAgIGlmIChidWxrKSB7CiAgICAgICAgICAgICAgICBpZiAocmF3KSB7CiAgICAgICA=
gICAgICAgICAgICAgZm4uY2FsbChlbGVtcywgdmFsdWUpOwogICAgICAgICAgICAgICAgICAgIG=
ZuID0gbnVsbDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY=
nVsayA9IGZuOwogICAgICAgICAgICAgICAgICAgIGZuID0gZnVuY3Rpb24gKGVsZW0sIF9rZXks=
IHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBidWxrLmNhbGwoalF1ZXJ=
5KGVsZW0pLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH=
0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZm4pIHsKICAgICAgICAgICAgICAgIGZvc=
iAoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBmbihlbGVtc1tpXSwga2V5=
LCByYXcgPyB2YWx1ZSA6IHZhbHVlLmNhbGwoZWxlbXNbaV0sIGksIGZuKGVsZW1zW2ldLCBrZXk=
pKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaW=
YgKGNoYWluYWJsZSkgewogICAgICAgICAgICByZXR1cm4gZWxlbXM7CiAgICAgICAgfQogICAgI=
CAgIGlmIChidWxrKSB7CiAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1zKTsKICAgICAg=
ICB9CiAgICAgICAgcmV0dXJuIGxlbiA/IGZuKGVsZW1zWzBdLCBrZXkpIDogZW1wdHlHZXQ7CiA=
gICB9OwogICAgdmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sCiAgICAgICAgcmRhc2hBbHBoYSA9IC=
8tKFthLXpdKS9nOwoKICAgIGZ1bmN0aW9uIGZjYW1lbENhc2UoX2FsbCwgbGV0dGVyKSB7CiAgI=
CAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNh=
bWVsQ2FzZShzdHJpbmcpIHsKICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2Uocm1zUHJlZml=
4LCAibXMtIikucmVwbGFjZShyZGFzaEFscGhhLCBmY2FtZWxDYXNlKTsKICAgIH0KICAgIHZhci=
BhY2NlcHREYXRhID0gZnVuY3Rpb24gKG93bmVyKSB7CiAgICAgICAgcmV0dXJuIG93bmVyLm5vZ=
GVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICErb3duZXIubm9kZVR5cGU7=
CiAgICB9OwoKICAgIGZ1bmN0aW9uIERhdGEoKSB7CiAgICAgICAgdGhpcy5leHBhbmRvID0galF=
1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrOwogICAgfQogICAgRGF0YS51aWQgPSAxOwogICAgRG=
F0YS5wcm90b3R5cGUgPSB7CiAgICAgICAgY2FjaGU6IGZ1bmN0aW9uIChvd25lcikgewogICAgI=
CAgICAgICB2YXIgdmFsdWUgPSBvd25lclt0aGlzLmV4cGFuZG9dOwogICAgICAgICAgICBpZiAo=
IXZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHt9OwogICAgICAgICAgICAgICAgaWY=
gKGFjY2VwdERhdGEob3duZXIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyLm5vZG=
VUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyW3RoaXMuZXhwYW5kb10gPSB2Y=
Wx1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAg=
ICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3duZXIsIHRoaXMuZXhwYW5kbywgewogICAgICAgICA=
gICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgI=
CAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAg=
ICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfSwKICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvd25=
lciwgZGF0YSwgdmFsdWUpIHsKICAgICAgICAgICAgdmFyIHByb3AsCiAgICAgICAgICAgICAgIC=
BjYWNoZSA9IHRoaXMuY2FjaGUob3duZXIpOwogICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgP=
T09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICBjYWNoZVtjYW1lbENhc2UoZGF0YSldID0g=
dmFsdWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmb3IgKHByb3AgaW4=
gZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGNhY2hlW2NhbWVsQ2FzZShwcm9wKV0gPSBkYX=
RhW3Byb3BdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJld=
HVybiBjYWNoZTsKICAgICAgICB9LAogICAgICAgIGdldDogZnVuY3Rpb24gKG93bmVyLCBrZXkp=
IHsKICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jYWNoZShvd25=
lcikgOiBvd25lclt0aGlzLmV4cGFuZG9dICYmIG93bmVyW3RoaXMuZXhwYW5kb11bY2FtZWxDYX=
NlKGtleSldOwogICAgICAgIH0sCiAgICAgICAgYWNjZXNzOiBmdW5jdGlvbiAob3duZXIsIGtle=
SwgdmFsdWUpIHsKICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IChrZXkgJiYg=
dHlwZW9mIGtleSA9PT0gInN0cmluZyIgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkpIHsKICAgICA=
gICAgICAgICAgIHJldHVybiB0aGlzLmdldChvd25lciwga2V5KTsKICAgICAgICAgICAgfQogIC=
AgICAgICAgICB0aGlzLnNldChvd25lciwga2V5LCB2YWx1ZSk7CiAgICAgICAgICAgIHJldHVyb=
iB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7CiAgICAgICAgfSwKICAgICAgICBy=
ZW1vdmU6IGZ1bmN0aW9uIChvd25lciwga2V5KSB7CiAgICAgICAgICAgIHZhciBpLAogICAgICA=
gICAgICAgICAgY2FjaGUgPSBvd25lclt0aGlzLmV4cGFuZG9dOwogICAgICAgICAgICBpZiAoY2=
FjaGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgI=
CB9CiAgICAgICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAg=
aWYgKEFycmF5LmlzQXJyYXkoa2V5KSkgewogICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5=
tYXAoY2FtZWxDYXNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgIC=
AgICAga2V5ID0gY2FtZWxDYXNlKGtleSk7CiAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5I=
GluIGNhY2hlID8gW2tleV0gOiBrZXkubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW107CiAgICAg=
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpID0ga2V5Lmxlbmd0aDsKICAgICAgICAgICA=
gICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5W2=
ldXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoa2V5I=
D09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoY2FjaGUpKSB7CiAgICAgICAg=
ICAgICAgICBpZiAob3duZXIubm9kZVR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBvd25lclt=
0aGlzLmV4cGFuZG9dID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgIC=
AgICAgICAgICAgICAgICBkZWxldGUgb3duZXJbdGhpcy5leHBhbmRvXTsKICAgICAgICAgICAgI=
CAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGFzRGF0YTogZnVuY3Rpb24g=
KG93bmVyKSB7CiAgICAgICAgICAgIHZhciBjYWNoZSA9IG93bmVyW3RoaXMuZXhwYW5kb107CiA=
gICAgICAgICAgIHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU=
9iamVjdChjYWNoZSk7CiAgICAgICAgfSwKICAgIH07CiAgICB2YXIgZGF0YVByaXYgPSBuZXcgR=
GF0YSgpOwogICAgdmFyIGRhdGFVc2VyID0gbmV3IERhdGEoKTsKICAgIHZhciByYnJhY2UgPSAv=
Xig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLAogICAgICAgIHJtdWx0aURhc2ggPSAvW0E=
tWl0vZzsKCiAgICBmdW5jdGlvbiBnZXREYXRhKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YSA9PT=
0gInRydWUiKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBpZ=
iAoZGF0YSA9PT0gImZhbHNlIikgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAg=
fQogICAgICAgIGlmIChkYXRhID09PSAibnVsbCIpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw=
7CiAgICAgICAgfQogICAgICAgIGlmIChkYXRhID09PSArZGF0YSArICIiKSB7CiAgICAgICAgIC=
AgIHJldHVybiArZGF0YTsKICAgICAgICB9CiAgICAgICAgaWYgKHJicmFjZS50ZXN0KGRhdGEpK=
SB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpOwogICAgICAgIH0KICAgICAg=
ICByZXR1cm4gZGF0YTsKICAgIH0KCiAgICBmdW5jdGlvbiBkYXRhQXR0cihlbGVtLCBrZXksIGR=
hdGEpIHsKICAgICAgICB2YXIgbmFtZTsKICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkIC=
YmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgbmFtZSA9ICJkYXRhLSIgKyBrZ=
XkucmVwbGFjZShybXVsdGlEYXNoLCAiLSQmIikudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAg=
ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKG5hbWUpOwogICAgICAgICAgICBpZiAodHlwZW9mIGR=
hdGEgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIC=
AgICAgIGRhdGEgPSBnZXREYXRhKGRhdGEpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge=
yB9CiAgICAgICAgICAgICAgICBkYXRhVXNlci5zZXQoZWxlbSwga2V5LCBkYXRhKTsKICAgICAg=
ICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7CiAgICAgICA=
gICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgICBqUXVlcnkuZX=
h0ZW5kKHsKICAgICAgICBoYXNEYXRhOiBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICByZ=
XR1cm4gZGF0YVVzZXIuaGFzRGF0YShlbGVtKSB8fCBkYXRhUHJpdi5oYXNEYXRhKGVsZW0pOwog=
ICAgICAgIH0sCiAgICAgICAgZGF0YTogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIGRhdGEpIHsKICA=
gICAgICAgICAgcmV0dXJuIGRhdGFVc2VyLmFjY2VzcyhlbGVtLCBuYW1lLCBkYXRhKTsKICAgIC=
AgICB9LAogICAgICAgIHJlbW92ZURhdGE6IGZ1bmN0aW9uIChlbGVtLCBuYW1lKSB7CiAgICAgI=
CAgICAgIGRhdGFVc2VyLnJlbW92ZShlbGVtLCBuYW1lKTsKICAgICAgICB9LAogICAgICAgIF9k=
YXRhOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF=
0YVByaXYuYWNjZXNzKGVsZW0sIG5hbWUsIGRhdGEpOwogICAgICAgIH0sCiAgICAgICAgX3JlbW=
92ZURhdGE6IGZ1bmN0aW9uIChlbGVtLCBuYW1lKSB7CiAgICAgICAgICAgIGRhdGFQcml2LnJlb=
W92ZShlbGVtLCBuYW1lKTsKICAgICAgICB9LAogICAgfSk7CiAgICBqUXVlcnkuZm4uZXh0ZW5k=
KHsKICAgICAgICBkYXRhOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgICAgICAgICB2YXI=
gaSwKICAgICAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhLAogICAgICAgIC=
AgICAgICAgZWxlbSA9IHRoaXNbMF0sCiAgICAgICAgICAgICAgICBhdHRycyA9IGVsZW0gJiYgZ=
WxlbS5hdHRyaWJ1dGVzOwogICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHsKICAg=
ICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGRhdGE=
gPSBkYXRhVXNlci5nZXQoZWxlbSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZV=
R5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldChlbGVtLCAiaGFzRGF0YUF0dHJzIikpIHsKICAgI=
CAgICAgICAgICAgICAgICAgICAgaSA9IGF0dHJzLmxlbmd0aDsKICAgICAgICAgICAgICAgICAg=
ICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJ=
zW2ldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGF0dHJzW2ldLm=
5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZigiZ=
GF0YS0iKSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1l=
ID0gY2FtZWxDYXNlKG5hbWUuc2xpY2UoNSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICBkYXRhQXR0cihlbGVtLCBuYW1lLCBkYXRhW25hbWVdKTsKICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgI=
CAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0=
KGVsZW0sICJoYXNEYXRhQXR0cnMiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICA=
gICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgfQ=
ogICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgI=
CAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGRh=
dGFVc2VyLnNldCh0aGlzLCBrZXkpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0=
KICAgICAgICAgICAgcmV0dXJuIGFjY2VzcygKICAgICAgICAgICAgICAgIHRoaXMsCiAgICAgIC=
AgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0Y=
TsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7=
CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhVXNlci5nZXQoZWxlbSwga2V5KTs=
KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkgewogICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgI=
CAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFBdHRyKGVsZW0sIGtleSk7=
CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICA=
gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICAgICAgICAgIC=
AgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgI=
CB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAg=
ICAgICAgICAgICAgICAgZGF0YVVzZXIuc2V0KHRoaXMsIGtleSwgdmFsdWUpOwogICAgICAgICA=
gICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG51bGwsCi=
AgICAgICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggP=
iAxLAogICAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAgIHRydWUKICAgICAgICAg=
ICAgKTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZURhdGE6IGZ1bmN0aW9uIChrZXkpIHsKICA=
gICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgIC=
BkYXRhVXNlci5yZW1vdmUodGhpcywga2V5KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKI=
CAgIH0pOwogICAgalF1ZXJ5LmV4dGVuZCh7CiAgICAgICAgcXVldWU6IGZ1bmN0aW9uIChlbGVt=
LCB0eXBlLCBkYXRhKSB7CiAgICAgICAgICAgIHZhciBxdWV1ZTsKICAgICAgICAgICAgaWYgKGV=
sZW0pIHsKICAgICAgICAgICAgICAgIHR5cGUgPSAodHlwZSB8fCAiZngiKSArICJxdWV1ZSI7Ci=
AgICAgICAgICAgICAgICBxdWV1ZSA9IGRhdGFQcml2LmdldChlbGVtLCB0eXBlKTsKICAgICAgI=
CAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWV1ZSB8fCBB=
cnJheS5pc0FycmF5KGRhdGEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlID0gZGF=
0YVByaXYuYWNjZXNzKGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoZGF0YSkpOwogICAgIC=
AgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c=
2goZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAg=
ICAgICAgICAgcmV0dXJuIHF1ZXVlIHx8IFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICA=
gICAgICBkZXF1ZXVlOiBmdW5jdGlvbiAoZWxlbSwgdHlwZSkgewogICAgICAgICAgICB0eXBlID=
0gdHlwZSB8fCAiZngiOwogICAgICAgICAgICB2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoZWxlb=
SwgdHlwZSksCiAgICAgICAgICAgICAgICBzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCwKICAg=
ICAgICAgICAgICAgIGZuID0gcXVldWUuc2hpZnQoKSwKICAgICAgICAgICAgICAgIGhvb2tzID0=
galF1ZXJ5Ll9xdWV1ZUhvb2tzKGVsZW0sIHR5cGUpLAogICAgICAgICAgICAgICAgbmV4dCA9IG=
Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZShlbGVtLCB0e=
XBlKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChmbiA9PT0gImlucHJvZ3Jl=
c3MiKSB7CiAgICAgICAgICAgICAgICBmbiA9IHF1ZXVlLnNoaWZ0KCk7CiAgICAgICAgICAgICA=
gICBzdGFydExlbmd0aC0tOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmbikgewogIC=
AgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICJmeCIpIHsKICAgICAgICAgICAgICAgICAgICBxd=
WV1ZS51bnNoaWZ0KCJpbnByb2dyZXNzIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg=
ICAgICBkZWxldGUgaG9va3Muc3RvcDsKICAgICAgICAgICAgICAgIGZuLmNhbGwoZWxlbSwgbmV=
4dCwgaG9va3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc3RhcnRMZW5ndGggJi=
YgaG9va3MpIHsKICAgICAgICAgICAgICAgIGhvb2tzLmVtcHR5LmZpcmUoKTsKICAgICAgICAgI=
CAgfQogICAgICAgIH0sCiAgICAgICAgX3F1ZXVlSG9va3M6IGZ1bmN0aW9uIChlbGVtLCB0eXBl=
KSB7CiAgICAgICAgICAgIHZhciBrZXkgPSB0eXBlICsgInF1ZXVlSG9va3MiOwogICAgICAgICA=
gICByZXR1cm4gKAogICAgICAgICAgICAgICAgZGF0YVByaXYuZ2V0KGVsZW0sIGtleSkgfHwKIC=
AgICAgICAgICAgICAgIGRhdGFQcml2LmFjY2VzcyhlbGVtLCBrZXksIHsKICAgICAgICAgICAgI=
CAgICAgICBlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rp=
b24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZWxlbSwgW3R=
5cGUgKyAicXVldWUiLCBrZXldKTsKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgIC=
AgICAgIH0pCiAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgIH0pOwogICAgalF1ZXJ5LmZuL=
mV4dGVuZCh7CiAgICAgICAgcXVldWU6IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7CiAgICAgICAg=
ICAgIHZhciBzZXR0ZXIgPSAyOwogICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgIT09ICJzdHJ=
pbmciKSB7CiAgICAgICAgICAgICAgICBkYXRhID0gdHlwZTsKICAgICAgICAgICAgICAgIHR5cG=
UgPSAiZngiOwogICAgICAgICAgICAgICAgc2V0dGVyLS07CiAgICAgICAgICAgIH0KICAgICAgI=
CAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIpIHsKICAgICAgICAgICAgICAgIHJl=
dHVybiBqUXVlcnkucXVldWUodGhpc1swXSwgdHlwZSk7CiAgICAgICAgICAgIH0KICAgICAgICA=
gICAgcmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/CiAgICAgICAgICAgICAgICB0aGlzIDoKIC=
AgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgI=
CAgdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKHRoaXMsIHR5cGUsIGRhdGEpOwogICAgICAgICAg=
ICAgICAgICAgIGpRdWVyeS5fcXVldWVIb29rcyh0aGlzLCB0eXBlKTsKICAgICAgICAgICAgICA=
gICAgICBpZiAodHlwZSA9PT0gImZ4IiAmJiBxdWV1ZVswXSAhPT0gImlucHJvZ3Jlc3MiKSB7Ci=
AgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kZXF1ZXVlKHRoaXMsIHR5cGUpOwogICAgI=
CAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAg=
ZGVxdWV1ZTogZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaCh=
mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSh0aGlzLCB0eXBlKT=
sKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBjbGVhclF1ZXVlOiBmdW5jdGlvb=
iAodHlwZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZSh0eXBlIHx8ICJmeCIsIFtd=
KTsKICAgICAgICB9LAogICAgICAgIHByb21pc2U6IGZ1bmN0aW9uICh0eXBlLCBvYmopIHsKICA=
gICAgICAgICAgdmFyIHRtcCwKICAgICAgICAgICAgICAgIGNvdW50ID0gMSwKICAgICAgICAgIC=
AgICAgIGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksCiAgICAgICAgICAgICAgICBlbGVtZW50c=
yA9IHRoaXMsCiAgICAgICAgICAgICAgICBpID0gdGhpcy5sZW5ndGgsCiAgICAgICAgICAgICAg=
ICByZXNvbHZlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmICghLS1jb3V=
udCkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlV2l0aChlbGVtZW50cy=
wgW2VsZW1lbnRzXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKI=
CAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlICE9PSAic3RyaW5nIikgewogICAgICAgICAgICAg=
ICAgb2JqID0gdHlwZTsKICAgICAgICAgICAgICAgIHR5cGUgPSB1bmRlZmluZWQ7CiAgICAgICA=
gICAgIH0KICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgImZ4IjsKICAgICAgICAgICAgd2hpbG=
UgKGktLSkgewogICAgICAgICAgICAgICAgdG1wID0gZGF0YVByaXYuZ2V0KGVsZW1lbnRzW2ldL=
CB0eXBlICsgInF1ZXVlSG9va3MiKTsKICAgICAgICAgICAgICAgIGlmICh0bXAgJiYgdG1wLmVt=
cHR5KSB7CiAgICAgICAgICAgICAgICAgICAgY291bnQrKzsKICAgICAgICAgICAgICAgICAgICB=
0bXAuZW1wdHkuYWRkKHJlc29sdmUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9Ci=
AgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2Uob=
2JqKTsKICAgICAgICB9LAogICAgfSk7CiAgICB2YXIgcG51bSA9IC9bKy1dPyg/OlxkKlwufClc=
ZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlOwogICAgdmFyIHJjc3NOdW0gPSBuZXcgUmVnRXh=
wKCJeKD86KFsrLV0pPXwpKCIgKyBwbnVtICsgIikoW2EteiVdKikkIiwgImkiKTsKICAgIHZhci=
Bjc3NFeHBhbmQgPSBbIlRvcCIsICJSaWdodCIsICJCb3R0b20iLCAiTGVmdCJdOwogICAgdmFyI=
GRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgIHZhciBpc0F0=
dGFjaGVkID0gZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICByZXR1cm4galF1ZXJ5LmNvbnRhaW5=
zKGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSk7CiAgICB9LAogICAgICAgIGNvbXBvc2VkID0gew=
ogICAgICAgICAgICBjb21wb3NlZDogdHJ1ZQogICAgICAgIH07CiAgICBpZiAoZG9jdW1lbnRFb=
GVtZW50LmdldFJvb3ROb2RlKSB7CiAgICAgICAgaXNBdHRhY2hlZCA9IGZ1bmN0aW9uIChlbGVt=
KSB7CiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW5=
0LCBlbGVtKSB8fCBlbGVtLmdldFJvb3ROb2RlKGNvbXBvc2VkKSA9PT0gZWxlbS5vd25lckRvY3=
VtZW50OwogICAgICAgIH07CiAgICB9CiAgICB2YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY=
3Rpb24gKGVsZW0sIGVsKSB7CiAgICAgICAgZWxlbSA9IGVsIHx8IGVsZW07CiAgICAgICAgcmV0=
dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiIHx8IChlbGVtLnN0eWxlLmRpc3BsYXk=
gPT09ICIiICYmIGlzQXR0YWNoZWQoZWxlbSkgJiYgalF1ZXJ5LmNzcyhlbGVtLCAiZGlzcGxheS=
IpID09PSAibm9uZSIpOwogICAgfTsKCiAgICBmdW5jdGlvbiBhZGp1c3RDU1MoZWxlbSwgcHJvc=
CwgdmFsdWVQYXJ0cywgdHdlZW4pIHsKICAgICAgICB2YXIgYWRqdXN0ZWQsCiAgICAgICAgICAg=
IHNjYWxlLAogICAgICAgICAgICBtYXhJdGVyYXRpb25zID0gMjAsCiAgICAgICAgICAgIGN1cnJ=
lbnRWYWx1ZSA9IHR3ZWVuID8KICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgIC=
AgICAgICAgICAgICByZXR1cm4gdHdlZW4uY3VyKCk7CiAgICAgICAgICAgICAgICB9IDoKICAgI=
CAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1=
ZXJ5LmNzcyhlbGVtLCBwcm9wLCAiIik7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB=
pbml0aWFsID0gY3VycmVudFZhbHVlKCksCiAgICAgICAgICAgIHVuaXQgPSAodmFsdWVQYXJ0cy=
AmJiB2YWx1ZVBhcnRzWzNdKSB8fCAoalF1ZXJ5LmNzc051bWJlcltwcm9wXSA/ICIiIDogInB4I=
iksCiAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSBlbGVtLm5vZGVUeXBlICYmIChqUXVlcnku=
Y3NzTnVtYmVyW3Byb3BdIHx8ICh1bml0ICE9PSAicHgiICYmICtpbml0aWFsKSkgJiYgcmNzc05=
1bS5leGVjKGpRdWVyeS5jc3MoZWxlbSwgcHJvcCkpOwogICAgICAgIGlmIChpbml0aWFsSW5Vbm=
l0ICYmIGluaXRpYWxJblVuaXRbM10gIT09IHVuaXQpIHsKICAgICAgICAgICAgaW5pdGlhbCA9I=
GluaXRpYWwgLyAyOwogICAgICAgICAgICB1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WzNd=
OwogICAgICAgICAgICBpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTsKICAgICAgICAgICA=
gd2hpbGUgKG1heEl0ZXJhdGlvbnMtLSkgewogICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKG=
VsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0KTsKICAgICAgICAgICAgICAgIGlmICgoM=
SAtIHNjYWxlKSAqICgxIC0gKHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsIHx8IDAu=
NSkpIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICBtYXhJdGVyYXRpb25zID0gMDsKICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbm=
l0IC8gc2NhbGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5pdGlhbEluVW5pdCA9IGlua=
XRpYWxJblVuaXQgKiAyOwogICAgICAgICAgICBqUXVlcnkuc3R5bGUoZWxlbSwgcHJvcCwgaW5p=
dGlhbEluVW5pdCArIHVuaXQpOwogICAgICAgICAgICB2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB=
8fCBbXTsKICAgICAgICB9CiAgICAgICAgaWYgKHZhbHVlUGFydHMpIHsKICAgICAgICAgICAgaW=
5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7CiAgICAgICAgI=
CAgIGFkanVzdGVkID0gdmFsdWVQYXJ0c1sxXSA/IGluaXRpYWxJblVuaXQgKyAodmFsdWVQYXJ0=
c1sxXSArIDEpICogdmFsdWVQYXJ0c1syXSA6ICt2YWx1ZVBhcnRzWzJdOwogICAgICAgICAgICB=
pZiAodHdlZW4pIHsKICAgICAgICAgICAgICAgIHR3ZWVuLnVuaXQgPSB1bml0OwogICAgICAgIC=
AgICAgICAgdHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0OwogICAgICAgICAgICAgICAgdHdlZ=
W4uZW5kID0gYWRqdXN0ZWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJu=
IGFkanVzdGVkOwogICAgfQogICAgdmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307CgogICAgZnV=
uY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoZWxlbSkgewogICAgICAgIHZhciB0ZW1wLAogICAgIC=
AgICAgICBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsCiAgICAgICAgICAgIG5vZGVOYW1lID0gZ=
WxlbS5ub2RlTmFtZSwKICAgICAgICAgICAgZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwW25v=
ZGVOYW1lXTsKICAgICAgICBpZiAoZGlzcGxheSkgewogICAgICAgICAgICByZXR1cm4gZGlzcGx=
heTsKICAgICAgICB9CiAgICAgICAgdGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKGRvYy5jcm=
VhdGVFbGVtZW50KG5vZGVOYW1lKSk7CiAgICAgICAgZGlzcGxheSA9IGpRdWVyeS5jc3ModGVtc=
CwgImRpc3BsYXkiKTsKICAgICAgICB0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGVtcCk7=
CiAgICAgICAgaWYgKGRpc3BsYXkgPT09ICJub25lIikgewogICAgICAgICAgICBkaXNwbGF5ID0=
gImJsb2NrIjsKICAgICAgICB9CiAgICAgICAgZGVmYXVsdERpc3BsYXlNYXBbbm9kZU5hbWVdID=
0gZGlzcGxheTsKICAgICAgICByZXR1cm4gZGlzcGxheTsKICAgIH0KCiAgICBmdW5jdGlvbiBza=
G93SGlkZShlbGVtZW50cywgc2hvdykgewogICAgICAgIHZhciBkaXNwbGF5LAogICAgICAgICAg=
ICBlbGVtLAogICAgICAgICAgICB2YWx1ZXMgPSBbXSwKICAgICAgICAgICAgaW5kZXggPSAwLAo=
gICAgICAgICAgICBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7CiAgICAgICAgZm9yICg7IGluZG=
V4IDwgbGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGVsZW0gPSBlbGVtZW50c1tpbmRle=
F07CiAgICAgICAgICAgIGlmICghZWxlbS5zdHlsZSkgewogICAgICAgICAgICAgICAgY29udGlu=
dWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGx=
heTsKICAgICAgICAgICAgaWYgKHNob3cpIHsKICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ID=
09PSAibm9uZSIpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gZGF0YVBya=
XYuZ2V0KGVsZW0sICJkaXNwbGF5IikgfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICBpZiAo=
IXZhbHVlc1tpbmRleF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXN=
wbGF5ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgIC=
AgICAgICAgICAgaWYgKGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gIiIgJiYgaXNIaWRkZW5XaXRoa=
W5UcmVlKGVsZW0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IGdldERl=
ZmF1bHREaXNwbGF5KGVsZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2U=
gewogICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICJub25lIikgewogICAgICAgICAgIC=
AgICAgICAgIHZhbHVlc1tpbmRleF0gPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgZGF0Y=
VByaXYuc2V0KGVsZW0sICJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgICAgICAgICB9CiAg=
ICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbGV=
uZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZXNbaW5kZXhdICE9IG51bGwpIH=
sKICAgICAgICAgICAgICAgIGVsZW1lbnRzW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzW=
2luZGV4XTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZWxlbWVudHM7=
CiAgICB9CiAgICBqUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB=
7CiAgICAgICAgICAgIHJldHVybiBzaG93SGlkZSh0aGlzLCB0cnVlKTsKICAgICAgICB9LAogIC=
AgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHNob3dIaWRlKHRoa=
XMpOwogICAgICAgIH0sCiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAg=
ICAgICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gImJvb2xlYW4iKSB7CiAgICAgICAgICAgICAgICB=
yZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpOwogICAgICAgICAgICB9Ci=
AgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgI=
CAgaWYgKGlzSGlkZGVuV2l0aGluVHJlZSh0aGlzKSkgewogICAgICAgICAgICAgICAgICAgIGpR=
dWVyeSh0aGlzKS5zaG93KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICA=
gICAgICAgIGpRdWVyeSh0aGlzKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgIC=
AgIH0pOwogICAgICAgIH0sCiAgICB9KTsKICAgIHZhciByY2hlY2thYmxlVHlwZSA9IC9eKD86Y=
2hlY2tib3h8cmFkaW8pJC9pOwogICAgdmFyIHJ0YWdOYW1lID0gLzwoW2Etel1bXlwvXDA+XHgy=
MFx0XHJcblxmXSopL2k7CiAgICB2YXIgcnNjcmlwdFR5cGUgPSAvXiR8Xm1vZHVsZSR8XC8oPzp=
qYXZhfGVjbWEpc2NyaXB0L2k7CiAgICAoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBmcmFnbW=
VudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwKICAgICAgICAgICAgZGl2I=
D0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLAog=
ICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICA=
gICAgaW5wdXQuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInJhZGlvIik7CiAgICAgICAgaW5wdXQuc2=
V0QXR0cmlidXRlKCJjaGVja2VkIiwgImNoZWNrZWQiKTsKICAgICAgICBpbnB1dC5zZXRBdHRya=
WJ1dGUoIm5hbWUiLCAidCIpOwogICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAg=
ICAgc3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSh0cnVlKS5jbG9uZU5vZGUodHJ=
1ZSkubGFzdENoaWxkLmNoZWNrZWQ7CiAgICAgICAgZGl2LmlubmVySFRNTCA9ICI8dGV4dGFyZW=
E+eDwvdGV4dGFyZWE+IjsKICAgICAgICBzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY=
2xvbmVOb2RlKHRydWUpLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7CiAgICAgICAgZGl2LmlubmVy=
SFRNTCA9ICI8b3B0aW9uPjwvb3B0aW9uPiI7CiAgICAgICAgc3VwcG9ydC5vcHRpb24gPSAhIWR=
pdi5sYXN0Q2hpbGQ7CiAgICB9KSgpOwogICAgdmFyIHdyYXBNYXAgPSB7CiAgICAgICAgdGhlYW=
Q6IFsxLCAiPHRhYmxlPiIsICI8L3RhYmxlPiJdLAogICAgICAgIGNvbDogWzIsICI8dGFibGU+P=
GNvbGdyb3VwPiIsICI8L2NvbGdyb3VwPjwvdGFibGU+Il0sCiAgICAgICAgdHI6IFsyLCAiPHRh=
YmxlPjx0Ym9keT4iLCAiPC90Ym9keT48L3RhYmxlPiJdLAogICAgICAgIHRkOiBbMywgIjx0YWJ=
sZT48dGJvZHk+PHRyPiIsICI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSwKICAgICAgICBfZGVmYX=
VsdDogWzAsICIiLCAiIl0sCiAgICB9OwogICAgd3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb=
3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDsK=
ICAgIHdyYXBNYXAudGggPSB3cmFwTWFwLnRkOwogICAgaWYgKCFzdXBwb3J0Lm9wdGlvbikgewo=
gICAgICAgIHdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbiA9IFsxLCAiPHNlbGVjdC=
BtdWx0aXBsZT0nbXVsdGlwbGUnPiIsICI8L3NlbGVjdD4iXTsKICAgIH0KCiAgICBmdW5jdGlvb=
iBnZXRBbGwoY29udGV4dCwgdGFnKSB7CiAgICAgICAgdmFyIHJldDsKICAgICAgICBpZiAodHlw=
ZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQiKSB7CiAgICA=
gICAgICAgIHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnIHx8ICIqIik7Ci=
AgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSAid=
W5kZWZpbmVkIikgewogICAgICAgICAgICByZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwo=
dGFnIHx8ICIqIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0ID0gW107CiAgICA=
gICAgfQogICAgICAgIGlmICh0YWcgPT09IHVuZGVmaW5lZCB8fCAodGFnICYmIG5vZGVOYW1lKG=
NvbnRleHQsIHRhZykpKSB7CiAgICAgICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoW2NvbnRle=
HRdLCByZXQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIGZ1bmN0=
aW9uIHNldEdsb2JhbEV2YWwoZWxlbXMsIHJlZkVsZW1lbnRzKSB7CiAgICAgICAgdmFyIGkgPSA=
wLAogICAgICAgICAgICBsID0gZWxlbXMubGVuZ3RoOwogICAgICAgIGZvciAoOyBpIDwgbDsgaS=
srKSB7CiAgICAgICAgICAgIGRhdGFQcml2LnNldChlbGVtc1tpXSwgImdsb2JhbEV2YWwiLCAhc=
mVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KHJlZkVsZW1lbnRzW2ldLCAiZ2xvYmFsRXZhbCIp=
KTsKICAgICAgICB9CiAgICB9CiAgICB2YXIgcmh0bWwgPSAvPHwmIz9cdys7LzsKCiAgICBmdW5=
jdGlvbiBidWlsZEZyYWdtZW50KGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIG=
lnbm9yZWQpIHsKICAgICAgICB2YXIgZWxlbSwKICAgICAgICAgICAgdG1wLAogICAgICAgICAgI=
CB0YWcsCiAgICAgICAgICAgIHdyYXAsCiAgICAgICAgICAgIGF0dGFjaGVkLAogICAgICAgICAg=
ICBqLAogICAgICAgICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWV=
udCgpLAogICAgICAgICAgICBub2RlcyA9IFtdLAogICAgICAgICAgICBpID0gMCwKICAgICAgIC=
AgICAgbCA9IGVsZW1zLmxlbmd0aDsKICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykgewogICAgI=
CAgICAgICBlbGVtID0gZWxlbXNbaV07CiAgICAgICAgICAgIGlmIChlbGVtIHx8IGVsZW0gPT09=
IDApIHsKICAgICAgICAgICAgICAgIGlmICh0b1R5cGUoZWxlbSkgPT09ICJvYmplY3QiKSB7CiA=
gICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gW2=
VsZW1dIDogZWxlbSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyaHRtbC50ZXN0KGVsZ=
W0pKSB7CiAgICAgICAgICAgICAgICAgICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHRO=
b2RlKGVsZW0pKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICA=
gdG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudC=
giZGl2IikpOwogICAgICAgICAgICAgICAgICAgIHRhZyA9IChydGFnTmFtZS5leGVjKGVsZW0pI=
Hx8IFsiIiwgIiJdKVsxXS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIHdyYXAg=
PSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDsKICAgICAgICAgICAgICAgICAgICB=
0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKGVsZW0pICsgd3=
JhcFsyXTsKICAgICAgICAgICAgICAgICAgICBqID0gd3JhcFswXTsKICAgICAgICAgICAgICAgI=
CAgICB3aGlsZSAoai0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5sYXN0=
Q2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGpRdWVyeS5=
tZXJnZShub2RlcywgdG1wLmNoaWxkTm9kZXMpOwogICAgICAgICAgICAgICAgICAgIHRtcCA9IG=
ZyYWdtZW50LmZpcnN0Q2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgdG1wLnRleHRDb250ZW50I=
D0gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAg=
ZnJhZ21lbnQudGV4dENvbnRlbnQgPSAiIjsKICAgICAgICBpID0gMDsKICAgICAgICB3aGlsZSA=
oKGVsZW0gPSBub2Rlc1tpKytdKSkgewogICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIGpRdW=
VyeS5pbkFycmF5KGVsZW0sIHNlbGVjdGlvbikgPiAtMSkgewogICAgICAgICAgICAgICAgaWYgK=
Glnbm9yZWQpIHsKICAgICAgICAgICAgICAgICAgICBpZ25vcmVkLnB1c2goZWxlbSk7CiAgICAg=
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICA=
gICAgICAgICBhdHRhY2hlZCA9IGlzQXR0YWNoZWQoZWxlbSk7CiAgICAgICAgICAgIHRtcCA9IG=
dldEFsbChmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtKSwgInNjcmlwdCIpOwogICAgICAgICAgI=
CBpZiAoYXR0YWNoZWQpIHsKICAgICAgICAgICAgICAgIHNldEdsb2JhbEV2YWwodG1wKTsKICAg=
ICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2NyaXB0cykgewogICAgICAgICAgICAgICAgaiA=
9IDA7CiAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSB0bXBbaisrXSkpIHsKICAgICAgIC=
AgICAgICAgICAgICBpZiAocnNjcmlwdFR5cGUudGVzdChlbGVtLnR5cGUgfHwgIiIpKSB7CiAgI=
CAgICAgICAgICAgICAgICAgICAgIHNjcmlwdHMucHVzaChlbGVtKTsKICAgICAgICAgICAgICAg=
ICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICA=
gcmV0dXJuIGZyYWdtZW50OwogICAgfQogICAgdmFyIHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXS=
opKD86XC4oLispfCkvOwoKICAgIGZ1bmN0aW9uIHJldHVyblRydWUoKSB7CiAgICAgICAgcmV0d=
XJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7CiAgICAgICAgcmV0=
dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGV4cGVjdFN5bmMoZWxlbSwgdHlwZSkgewo=
gICAgICAgIHJldHVybiAoZWxlbSA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSkgPT09ICh0eXBlID=
09PSAiZm9jdXMiKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHsKI=
CAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsK=
ICAgICAgICB9IGNhdGNoIChlcnIpIHsgfQogICAgfQoKICAgIGZ1bmN0aW9uIG9uKGVsZW0sIHR=
5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSkgewogICAgICAgIHZhciBvcmlnRm4sIHR5cG=
U7CiAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAga=
WYgKHR5cGVvZiBzZWxlY3RvciAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIGRhdGEg=
PSBkYXRhIHx8IHNlbGVjdG9yOwogICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ=
7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh0eXBlIGluIHR5cGVzKSB7CiAgICAgIC=
AgICAgICAgICBvbihlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbdHlwZV0sIG9uZ=
Sk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGVsZW07CiAgICAgICAgfQogICAg=
ICAgIGlmIChkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCkgewogICAgICAgICAgICBmbiA9IHN=
lbGVjdG9yOwogICAgICAgICAgICBkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7CiAgICAgIC=
AgfSBlbHNlIGlmIChmbiA9PSBudWxsKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b=
3IgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICBmbiA9IGRhdGE7CiAgICAgICAgICAg=
ICAgICBkYXRhID0gdW5kZWZpbmVkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICA=
gICAgZm4gPSBkYXRhOwogICAgICAgICAgICAgICAgZGF0YSA9IHNlbGVjdG9yOwogICAgICAgIC=
AgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgI=
CAgICAgaWYgKGZuID09PSBmYWxzZSkgewogICAgICAgICAgICBmbiA9IHJldHVybkZhbHNlOwog=
ICAgICAgIH0gZWxzZSBpZiAoIWZuKSB7CiAgICAgICAgICAgIHJldHVybiBlbGVtOwogICAgICA=
gIH0KICAgICAgICBpZiAob25lID09PSAxKSB7CiAgICAgICAgICAgIG9yaWdGbiA9IGZuOwogIC=
AgICAgICAgICBmbiA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgalF1ZXJ5K=
Ckub2ZmKGV2ZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiBvcmlnRm4uYXBwbHkodGhpcywg=
YXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZm4uZ3VpZCA9IG9yaWdGbi5=
ndWlkIHx8IChvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKyspOwogICAgICAgIH0KICAgICAgIC=
ByZXR1cm4gZWxlbS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgalF1ZXJ5LmV2ZW50L=
mFkZCh0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yKTsKICAgICAgICB9KTsKICAgIH0K=
ICAgIGpRdWVyeS5ldmVudCA9IHsKICAgICAgICBnbG9iYWw6IHt9LAogICAgICAgIGFkZDogZnV=
uY3Rpb24gKGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvcikgewogICAgICAgIC=
AgICB2YXIgaGFuZGxlT2JqSW4sCiAgICAgICAgICAgICAgICBldmVudEhhbmRsZSwKICAgICAgI=
CAgICAgICAgIHRtcCwKICAgICAgICAgICAgICAgIGV2ZW50cywKICAgICAgICAgICAgICAgIHQs=
CiAgICAgICAgICAgICAgICBoYW5kbGVPYmosCiAgICAgICAgICAgICAgICBzcGVjaWFsLAogICA=
gICAgICAgICAgICAgaGFuZGxlcnMsCiAgICAgICAgICAgICAgICB0eXBlLAogICAgICAgICAgIC=
AgICAgbmFtZXNwYWNlcywKICAgICAgICAgICAgICAgIG9yaWdUeXBlLAogICAgICAgICAgICAgI=
CAgZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoZWxlbSk7CiAgICAgICAgICAgIGlmICghYWNjZXB0=
RGF0YShlbGVtKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICA=
gICAgICAgIGlmIChoYW5kbGVyLmhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIGhhbmRsZU9iak=
luID0gaGFuZGxlcjsKICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kb=
GVyOwogICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3RvcjsKICAg=
ICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIGp=
RdWVyeS5maW5kLm1hdGNoZXNTZWxlY3Rvcihkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yKTsKIC=
AgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWhhbmRsZXIuZ3VpZCkgewogICAgICAgICAgI=
CAgICAgaGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKzsKICAgICAgICAgICAgfQogICAgICAg=
ICAgICBpZiAoIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpKSB7CiAgICAgICAgICAgICAgICB=
ldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICAgIC=
AgICB9CiAgICAgICAgICAgIGlmICghKGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlKSkge=
wogICAgICAgICAgICAgICAgZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlv=
biAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSAidW5=
kZWZpbmVkIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgPyBqUXVlcnkuZX=
ZlbnQuZGlzcGF0Y2guYXBwbHkoZWxlbSwgYXJndW1lbnRzKSA6IHVuZGVmaW5lZDsKICAgICAgI=
CAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHlwZXMgPSAodHlwZXMgfHwg=
IiIpLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFsiIl07CiAgICAgICAgICAgIHQgPSB0eXBlcy5=
sZW5ndGg7CiAgICAgICAgICAgIHdoaWxlICh0LS0pIHsKICAgICAgICAgICAgICAgIHRtcCA9IH=
J0eXBlbmFtZXNwYWNlLmV4ZWModHlwZXNbdF0pIHx8IFtdOwogICAgICAgICAgICAgICAgdHlwZ=
SA9IG9yaWdUeXBlID0gdG1wWzFdOwogICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9ICh0bXBb=
Ml0gfHwgIiIpLnNwbGl0KCIuIikuc29ydCgpOwogICAgICAgICAgICAgICAgaWYgKCF0eXBlKSB=
7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgIC=
AgICAgICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gfHwge307CiAgI=
CAgICAgICAgICAgICB0eXBlID0gKHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBz=
cGVjaWFsLmJpbmRUeXBlKSB8fCB0eXBlOwogICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWV=
yeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9OwogICAgICAgICAgICAgICAgaGFuZGxlT2JqID=
0galF1ZXJ5LmV4dGVuZCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgI=
CAgICAgICAgICAgICBvcmlnVHlwZTogb3JpZ1R5cGUsCiAgICAgICAgICAgICAgICAgICAgZGF0=
YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBoYW5kbGVyLAogICAgICAgICA=
gICAgICAgICAgIGd1aWQ6IGhhbmRsZXIuZ3VpZCwKICAgICAgICAgICAgICAgICAgICBzZWxlY3=
Rvcjogc2VsZWN0b3IsCiAgICAgICAgICAgICAgICAgICAgbmVlZHNDb250ZXh0OiBzZWxlY3Rvc=
iAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChzZWxlY3RvciksCiAgICAg=
ICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIi4iKQogICAgICAgICA=
gICAgICAgfSwgaGFuZGxlT2JqSW4pOwogICAgICAgICAgICAgICAgaWYgKCEoaGFuZGxlcnMgPS=
BldmVudHNbdHlwZV0pKSB7CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBldmVudHNbd=
HlwZV0gPSBbXTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0g=
MDsKICAgICAgICAgICAgICAgICAgICBpZiAoIXNwZWNpYWwuc2V0dXAgfHwgc3BlY2lhbC5zZXR=
1cC5jYWxsKGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlKSA9PT0gZmFsc2UpIH=
sKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikgewogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGV2=
ZW50SGFuZGxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICA=
gIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsLmFkZCkgew=
ogICAgICAgICAgICAgICAgICAgIHNwZWNpYWwuYWRkLmNhbGwoZWxlbSwgaGFuZGxlT2JqKTsKI=
CAgICAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQpIHsKICAgICAg=
ICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDs=
KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIC=
BpZiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaGFuZ=
GxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmopOwogICAgICAgICAgICAgICAgfSBl=
bHNlIHsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZU9iaik7CiAgICA=
gICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuZ2xvYmFsW3R5cGVdID=
0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvb=
iAoZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcykgewogICAgICAg=
ICAgICB2YXIgaiwKICAgICAgICAgICAgICAgIG9yaWdDb3VudCwKICAgICAgICAgICAgICAgIHR=
tcCwKICAgICAgICAgICAgICAgIGV2ZW50cywKICAgICAgICAgICAgICAgIHQsCiAgICAgICAgIC=
AgICAgICBoYW5kbGVPYmosCiAgICAgICAgICAgICAgICBzcGVjaWFsLAogICAgICAgICAgICAgI=
CAgaGFuZGxlcnMsCiAgICAgICAgICAgICAgICB0eXBlLAogICAgICAgICAgICAgICAgbmFtZXNw=
YWNlcywKICAgICAgICAgICAgICAgIG9yaWdUeXBlLAogICAgICAgICAgICAgICAgZWxlbURhdGE=
gPSBkYXRhUHJpdi5oYXNEYXRhKGVsZW0pICYmIGRhdGFQcml2LmdldChlbGVtKTsKICAgICAgIC=
AgICAgaWYgKCFlbGVtRGF0YSB8fCAhKGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cykpIHsKICAgI=
CAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0eXBlcyA9ICh0=
eXBlcyB8fCAiIikubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgWyIiXTsKICAgICAgICAgICAgdCA=
9IHR5cGVzLmxlbmd0aDsKICAgICAgICAgICAgd2hpbGUgKHQtLSkgewogICAgICAgICAgICAgIC=
AgdG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyh0eXBlc1t0XSkgfHwgW107CiAgICAgICAgICAgI=
CAgICB0eXBlID0gb3JpZ1R5cGUgPSB0bXBbMV07CiAgICAgICAgICAgICAgICBuYW1lc3BhY2Vz=
ID0gKHRtcFsyXSB8fCAiIikuc3BsaXQoIi4iKS5zb3J0KCk7CiAgICAgICAgICAgICAgICBpZiA=
oIXR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gZXZlbnRzKSB7CiAgIC=
AgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUoZWxlbSwgdHlwZSArIHR5c=
GVzW3RdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICA=
gICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9OwogICAgIC=
AgICAgICAgICAgdHlwZSA9IChzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY=
2lhbC5iaW5kVHlwZSkgfHwgdHlwZTsKICAgICAgICAgICAgICAgIGhhbmRsZXJzID0gZXZlbnRz=
W3R5cGVdIHx8IFtdOwogICAgICAgICAgICAgICAgdG1wID0gdG1wWzJdICYmIG5ldyBSZWdFeHA=
oIihefFxcLikiICsgbmFtZXNwYWNlcy5qb2luKCJcXC4oPzouKlxcLnwpIikgKyAiKFxcLnwkKS=
IpOwogICAgICAgICAgICAgICAgb3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDsKICAgI=
CAgICAgICAgICAgIHdoaWxlIChqLS0pIHsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmog=
PSBoYW5kbGVyc1tqXTsKICAgICAgICAgICAgICAgICAgICBpZiAoKG1hcHBlZFR5cGVzIHx8IG9=
yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUpICYmICghaGFuZGxlciB8fCBoYW5kbGVyLm=
d1aWQgPT09IGhhbmRsZU9iai5ndWlkKSAmJiAoIXRtcCB8fCB0bXAudGVzdChoYW5kbGVPYmoub=
mFtZXNwYWNlKSkgJiYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVj=
dG9yIHx8IChzZWxlY3RvciA9PT0gIioqIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IpKSkgewogICA=
gICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaiwgMSk7CiAgICAgICAgICAgIC=
AgICAgICAgICAgIGlmIChoYW5kbGVPYmouc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTsKICAgICAgICAgICAgICAgICAgICAg=
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbC5yZW1vdmUpIHsKICAgICA=
gICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwucmVtb3ZlLmNhbGwoZWxlbSwgaGFuZGxlT2=
JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChvcmlnQ291bnQgJiYgIWhhbmRsZXJz=
Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbC50ZWFyZG93biB8fCB=
zcGVjaWFsLnRlYXJkb3duLmNhbGwoZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlKS=
A9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUV2ZW50K=
GVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAg=
ICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07CiAgICAgICAgICAgICAgICB9CiA=
gICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGpRdWVyeS5pc0VtcHR5T2JqZWN0KGV2ZW50cy=
kpIHsKICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShlbGVtLCAiaGFuZGxlIGV2ZW50c=
yIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24g=
KG5hdGl2ZUV2ZW50KSB7CiAgICAgICAgICAgIHZhciBpLAogICAgICAgICAgICAgICAgaiwKICA=
gICAgICAgICAgICAgIHJldCwKICAgICAgICAgICAgICAgIG1hdGNoZWQsCiAgICAgICAgICAgIC=
AgICBoYW5kbGVPYmosCiAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWUsCiAgICAgICAgICAgI=
CAgICBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLAogICAgICAgICAgICAgICAg=
ZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KG5hdGl2ZUV2ZW50KSwKICAgICAgICAgICAgICAgIGh=
hbmRsZXJzID0gKGRhdGFQcml2LmdldCh0aGlzLCAiZXZlbnRzIikgfHwgT2JqZWN0LmNyZWF0ZS=
hudWxsKSlbZXZlbnQudHlwZV0gfHwgW10sCiAgICAgICAgICAgICAgICBzcGVjaWFsID0galF1Z=
XJ5LmV2ZW50LnNwZWNpYWxbZXZlbnQudHlwZV0gfHwge307CiAgICAgICAgICAgIGFyZ3NbMF0g=
PSBldmVudDsKICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGk=
rKykgewogICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgIC=
AgfQogICAgICAgICAgICBldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7CiAgICAgICAgICAgI=
GlmIChzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCh0aGlz=
LCBldmVudCkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICA=
gIH0KICAgICAgICAgICAgaGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbG=
wodGhpcywgZXZlbnQsIGhhbmRsZXJzKTsKICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgI=
HdoaWxlICgobWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVtpKytdKSAmJiAhZXZlbnQuaXNQcm9wYWdh=
dGlvblN0b3BwZWQoKSkgewogICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG1=
hdGNoZWQuZWxlbTsKICAgICAgICAgICAgICAgIGogPSAwOwogICAgICAgICAgICAgICAgd2hpbG=
UgKChoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzW2orK10pICYmICFldmVudC5pc0ltbWVka=
WF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVu=
dC5ybmFtZXNwYWNlIHx8IGhhbmRsZU9iai5uYW1lc3BhY2UgPT09IGZhbHNlIHx8IGV2ZW50LnJ=
uYW1lc3BhY2UudGVzdChoYW5kbGVPYmoubmFtZXNwYWNlKSkgewogICAgICAgICAgICAgICAgIC=
AgICAgICBldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7CiAgICAgICAgICAgICAgICAgICAgI=
CAgIGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAg=
cmV0ID0gKChqUXVlcnkuZXZlbnQuc3BlY2lhbFtoYW5kbGVPYmoub3JpZ1R5cGVdIHx8IHt9KS5=
oYW5kbGUgfHwgaGFuZGxlT2JqLmhhbmRsZXIpLmFwcGx5KG1hdGNoZWQuZWxlbSwgYXJncyk7Ci=
AgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgaWYgKChldmVudC5yZXN1bHQgPSByZXQpID09PSBmYWxzZSkg=
ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk=
7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKC=
k7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgI=
H0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0K=
ICAgICAgICAgICAgaWYgKHNwZWNpYWwucG9zdERpc3BhdGNoKSB7CiAgICAgICAgICAgICAgICB=
zcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsIGV2ZW50KTsKICAgICAgICAgICAgfQogIC=
AgICAgICAgICByZXR1cm4gZXZlbnQucmVzdWx0OwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlc=
nM6IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlcnMpIHsKICAgICAgICAgICAgdmFyIGksCiAgICAg=
ICAgICAgICAgICBoYW5kbGVPYmosCiAgICAgICAgICAgICAgICBzZWwsCiAgICAgICAgICAgICA=
gICBtYXRjaGVkSGFuZGxlcnMsCiAgICAgICAgICAgICAgICBtYXRjaGVkU2VsZWN0b3JzLAogIC=
AgICAgICAgICAgICAgaGFuZGxlclF1ZXVlID0gW10sCiAgICAgICAgICAgICAgICBkZWxlZ2F0Z=
UNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCwKICAgICAgICAgICAgICAgIGN1ciA9IGV2=
ZW50LnRhcmdldDsKICAgICAgICAgICAgaWYgKGRlbGVnYXRlQ291bnQgJiYgY3VyLm5vZGVUeXB=
lICYmICEoZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBldmVudC5idXR0b24gPj0gMSkpIHsKIC=
AgICAgICAgICAgICAgIGZvciAoOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlI=
Hx8IHRoaXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09PSAxICYm=
ICEoZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUpKSB7CiA=
gICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRIYW5kbGVycyA9IFtdOwogICAgICAgICAgIC=
AgICAgICAgICAgICBtYXRjaGVkU2VsZWN0b3JzID0ge307CiAgICAgICAgICAgICAgICAgICAgI=
CAgIGZvciAoaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKyspIHsKICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgIGhhbmRsZU9iaiA9IGhhbmRsZXJzW2ldOwogICAgICAgICAgICAgICAgICA=
gICAgICAgICAgc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgIiAiOwogICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgaWYgKG1hdGNoZWRTZWxlY3RvcnNbc2VsXSA9PT0gdW5kZWZpbmVkKSB7C=
iAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFNlbGVjdG9yc1tzZWxdID0g=
aGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/IGpRdWVyeShzZWwsIHRoaXMpLmluZGV4KGN1cikgPiA=
tMSA6IGpRdWVyeS5maW5kKHNlbCwgdGhpcywgbnVsbCwgW2N1cl0pLmxlbmd0aDsKICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtY=
XRjaGVkU2VsZWN0b3JzW3NlbF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBt=
YXRjaGVkSGFuZGxlcnMucHVzaChoYW5kbGVPYmopOwogICAgICAgICAgICAgICAgICAgICAgICA=
gICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIG=
lmIChtYXRjaGVkSGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CBoYW5kbGVyUXVldWUucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxl=
bTogY3VyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzOiBtYXRjaGV=
kSGFuZGxlcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC=
AgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgI=
CAgICAgICB9CiAgICAgICAgICAgIGN1ciA9IHRoaXM7CiAgICAgICAgICAgIGlmIChkZWxlZ2F0=
ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWU=
ucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgZWxlbTogY3VyLAogICAgICAgICAgICAgICAgIC=
AgIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZShkZWxlZ2F0ZUNvdW50KQogICAgICAgICAgICAgI=
CAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXJRdWV1ZTsKICAg=
ICAgICB9LAogICAgICAgIGFkZFByb3A6IGZ1bmN0aW9uIChuYW1lLCBob29rKSB7CiAgICAgICA=
gICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLC=
B7CiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZ=
mlndXJhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgZ2V0OiBpc0Z1bmN0aW9uKGhvb2spID8K=
ICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICA=
gIGlmICh0aGlzLm9yaWdpbmFsRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH=
JldHVybiBob29rKHRoaXMub3JpZ2luYWxFdmVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgI=
H0KICAgICAgICAgICAgICAgICAgICB9IDoKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAo=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnQpIHsKICA=
gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbbmFtZV=
07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgI=
CAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBP=
YmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwgewogICAgICAgICAgICAgICAgICAgICA=
gICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibG=
U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgI=
CAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgICAgICB9KTsKICAg=
ICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZml4OiB=
mdW5jdGlvbiAob3JpZ2luYWxFdmVudCkgewogICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxFdm=
VudFtqUXVlcnkuZXhwYW5kb10gPyBvcmlnaW5hbEV2ZW50IDogbmV3IGpRdWVyeS5FdmVudChvc=
mlnaW5hbEV2ZW50KTsKICAgICAgICB9LAogICAgICAgIHNwZWNpYWw6IHsKICAgICAgICAgICAg=
bG9hZDogewogICAgICAgICAgICAgICAgbm9CdWJibGU6IHRydWUKICAgICAgICAgICAgfSwKICA=
gICAgICAgICAgY2xpY2s6IHsKICAgICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoZGF0YS=
kgewogICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHRoaXMgfHwgZGF0YTsKICAgICAgICAgI=
CAgICAgICAgICBpZiAocmNoZWNrYWJsZVR5cGUudGVzdChlbC50eXBlKSAmJiBlbC5jbGljayAm=
JiBub2RlTmFtZShlbCwgImlucHV0IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZXJ=
hZ2VOYXRpdmUoZWwsICJjbGljayIsIHJldHVyblRydWUpOwogICAgICAgICAgICAgICAgICAgIH=
0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9LAogI=
CAgICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAg=
ICAgICB2YXIgZWwgPSB0aGlzIHx8IGRhdGE7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJjaGV=
ja2FibGVUeXBlLnRlc3QoZWwudHlwZSkgJiYgZWwuY2xpY2sgJiYgbm9kZU5hbWUoZWwsICJpbn=
B1dCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVyYWdlTmF0aXZlKGVsLCAiY2xpY=
2siKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRy=
dWU7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgX2RlZmF1bHQ6IGZ1bmN0aW9=
uIChldmVudCkgewogICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZX=
Q7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChyY2hlY2thYmxlVHlwZS50ZXN0KHRhcmdld=
C50eXBlKSAmJiB0YXJnZXQuY2xpY2sgJiYgbm9kZU5hbWUodGFyZ2V0LCAiaW5wdXQiKSAmJiBk=
YXRhUHJpdi5nZXQodGFyZ2V0LCAiY2xpY2siKSkgfHwgbm9kZU5hbWUodGFyZ2V0LCAiYSIpOwo=
gICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVmb3JldW5sb2=
FkOiB7CiAgICAgICAgICAgICAgICBwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uIChldmVudCkgewogI=
CAgICAgICAgICAgICAgICAgIGlmIChldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVu=
dC5vcmlnaW5hbEV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmF=
sRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgfQ=
ogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgfTsKCiAgI=
CBmdW5jdGlvbiBsZXZlcmFnZU5hdGl2ZShlbCwgdHlwZSwgZXhwZWN0U3luYykgewogICAgICAg=
IGlmICghZXhwZWN0U3luYykgewogICAgICAgICAgICBpZiAoZGF0YVByaXYuZ2V0KGVsLCB0eXB=
lKSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKGVsLC=
B0eXBlLCByZXR1cm5UcnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgI=
CAgICAgfQogICAgICAgIGRhdGFQcml2LnNldChlbCwgdHlwZSwgZmFsc2UpOwogICAgICAgIGpR=
dWVyeS5ldmVudC5hZGQoZWwsIHR5cGUsIHsKICAgICAgICAgICAgbmFtZXNwYWNlOiBmYWxzZSw=
KICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgIC=
B2YXIgbm90QXN5bmMsCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LAogICAgICAgICAgICAgI=
CAgICAgIHNhdmVkID0gZGF0YVByaXYuZ2V0KHRoaXMsIHR5cGUpOwogICAgICAgICAgICAgICAg=
aWYgKGV2ZW50LmlzVHJpZ2dlciAmIDEgJiYgdGhpc1t0eXBlXSkgewogICAgICAgICAgICAgICA=
gICAgIGlmICghc2F2ZWQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVkID=
0gc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpd=
i5zZXQodGhpcywgdHlwZSwgc2F2ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICBub3RBc3lu=
YyA9IGV4cGVjdFN5bmModGhpcywgdHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXN=
bdHlwZV0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGF0YVByaXYuZ2V0KH=
RoaXMsIHR5cGUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWQgIT09IHJlc3Vsd=
CB8fCBub3RBc3luYykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0=
KHRoaXMsIHR5cGUsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICA=
gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHt9OwogICAgICAgICAgICAgICAgIC=
AgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZCAhPT0gcmVzdWx0KSB7C=
iAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRp=
b24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk=
7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICYmIHJlc3VsdC52YW=
x1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZ=
SBpZiAoKGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9KS5kZWxlZ2F0ZVR5cGUpIHsK=
ICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICA=
gICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXZlZC5sZW5ndGgpIH=
sKICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgdHlwZSwgewogICAgICAgI=
CAgICAgICAgICAgICAgICB2YWx1ZTogalF1ZXJ5LmV2ZW50LnRyaWdnZXIoalF1ZXJ5LmV4dGVu=
ZChzYXZlZFswXSwgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSksIHNhdmVkLnNsaWNlKDEpLCB0aGl=
zKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3=
BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9L=
AogICAgICAgIH0pOwogICAgfQogICAgalF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKGVs=
ZW0sIHR5cGUsIGhhbmRsZSkgewogICAgICAgIGlmIChlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXI=
pIHsKICAgICAgICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZSk7Ci=
AgICAgICAgfQogICAgfTsKICAgIGpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uIChzcmMsIHByb3BzK=
SB7CiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCkpIHsKICAgICAg=
ICAgICAgcmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoc3JjLCBwcm9wcyk7CiAgICAgICAgfQogICA=
gICAgIGlmIChzcmMgJiYgc3JjLnR5cGUpIHsKICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW=
50ID0gc3JjOwogICAgICAgICAgICB0aGlzLnR5cGUgPSBzcmMudHlwZTsKICAgICAgICAgICAgd=
Ghpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fCAoc3JjLmRl=
ZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJiBzcmMucmV0dXJuVmFsdWUgPT09IGZhbHN=
lKSA/IHJldHVyblRydWUgOiByZXR1cm5GYWxzZTsKICAgICAgICAgICAgdGhpcy50YXJnZXQgPS=
BzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgPyBzcmMudGFyZ2V0LnBhc=
mVudE5vZGUgOiBzcmMudGFyZ2V0OwogICAgICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBz=
cmMuY3VycmVudFRhcmdldDsKICAgICAgICAgICAgdGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJ=
lbGF0ZWRUYXJnZXQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50eXBlID0gc3=
JjOwogICAgICAgIH0KICAgICAgICBpZiAocHJvcHMpIHsKICAgICAgICAgICAgalF1ZXJ5LmV4d=
GVuZCh0aGlzLCBwcm9wcyk7CiAgICAgICAgfQogICAgICAgIHRoaXMudGltZVN0YW1wID0gKHNy=
YyAmJiBzcmMudGltZVN0YW1wKSB8fCBEYXRlLm5vdygpOwogICAgICAgIHRoaXNbalF1ZXJ5LmV=
4cGFuZG9dID0gdHJ1ZTsKICAgIH07CiAgICBqUXVlcnkuRXZlbnQucHJvdG90eXBlID0gewogIC=
AgICAgIGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsCiAgICAgICAgaXNEZWZhdWx0UHJldmVud=
GVkOiByZXR1cm5GYWxzZSwKICAgICAgICBpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFs=
c2UsCiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLAo=
gICAgICAgIGlzU2ltdWxhdGVkOiBmYWxzZSwKICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3=
Rpb24gKCkgewogICAgICAgICAgICB2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKICAgICAgI=
CAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlOwogICAgICAgICAgICBp=
ZiAoZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCkgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGV=
mYXVsdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzdG9wUHJvcGFnYXRpb2=
46IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7C=
iAgICAgICAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlOwogICAg=
ICAgICAgICBpZiAoZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCkgewogICAgICAgICAgICAgICAgZS5=
zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3RvcE=
ltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlID0gd=
Ghpcy5vcmlnaW5hbEV2ZW50OwogICAgICAgICAgICB0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRp=
b25TdG9wcGVkID0gcmV0dXJuVHJ1ZTsKICAgICAgICAgICAgaWYgKGUgJiYgIXRoaXMuaXNTaW1=
1bGF0ZWQpIHsKICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7Ci=
AgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgI=
CB9LAogICAgfTsKICAgIGpRdWVyeS5lYWNoKHsKICAgICAgICBhbHRLZXk6IHRydWUsCiAgICAg=
ICAgYnViYmxlczogdHJ1ZSwKICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLAogICAgICAgIGNoYW5=
nZWRUb3VjaGVzOiB0cnVlLAogICAgICAgIGN0cmxLZXk6IHRydWUsCiAgICAgICAgZGV0YWlsOi=
B0cnVlLAogICAgICAgIGV2ZW50UGhhc2U6IHRydWUsCiAgICAgICAgbWV0YUtleTogdHJ1ZSwKI=
CAgICAgICBwYWdlWDogdHJ1ZSwKICAgICAgICBwYWdlWTogdHJ1ZSwKICAgICAgICBzaGlmdEtl=
eTogdHJ1ZSwKICAgICAgICB2aWV3OiB0cnVlLAogICAgICAgIGNoYXI6IHRydWUsCiAgICAgICA=
gY29kZTogdHJ1ZSwKICAgICAgICBjaGFyQ29kZTogdHJ1ZSwKICAgICAgICBrZXk6IHRydWUsCi=
AgICAgICAga2V5Q29kZTogdHJ1ZSwKICAgICAgICBidXR0b246IHRydWUsCiAgICAgICAgYnV0d=
G9uczogdHJ1ZSwKICAgICAgICBjbGllbnRYOiB0cnVlLAogICAgICAgIGNsaWVudFk6IHRydWUs=
CiAgICAgICAgb2Zmc2V0WDogdHJ1ZSwKICAgICAgICBvZmZzZXRZOiB0cnVlLAogICAgICAgIHB=
vaW50ZXJJZDogdHJ1ZSwKICAgICAgICBwb2ludGVyVHlwZTogdHJ1ZSwKICAgICAgICBzY3JlZW=
5YOiB0cnVlLAogICAgICAgIHNjcmVlblk6IHRydWUsCiAgICAgICAgdGFyZ2V0VG91Y2hlczogd=
HJ1ZSwKICAgICAgICB0b0VsZW1lbnQ6IHRydWUsCiAgICAgICAgdG91Y2hlczogdHJ1ZSwKICAg=
ICAgICB3aGljaDogdHJ1ZQogICAgfSwgalF1ZXJ5LmV2ZW50LmFkZFByb3ApOwogICAgalF1ZXJ=
5LmVhY2goewogICAgICAgIGZvY3VzOiAiZm9jdXNpbiIsCiAgICAgICAgYmx1cjogImZvY3Vzb3=
V0IgogICAgfSwgZnVuY3Rpb24gKHR5cGUsIGRlbGVnYXRlVHlwZSkgewogICAgICAgIGpRdWVye=
S5ldmVudC5zcGVjaWFsW3R5cGVdID0gewogICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkg=
ewogICAgICAgICAgICAgICAgbGV2ZXJhZ2VOYXRpdmUodGhpcywgdHlwZSwgZXhwZWN0U3luYyk=
7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgIC=
AgIHRyaWdnZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGxldmVyYWdlTmF0aXZlK=
HRoaXMsIHR5cGUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0s=
CiAgICAgICAgICAgIF9kZWZhdWx0OiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICA=
gIHJldHVybiBkYXRhUHJpdi5nZXQoZXZlbnQudGFyZ2V0LCB0eXBlKTsKICAgICAgICAgICAgfS=
wKICAgICAgICAgICAgZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGUsCiAgICAgICAgfTsKICAgI=
H0pOwogICAgalF1ZXJ5LmVhY2goewogICAgICAgIG1vdXNlZW50ZXI6ICJtb3VzZW92ZXIiLAog=
ICAgICAgIG1vdXNlbGVhdmU6ICJtb3VzZW91dCIsCiAgICAgICAgcG9pbnRlcmVudGVyOiAicG9=
pbnRlcm92ZXIiLAogICAgICAgIHBvaW50ZXJsZWF2ZTogInBvaW50ZXJvdXQiCiAgICB9LCBmdW=
5jdGlvbiAob3JpZywgZml4KSB7CiAgICAgICAgalF1ZXJ5LmV2ZW50LnNwZWNpYWxbb3JpZ10gP=
SB7CiAgICAgICAgICAgIGRlbGVnYXRlVHlwZTogZml4LAogICAgICAgICAgICBiaW5kVHlwZTog=
Zml4LAogICAgICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICA=
gICAgdmFyIHJldCwKICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB0aGlzLAogICAgICAgIC=
AgICAgICAgICAgIHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LAogICAgICAgICAgICAgI=
CAgICAgIGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajsKICAgICAgICAgICAgICAgIGlmICgh=
cmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnModGFyZ2V=
0LCByZWxhdGVkKSkpIHsKICAgICAgICAgICAgICAgICAgICBldmVudC50eXBlID0gaGFuZGxlT2=
JqLm9yaWdUeXBlOwogICAgICAgICAgICAgICAgICAgIHJldCA9IGhhbmRsZU9iai5oYW5kbGVyL=
mFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9=
IGZpeDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICA=
gICAgICAgIH0sCiAgICAgICAgfTsKICAgIH0pOwogICAgalF1ZXJ5LmZuLmV4dGVuZCh7CiAgIC=
AgICAgb246IGZ1bmN0aW9uICh0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuKSB7CiAgICAgICAgI=
CAgIHJldHVybiBvbih0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuKTsKICAgICAgICB9=
LAogICAgICAgIG9uZTogZnVuY3Rpb24gKHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4pIHsKICA=
gICAgICAgICAgcmV0dXJuIG9uKHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEpOw=
ogICAgICAgIH0sCiAgICAgICAgb2ZmOiBmdW5jdGlvbiAodHlwZXMsIHNlbGVjdG9yLCBmbikge=
wogICAgICAgICAgICB2YXIgaGFuZGxlT2JqLCB0eXBlOwogICAgICAgICAgICBpZiAodHlwZXMg=
JiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqKSB7CiAgICAgICAgICA=
gICAgICBoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7CiAgICAgICAgICAgICAgICBqUXVlcn=
kodHlwZXMuZGVsZWdhdGVUYXJnZXQpLm9mZihoYW5kbGVPYmoubmFtZXNwYWNlID8gaGFuZGxlT=
2JqLm9yaWdUeXBlICsgIi4iICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6IGhhbmRsZU9iai5vcmln=
VHlwZSwgaGFuZGxlT2JqLnNlbGVjdG9yLCBoYW5kbGVPYmouaGFuZGxlcik7CiAgICAgICAgICA=
gICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZW9mIH=
R5cGVzID09PSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIHR5cGVzK=
SB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYodHlwZSwgc2VsZWN0b3IsIHR5cGVzW3R5=
cGVdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICA=
gICAgICAgICB9CiAgICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIH=
NlbGVjdG9yID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgICBmbiA9IHNlbGVjdG9yO=
wogICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAg=
ICAgICAgICAgaWYgKGZuID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgZm4gPSByZXR1cm5=
GYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW=
9uICgpIHsKICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUodGhpcywgdHlwZXMsI=
GZuLCBzZWxlY3Rvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9KTsKICAgIHZh=
ciBybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSwKICAgICAgICByY2hlY2t=
lZCA9IC9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLAogICAgICAgIHJjbGVhbl=
NjcmlwdCA9IC9eXHMqPCFcW0NEQVRBXFt8XF1cXT5ccyokL2c7CgogICAgZnVuY3Rpb24gbWFua=
XB1bGF0aW9uVGFyZ2V0KGVsZW0sIGNvbnRlbnQpIHsKICAgICAgICBpZiAobm9kZU5hbWUoZWxl=
bSwgInRhYmxlIikgJiYgbm9kZU5hbWUoY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW5=
0IDogY29udGVudC5maXJzdENoaWxkLCAidHIiKSkgewogICAgICAgICAgICByZXR1cm4galF1ZX=
J5KGVsZW0pLmNoaWxkcmVuKCJ0Ym9keSIpWzBdIHx8IGVsZW07CiAgICAgICAgfQogICAgICAgI=
HJldHVybiBlbGVtOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoZWxlbSkgewog=
ICAgICAgIGVsZW0udHlwZSA9IChlbGVtLmdldEF0dHJpYnV0ZSgidHlwZSIpICE9PSBudWxsKSA=
rICIvIiArIGVsZW0udHlwZTsKICAgICAgICByZXR1cm4gZWxlbTsKICAgIH0KCiAgICBmdW5jdG=
lvbiByZXN0b3JlU2NyaXB0KGVsZW0pIHsKICAgICAgICBpZiAoKGVsZW0udHlwZSB8fCAiIikuc=
2xpY2UoMCwgNSkgPT09ICJ0cnVlLyIpIHsKICAgICAgICAgICAgZWxlbS50eXBlID0gZWxlbS50=
eXBlLnNsaWNlKDUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQXR=
0cmlidXRlKCJ0eXBlIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBlbGVtOwogICAgfQoKIC=
AgIGZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KHNyYywgZGVzdCkgewogICAgICAgIHZhciBpLCBsL=
CB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7CiAgICAgICAgaWYg=
KGRlc3Qubm9kZVR5cGUgIT09IDEpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICA=
gICAgICBpZiAoZGF0YVByaXYuaGFzRGF0YShzcmMpKSB7CiAgICAgICAgICAgIHBkYXRhT2xkID=
0gZGF0YVByaXYuZ2V0KHNyYyk7CiAgICAgICAgICAgIGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50c=
zsKICAgICAgICAgICAgaWYgKGV2ZW50cykgewogICAgICAgICAgICAgICAgZGF0YVByaXYucmVt=
b3ZlKGRlc3QsICJoYW5kbGUgZXZlbnRzIik7CiAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4=
gZXZlbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGV2ZW50c1t0eX=
BlXS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5L=
mV2ZW50LmFkZChkZXN0LCB0eXBlLCBldmVudHNbdHlwZV1baV0pOwogICAgICAgICAgICAgICAg=
ICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB=
pZiAoZGF0YVVzZXIuaGFzRGF0YShzcmMpKSB7CiAgICAgICAgICAgIHVkYXRhT2xkID0gZGF0YV=
VzZXIuYWNjZXNzKHNyYyk7CiAgICAgICAgICAgIHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCh7f=
SwgdWRhdGFPbGQpOwogICAgICAgICAgICBkYXRhVXNlci5zZXQoZGVzdCwgdWRhdGFDdXIpOwog=
ICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmaXhJbnB1dChzcmMsIGRlc3QpIHsKICAgICA=
gICB2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaW=
YgKG5vZGVOYW1lID09PSAiaW5wdXQiICYmIHJjaGVja2FibGVUeXBlLnRlc3Qoc3JjLnR5cGUpK=
SB7CiAgICAgICAgICAgIGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkOwogICAgICAgIH0gZWxz=
ZSBpZiAobm9kZU5hbWUgPT09ICJpbnB1dCIgfHwgbm9kZU5hbWUgPT09ICJ0ZXh0YXJlYSIpIHs=
KICAgICAgICAgICAgZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlOwogICAgIC=
AgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBkb21NYW5pcChjb2xsZWN0aW9uLCBhcmdzLCBjYWxsY=
mFjaywgaWdub3JlZCkgewogICAgICAgIGFyZ3MgPSBmbGF0KGFyZ3MpOwogICAgICAgIHZhciBm=
cmFnbWVudCwKICAgICAgICAgICAgZmlyc3QsCiAgICAgICAgICAgIHNjcmlwdHMsCiAgICAgICA=
gICAgIGhhc1NjcmlwdHMsCiAgICAgICAgICAgIG5vZGUsCiAgICAgICAgICAgIGRvYywKICAgIC=
AgICAgICAgaSA9IDAsCiAgICAgICAgICAgIGwgPSBjb2xsZWN0aW9uLmxlbmd0aCwKICAgICAgI=
CAgICAgaU5vQ2xvbmUgPSBsIC0gMSwKICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdLAogICAg=
ICAgICAgICB2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKHZhbHVlKTsKICAgICAgICBpZiA=
odmFsdWVJc0Z1bmN0aW9uIHx8IChsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciIC=
YmICFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCh2YWx1ZSkpKSB7CiAgICAgI=
CAgICAgIHJldHVybiBjb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAg=
ICAgICAgICB2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoaW5kZXgpOwogICAgICAgICAgICAgICA=
gaWYgKHZhbHVlSXNGdW5jdGlvbikgewogICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSB2YW=
x1ZS5jYWxsKHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSk7CiAgICAgICAgICAgICAgICB9CiAgI=
CAgICAgICAgICAgICBkb21NYW5pcChzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCk7CiAg=
ICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAobCkgewogICAgICAgICAgICBmcmF=
nbWVudCA9IGJ1aWxkRnJhZ21lbnQoYXJncywgY29sbGVjdGlvblswXS5vd25lckRvY3VtZW50LC=
BmYWxzZSwgY29sbGVjdGlvbiwgaWdub3JlZCk7CiAgICAgICAgICAgIGZpcnN0ID0gZnJhZ21lb=
nQuZmlyc3RDaGlsZDsKICAgICAgICAgICAgaWYgKGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3Ro=
ID09PSAxKSB7CiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGZpcnN0OwogICAgICAgICAgICB=
9CiAgICAgICAgICAgIGlmIChmaXJzdCB8fCBpZ25vcmVkKSB7CiAgICAgICAgICAgICAgICBzY3=
JpcHRzID0galF1ZXJ5Lm1hcChnZXRBbGwoZnJhZ21lbnQsICJzY3JpcHQiKSwgZGlzYWJsZVNjc=
mlwdCk7CiAgICAgICAgICAgICAgICBoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7CiAgICAg=
ICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICAgICAgICAgIG5vZGU=
gPSBmcmFnbWVudDsKICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaU5vQ2xvbmUpIHsKIC=
AgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGpRdWVyeS5jbG9uZShub2RlLCB0cnVlLCB0c=
nVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1NjcmlwdHMpIHsKICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZShzY3JpcHRzLCBnZXRBbGwobm9kZSwgInN=
jcmlwdCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH=
0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbGxlY3Rpb25baV0sIG5vZGUsI=
GkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGhhc1NjcmlwdHMpIHsK=
ICAgICAgICAgICAgICAgICAgICBkb2MgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0ub3d=
uZXJEb2N1bWVudDsKICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWFwKHNjcmlwdHMsIHJlc3=
RvcmVTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoYXNTY3Jpc=
HRzOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHNjcmlwdHNbaV07CiAg=
ICAgICAgICAgICAgICAgICAgICAgIGlmIChyc2NyaXB0VHlwZS50ZXN0KG5vZGUudHlwZSB8fCA=
iIikgJiYgIWRhdGFQcml2LmFjY2Vzcyhub2RlLCAiZ2xvYmFsRXZhbCIpICYmIGpRdWVyeS5jb2=
50YWlucyhkb2MsIG5vZGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZ=
S5zcmMgJiYgKG5vZGUudHlwZSB8fCAiIikudG9Mb3dlckNhc2UoKSAhPT0gIm1vZHVsZSIpIHsK=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5Ll9ldmFsVXJsICYmICF=
ub2RlLm5vTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdW=
VyeS5fZXZhbFVybChub2RlLnNyYywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgbm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoIm5vbmNlIikK=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZG9jKTsKICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2=
UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERPTUV2YWwobm9kZS50ZXh0Q29ud=
GVudC5yZXBsYWNlKHJjbGVhblNjcmlwdCwgIiIpLCBub2RlLCBkb2MpOwogICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICA=
gICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgIC=
AgIHJldHVybiBjb2xsZWN0aW9uOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZShlbGVtLCBzZ=
WxlY3Rvciwga2VlcERhdGEpIHsKICAgICAgICB2YXIgbm9kZSwKICAgICAgICAgICAgbm9kZXMg=
PSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoc2VsZWN0b3IsIGVsZW0pIDogZWxlbSwKICAgICA=
gICAgICAgaSA9IDA7CiAgICAgICAgZm9yICg7CiAgICAgICAgICAgIChub2RlID0gbm9kZXNbaV=
0pICE9IG51bGw7IGkrKykgewogICAgICAgICAgICBpZiAoIWtlZXBEYXRhICYmIG5vZGUubm9kZ=
VR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKG5v=
ZGUpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7CiA=
gICAgICAgICAgICAgICBpZiAoa2VlcERhdGEgJiYgaXNBdHRhY2hlZChub2RlKSkgewogICAgIC=
AgICAgICAgICAgICAgIHNldEdsb2JhbEV2YWwoZ2V0QWxsKG5vZGUsICJzY3JpcHQiKSk7CiAgI=
CAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hp=
bGQobm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGVsZW07CiA=
gICB9CiAgICBqUXVlcnkuZXh0ZW5kKHsKICAgICAgICBodG1sUHJlZmlsdGVyOiBmdW5jdGlvbi=
AoaHRtbCkgewogICAgICAgICAgICByZXR1cm4gaHRtbDsKICAgICAgICB9LAogICAgICAgIGNsb=
25lOiBmdW5jdGlvbiAoZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMpIHsK=
ICAgICAgICAgICAgdmFyIGksCiAgICAgICAgICAgICAgICBsLAogICAgICAgICAgICAgICAgc3J=
jRWxlbWVudHMsCiAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMsCiAgICAgICAgICAgICAgIC=
BjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKHRydWUpLAogICAgICAgICAgICAgICAgaW5QYWdlID0ga=
XNBdHRhY2hlZChlbGVtKTsKICAgICAgICAgICAgaWYgKCFzdXBwb3J0Lm5vQ2xvbmVDaGVja2Vk=
ICYmIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExKSAmJiAhalF=
1ZXJ5LmlzWE1MRG9jKGVsZW0pKSB7CiAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBnZX=
RBbGwoY2xvbmUpOwogICAgICAgICAgICAgICAgc3JjRWxlbWVudHMgPSBnZXRBbGwoZWxlbSk7C=
iAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwg=
bDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgZml4SW5wdXQoc3JjRWxlbWVudHNbaV0sIGR=
lc3RFbGVtZW50c1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgIC=
AgICAgaWYgKGRhdGFBbmRFdmVudHMpIHsKICAgICAgICAgICAgICAgIGlmIChkZWVwRGF0YUFuZ=
EV2ZW50cykgewogICAgICAgICAgICAgICAgICAgIHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMg=
fHwgZ2V0QWxsKGVsZW0pOwogICAgICAgICAgICAgICAgICAgIGRlc3RFbGVtZW50cyA9IGRlc3R=
FbGVtZW50cyB8fCBnZXRBbGwoY2xvbmUpOwogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9ID=
AsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgICAgI=
CAgICAgICAgY2xvbmVDb3B5RXZlbnQoc3JjRWxlbWVudHNbaV0sIGRlc3RFbGVtZW50c1tpXSk7=
CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICA=
gICAgICAgICAgICBjbG9uZUNvcHlFdmVudChlbGVtLCBjbG9uZSk7CiAgICAgICAgICAgICAgIC=
B9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVzdEVsZW1lbnRzID0gZ2V0QWxsKGNsb25lL=
CAic2NyaXB0Iik7CiAgICAgICAgICAgIGlmIChkZXN0RWxlbWVudHMubGVuZ3RoID4gMCkgewog=
ICAgICAgICAgICAgICAgc2V0R2xvYmFsRXZhbChkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V=
0QWxsKGVsZW0sICJzY3JpcHQiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG=
Nsb25lOwogICAgICAgIH0sCiAgICAgICAgY2xlYW5EYXRhOiBmdW5jdGlvbiAoZWxlbXMpIHsKI=
CAgICAgICAgICAgdmFyIGRhdGEsCiAgICAgICAgICAgICAgICBlbGVtLAogICAgICAgICAgICAg=
ICAgdHlwZSwKICAgICAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCw=
KICAgICAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICBmb3IgKDsKICAgICAgICAgICAgIC=
AgIChlbGVtID0gZWxlbXNbaV0pICE9PSB1bmRlZmluZWQ7IGkrKykgewogICAgICAgICAgICAgI=
CAgaWYgKGFjY2VwdERhdGEoZWxlbSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoKGRhdGEg=
PSBlbGVtW2RhdGFQcml2LmV4cGFuZG9dKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiA=
oZGF0YS5ldmVudHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbi=
BkYXRhLmV2ZW50cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVja=
WFsW3R5cGVdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5l=
dmVudC5yZW1vdmUoZWxlbSwgdHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW=
92ZUV2ZW50KGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlKTsKICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtkYXRhUHJpdi5leHBhbmR=
vXSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC=
AgaWYgKGVsZW1bZGF0YVVzZXIuZXhwYW5kb10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ=
WxlbVtkYXRhVXNlci5leHBhbmRvXSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICB9=
CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSk7CiAgICB=
qUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgICBkZXRhY2g6IGZ1bmN0aW9uIChzZWxlY3Rvcikgew=
ogICAgICAgICAgICByZXR1cm4gcmVtb3ZlKHRoaXMsIHNlbGVjdG9yLCB0cnVlKTsKICAgICAgI=
CB9LAogICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgICAgIHJl=
dHVybiByZW1vdmUodGhpcywgc2VsZWN0b3IpOwogICAgICAgIH0sCiAgICAgICAgdGV4dDogZnV=
uY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBhY2Nlc3MoCiAgICAgICAgICAgIC=
AgICB0aGlzLAogICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgI=
CAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPwogICAgICAgICAgICAgICAgICAg=
ICAgICBqUXVlcnkudGV4dCh0aGlzKSA6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1=
wdHkoKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIC=
h0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZ=
VR5cGUgPT09IDkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRD=
b250ZW50ID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICA=
gICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG51bG=
wsCiAgICAgICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5nd=
GgKICAgICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGFwcGVuZDogZnVuY3Rpb24gKCkg=
ewogICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiA=
oZWxlbSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy=
5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSkgewogICAgICAgICAgICAgI=
CAgICAgIHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQodGhpcywgZWxlbSk7CiAgICAg=
ICAgICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW0pOwogICAgICAgICAgICAgICA=
gfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHByZXBlbmQ6IGZ1bmN0aW9uIC=
gpIHsKICAgICAgICAgICAgcmV0dXJuIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb=
24gKGVsZW0pIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRo=
aXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkpIHsKICAgICAgICAgICA=
gICAgICAgICB2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KHRoaXMsIGVsZW0pOwogIC=
AgICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUoZWxlbSwgdGFyZ2V0LmZpcnN0Q=
2hpbGQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAg=
ICAgIGJlZm9yZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGh=
pcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgaWYgKHRoaX=
MucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlc=
nRCZWZvcmUoZWxlbSwgdGhpcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwog=
ICAgICAgIH0sCiAgICAgICAgYWZ0ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJ=
uIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgIC=
AgICAgIGlmICh0aGlzLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc=
mVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sIHRoaXMubmV4dFNpYmxpbmcpOwogICAgICAgICAg=
ICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGVtcHR5OiBmdW5jdGl=
vbiAoKSB7CiAgICAgICAgICAgIHZhciBlbGVtLAogICAgICAgICAgICAgICAgaSA9IDA7CiAgIC=
AgICAgICAgIGZvciAoOwogICAgICAgICAgICAgICAgKGVsZW0gPSB0aGlzW2ldKSAhPSBudWxsO=
yBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxKSB7CiAgICAg=
ICAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwoZWxlbSwgZmFsc2UpKTsKICA=
gICAgICAgICAgICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gIiI7CiAgICAgICAgICAgICAgIC=
B9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSwKICAgI=
CAgICBjbG9uZTogZnVuY3Rpb24gKGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzKSB7=
CiAgICAgICAgICAgIGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWx=
zZSA6IGRhdGFBbmRFdmVudHM7CiAgICAgICAgICAgIGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcE=
RhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50c=
zsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAg=
ICAgIHJldHVybiBqUXVlcnkuY2xvbmUodGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmR=
FdmVudHMpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGh0bWw6IGZ1bmN0aW=
9uICh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gYWNjZXNzKAogICAgICAgICAgICAgICAgd=
GhpcywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAg=
ICAgIHZhciBlbGVtID0gdGhpc1swXSB8fCB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgaSA=
9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSB0aGlzLmxlbmd0aDsKICAgICAgICAgIC=
AgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxK=
SB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmlubmVySFRNTDsKICAgICAg=
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0=
gInN0cmluZyIgJiYgIXJub0lubmVyaHRtbC50ZXN0KHZhbHVlKSAmJiAhd3JhcE1hcFsocnRhZ0=
5hbWUuZXhlYyh2YWx1ZSkgfHwgWyIiLCAiIl0pWzFdLnRvTG93ZXJDYXNlKCldKSB7CiAgICAgI=
CAgICAgICAgICAgICAgICAgIHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIodmFsdWUpOwog=
ICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICA=
gZm9yICg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG=
VtID0gdGhpc1tpXSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ=
WxlbS5ub2RlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICBqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtLCBmYWxzZSkpOwogICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IHZhbHVlOwogICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSAwOwogICAgICAgICAgICAgICAgICAgICAg=
ICB9IGNhdGNoIChlKSB7IH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICA=
gICAgaWYgKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXB0eSgpLmFwcG=
VuZCh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgI=
CAgICAgICAgICAgIG51bGwsCiAgICAgICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgICAg=
IGFyZ3VtZW50cy5sZW5ndGgKICAgICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIHJlcGx=
hY2VXaXRoOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpZ25vcmVkID0gW107CiAgIC=
AgICAgICAgIHJldHVybiBkb21NYW5pcCgKICAgICAgICAgICAgICAgIHRoaXMsCiAgICAgICAgI=
CAgICAgICBhcmd1bWVudHMsCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSkgewogICAg=
ICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICAgICAgICA=
gICAgICAgICAgaWYgKGpRdWVyeS5pbkFycmF5KHRoaXMsIGlnbm9yZWQpIDwgMCkgewogICAgIC=
AgICAgICAgICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKGdldEFsbCh0aGlzKSk7CiAgICAgI=
CAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQoZWxlbSwgdGhpcyk7CiAgICAgICAgICAgICAgICAgICA=
gICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgIC=
AgICAgICAgaWdub3JlZAogICAgICAgICAgICApOwogICAgICAgIH0sCiAgICB9KTsKICAgIGpRd=
WVyeS5lYWNoKHsKICAgICAgICBhcHBlbmRUbzogImFwcGVuZCIsCiAgICAgICAgcHJlcGVuZFRv=
OiAicHJlcGVuZCIsCiAgICAgICAgaW5zZXJ0QmVmb3JlOiAiYmVmb3JlIiwKICAgICAgICBpbnN=
lcnRBZnRlcjogImFmdGVyIiwKICAgICAgICByZXBsYWNlQWxsOiAicmVwbGFjZVdpdGgiCiAgIC=
B9LCBmdW5jdGlvbiAobmFtZSwgb3JpZ2luYWwpIHsKICAgICAgICBqUXVlcnkuZm5bbmFtZV0gP=
SBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgdmFyIGVsZW1zLAogICAgICAgICAg=
ICAgICAgcmV0ID0gW10sCiAgICAgICAgICAgICAgICBpbnNlcnQgPSBqUXVlcnkoc2VsZWN0b3I=
pLAogICAgICAgICAgICAgICAgbGFzdCA9IGluc2VydC5sZW5ndGggLSAxLAogICAgICAgICAgIC=
AgICAgaSA9IDA7CiAgICAgICAgICAgIGZvciAoOyBpIDw9IGxhc3Q7IGkrKykgewogICAgICAgI=
CAgICAgICAgZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUodHJ1ZSk7CiAg=
ICAgICAgICAgICAgICBqUXVlcnkoaW5zZXJ0W2ldKVtvcmlnaW5hbF0oZWxlbXMpOwogICAgICA=
gICAgICAgICAgcHVzaC5hcHBseShyZXQsIGVsZW1zLmdldCgpKTsKICAgICAgICAgICAgfQogIC=
AgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2socmV0KTsKICAgICAgICB9OwogICAgfSk7C=
iAgICB2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCgiXigiICsgcG51bSArICIpKD8hcHgpW2Et=
eiVdKyQiLCAiaSIpOwogICAgdmFyIHJjdXN0b21Qcm9wID0gL14tLS87CiAgICB2YXIgZ2V0U3R=
5bGVzID0gZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICB2YXIgdmlldyA9IGVsZW0ub3duZXJEb2=
N1bWVudC5kZWZhdWx0VmlldzsKICAgICAgICBpZiAoIXZpZXcgfHwgIXZpZXcub3BlbmVyKSB7C=
iAgICAgICAgICAgIHZpZXcgPSB3aW5kb3c7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2aWV3=
LmdldENvbXB1dGVkU3R5bGUoZWxlbSk7CiAgICB9OwogICAgdmFyIHN3YXAgPSBmdW5jdGlvbiA=
oZWxlbSwgb3B0aW9ucywgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmV0LAogICAgICAgICAgIC=
BuYW1lLAogICAgICAgICAgICBvbGQgPSB7fTsKICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9uc=
ykgewogICAgICAgICAgICBvbGRbbmFtZV0gPSBlbGVtLnN0eWxlW25hbWVdOwogICAgICAgICAg=
ICBlbGVtLnN0eWxlW25hbWVdID0gb3B0aW9uc1tuYW1lXTsKICAgICAgICB9CiAgICAgICAgcmV=
0ID0gY2FsbGJhY2suY2FsbChlbGVtKTsKICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9ucykgew=
ogICAgICAgICAgICBlbGVtLnN0eWxlW25hbWVdID0gb2xkW25hbWVdOwogICAgICAgIH0KICAgI=
CAgICByZXR1cm4gcmV0OwogICAgfTsKICAgIHZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKGNz=
c0V4cGFuZC5qb2luKCJ8IiksICJpIik7CiAgICB2YXIgd2hpdGVzcGFjZSA9ICJbXFx4MjBcXHR=
cXHJcXG5cXGZdIjsKICAgIHZhciBydHJpbUNTUyA9IG5ldyBSZWdFeHAoIl4iICsgd2hpdGVzcG=
FjZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgd2hpdGVzcGFjZSArICIrJCIsI=
CJnIik7CiAgICAoZnVuY3Rpb24gKCkgewogICAgICAgIGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRl=
c3RzKCkgewogICAgICAgICAgICBpZiAoIWRpdikgewogICAgICAgICAgICAgICAgcmV0dXJuOwo=
gICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gInBvc2=
l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDsiICsgIm1hcmdpbi10b3A6M=
XB4O3BhZGRpbmc6MDtib3JkZXI6MCI7CiAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0g=
InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O29=
2ZXJmbG93OnNjcm9sbDsiICsgIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7Ii=
ArICJ3aWR0aDo2MCU7dG9wOjElIjsKICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZ=
ENoaWxkKGNvbnRhaW5lcikuYXBwZW5kQ2hpbGQoZGl2KTsKICAgICAgICAgICAgdmFyIGRpdlN0=
eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2KTsKICAgICAgICAgICAgcGl4ZWxQb3N=
pdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gIjElIjsKICAgICAgICAgICAgcmVsaWFibGVNYX=
JnaW5MZWZ0VmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKGRpdlN0eWxlLm1hcmdpbkxlZnQpID09P=
SAxMjsKICAgICAgICAgICAgZGl2LnN0eWxlLnJpZ2h0ID0gIjYwJSI7CiAgICAgICAgICAgIHBp=
eGVsQm94U3R5bGVzVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKGRpdlN0eWxlLnJpZ2h0KSA9PT0=
gMzY7CiAgICAgICAgICAgIGJveFNpemluZ1JlbGlhYmxlVmFsID0gcm91bmRQaXhlbE1lYXN1cm=
VzKGRpdlN0eWxlLndpZHRoKSA9PT0gMzY7CiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvb=
iA9ICJhYnNvbHV0ZSI7CiAgICAgICAgICAgIHNjcm9sbGJveFNpemVWYWwgPSByb3VuZFBpeGVs=
TWVhc3VyZXMoZGl2Lm9mZnNldFdpZHRoIC8gMykgPT09IDEyOwogICAgICAgICAgICBkb2N1bWV=
udEVsZW1lbnQucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTsKICAgICAgICAgICAgZGl2ID0gbnVsbD=
sKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJvdW5kUGl4ZWxNZWFzdXJlcyhtZWFzdXJlK=
SB7CiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobWVhc3VyZSkpOwog=
ICAgICAgIH0KICAgICAgICB2YXIgcGl4ZWxQb3NpdGlvblZhbCwKICAgICAgICAgICAgYm94U2l=
6aW5nUmVsaWFibGVWYWwsCiAgICAgICAgICAgIHNjcm9sbGJveFNpemVWYWwsCiAgICAgICAgIC=
AgIHBpeGVsQm94U3R5bGVzVmFsLAogICAgICAgICAgICByZWxpYWJsZVRyRGltZW5zaW9uc1Zhb=
CwKICAgICAgICAgICAgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLAogICAgICAgICAgICBjb250YWlu=
ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgICAgICAgICAgZGl2ID0gZG9=
jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgaWYgKCFkaXYuc3R5bGUpIHsKIC=
AgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZ=
ENsaXAgPSAiY29udGVudC1ib3giOwogICAgICAgIGRpdi5jbG9uZU5vZGUodHJ1ZSkuc3R5bGUu=
YmFja2dyb3VuZENsaXAgPSAiIjsKICAgICAgICBzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGR=
pdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gImNvbnRlbnQtYm94IjsKICAgICAgICBqUXVlcn=
kuZXh0ZW5kKHN1cHBvcnQsIHsKICAgICAgICAgICAgYm94U2l6aW5nUmVsaWFibGU6IGZ1bmN0a=
W9uICgpIHsKICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7CiAgICAgICAgICAg=
ICAgICByZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7CiAgICAgICAgICAgIH0sCiAgICAgICA=
gICAgIHBpeGVsQm94U3R5bGVzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjb21wdX=
RlU3R5bGVUZXN0cygpOwogICAgICAgICAgICAgICAgcmV0dXJuIHBpeGVsQm94U3R5bGVzVmFsO=
wogICAgICAgICAgICB9LAogICAgICAgICAgICBwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7=
CiAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpOwogICAgICAgICAgICAgICAgcmV=
0dXJuIHBpeGVsUG9zaXRpb25WYWw7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlbGlhYm=
xlTWFyZ2luTGVmdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29tcHV0ZVN0eWxlV=
GVzdHMoKTsKICAgICAgICAgICAgICAgIHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7CiAg=
ICAgICAgICAgIH0sCiAgICAgICAgICAgIHNjcm9sbGJveFNpemU6IGZ1bmN0aW9uICgpIHsKICA=
gICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7CiAgICAgICAgICAgICAgICByZXR1cm=
4gc2Nyb2xsYm94U2l6ZVZhbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVsaWFibGVUc=
kRpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciB0YWJsZSwgdHIs=
IHRyQ2hpbGQsIHRyU3R5bGU7CiAgICAgICAgICAgICAgICBpZiAocmVsaWFibGVUckRpbWVuc2l=
vbnNWYWwgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRhYmxlID0gZG9jdW1lbnQuY3=
JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgICAgICB0ciA9IGRvY3VtZW50L=
mNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgICAgICAgdHJDaGlsZCA9IGRvY3Vt=
ZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgIHRhYmxlLnN0eWx=
lLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbG=
Fwc2U6c2VwYXJhdGUiOwogICAgICAgICAgICAgICAgICAgIHRyLnN0eWxlLmNzc1RleHQgPSAiY=
m9yZGVyOjFweCBzb2xpZCI7CiAgICAgICAgICAgICAgICAgICAgdHIuc3R5bGUuaGVpZ2h0ID0g=
IjFweCI7CiAgICAgICAgICAgICAgICAgICAgdHJDaGlsZC5zdHlsZS5oZWlnaHQgPSAiOXB4Ijs=
KICAgICAgICAgICAgICAgICAgICB0ckNoaWxkLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIC=
AgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0YWJsZSkuYXBwZ=
W5kQ2hpbGQodHIpLmFwcGVuZENoaWxkKHRyQ2hpbGQpOwogICAgICAgICAgICAgICAgICAgIHRy=
U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0cik7CiAgICAgICAgICAgICAgICAgICA=
gcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPSBwYXJzZUludCh0clN0eWxlLmhlaWdodCwgMTApIC=
sgcGFyc2VJbnQodHJTdHlsZS5ib3JkZXJUb3BXaWR0aCwgMTApICsgcGFyc2VJbnQodHJTdHlsZ=
S5ib3JkZXJCb3R0b21XaWR0aCwgMTApID09PSB0ci5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICAg=
ICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRhYmxlKTsKICAgICAgICAgICA=
gICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbDsKIC=
AgICAgICAgICAgfSwKICAgICAgICB9KTsKICAgIH0pKCk7CgogICAgZnVuY3Rpb24gY3VyQ1NTK=
GVsZW0sIG5hbWUsIGNvbXB1dGVkKSB7CiAgICAgICAgdmFyIHdpZHRoLAogICAgICAgICAgICBt=
aW5XaWR0aCwKICAgICAgICAgICAgbWF4V2lkdGgsCiAgICAgICAgICAgIHJldCwKICAgICAgICA=
gICAgaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdChuYW1lKSwKICAgICAgICAgICAgc3=
R5bGUgPSBlbGVtLnN0eWxlOwogICAgICAgIGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5b=
GVzKGVsZW0pOwogICAgICAgIGlmIChjb21wdXRlZCkgewogICAgICAgICAgICByZXQgPSBjb21w=
dXRlZC5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpIHx8IGNvbXB1dGVkW25hbWVdOwogICAgICAgICA=
gICBpZiAoaXNDdXN0b21Qcm9wICYmIHJldCkgewogICAgICAgICAgICAgICAgcmV0ID0gcmV0Ln=
JlcGxhY2UocnRyaW1DU1MsICIkMSIpIHx8IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgI=
CAgICAgICBpZiAocmV0ID09PSAiIiAmJiAhaXNBdHRhY2hlZChlbGVtKSkgewogICAgICAgICAg=
ICAgICAgcmV0ID0galF1ZXJ5LnN0eWxlKGVsZW0sIG5hbWUpOwogICAgICAgICAgICB9CiAgICA=
gICAgICAgIGlmICghc3VwcG9ydC5waXhlbEJveFN0eWxlcygpICYmIHJudW1ub25weC50ZXN0KH=
JldCkgJiYgcmJveFN0eWxlLnRlc3QobmFtZSkpIHsKICAgICAgICAgICAgICAgIHdpZHRoID0gc=
3R5bGUud2lkdGg7CiAgICAgICAgICAgICAgICBtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoOwog=
ICAgICAgICAgICAgICAgbWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDsKICAgICAgICAgICAgICA=
gIHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDsKIC=
AgICAgICAgICAgICAgIHJldCA9IGNvbXB1dGVkLndpZHRoOwogICAgICAgICAgICAgICAgc3R5b=
GUud2lkdGggPSB3aWR0aDsKICAgICAgICAgICAgICAgIHN0eWxlLm1pbldpZHRoID0gbWluV2lk=
dGg7CiAgICAgICAgICAgICAgICBzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoOwogICAgICAgICA=
gICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/IHJldCArIC=
IiIDogcmV0OwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEdldEhvb2tJZihjb25kaXRpb25Gbiwga=
G9va0ZuKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7=
CiAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9uRm4oKSkgewogICAgICAgICAgICAgICAgICA=
gIGRlbGV0ZSB0aGlzLmdldDsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgIC=
AgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuZ2V0ID0gaG9va0ZuKS5hcHBse=
Sh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9LAogICAgICAgIH07CiAgICB9CiAgICB2=
YXIgY3NzUHJlZml4ZXMgPSBbIldlYmtpdCIsICJNb3oiLCAibXMiXSwKICAgICAgICBlbXB0eVN=
0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsCiAgICAgICAgdmVuZG=
9yUHJvcHMgPSB7fTsKCiAgICBmdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZShuYW1lKSB7CiAgICAgI=
CAgdmFyIGNhcE5hbWUgPSBuYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLAog=
ICAgICAgICAgICBpID0gY3NzUHJlZml4ZXMubGVuZ3RoOwogICAgICAgIHdoaWxlIChpLS0pIHs=
KICAgICAgICAgICAgbmFtZSA9IGNzc1ByZWZpeGVzW2ldICsgY2FwTmFtZTsKICAgICAgICAgIC=
AgaWYgKG5hbWUgaW4gZW1wdHlTdHlsZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7C=
iAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZmluYWxQcm9wTmFt=
ZShuYW1lKSB7CiAgICAgICAgdmFyIGZpbmFsID0galF1ZXJ5LmNzc1Byb3BzW25hbWVdIHx8IHZ=
lbmRvclByb3BzW25hbWVdOwogICAgICAgIGlmIChmaW5hbCkgewogICAgICAgICAgICByZXR1cm=
4gZmluYWw7CiAgICAgICAgfQogICAgICAgIGlmIChuYW1lIGluIGVtcHR5U3R5bGUpIHsKICAgI=
CAgICAgICAgcmV0dXJuIG5hbWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiAodmVuZG9yUHJv=
cHNbbmFtZV0gPSB2ZW5kb3JQcm9wTmFtZShuYW1lKSB8fCBuYW1lKTsKICAgIH0KICAgIHZhciB=
yZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sCiAgICAgICAgY3NzU2=
hvdyA9IHsKICAgICAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICAgICAgICAgIHZpc=
2liaWxpdHk6ICJoaWRkZW4iLAogICAgICAgICAgICBkaXNwbGF5OiAiYmxvY2siCiAgICAgICAg=
fSwKICAgICAgICBjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7CiAgICAgICAgICAgIGxldHRlclNwYWN=
pbmc6ICIwIiwKICAgICAgICAgICAgZm9udFdlaWdodDogIjQwMCIKICAgICAgICB9OwoKICAgIG=
Z1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKF9lbGVtLCB2YWx1ZSwgc3VidHJhY3QpIHsKICAgI=
CAgICB2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyh2YWx1ZSk7CiAgICAgICAgcmV0dXJuIG1h=
dGNoZXMgPyBNYXRoLm1heCgwLCBtYXRjaGVzWzJdIC0gKHN1YnRyYWN0IHx8IDApKSArIChtYXR=
jaGVzWzNdIHx8ICJweCIpIDogdmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gYm94TW9kZWxBZG=
p1c3RtZW50KGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wd=
XRlZFZhbCkgewogICAgICAgIHZhciBpID0gZGltZW5zaW9uID09PSAid2lkdGgiID8gMSA6IDAs=
CiAgICAgICAgICAgIGV4dHJhID0gMCwKICAgICAgICAgICAgZGVsdGEgPSAwOwogICAgICAgIGl=
mIChib3ggPT09IChpc0JvcmRlckJveCA/ICJib3JkZXIiIDogImNvbnRlbnQiKSkgewogICAgIC=
AgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgZm9yICg7IGkgPCA0OyBpICs9IDIpI=
HsKICAgICAgICAgICAgaWYgKGJveCA9PT0gIm1hcmdpbiIpIHsKICAgICAgICAgICAgICAgIGRl=
bHRhICs9IGpRdWVyeS5jc3MoZWxlbSwgYm94ICsgY3NzRXhwYW5kW2ldLCB0cnVlLCBzdHlsZXM=
pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghaXNCb3JkZXJCb3gpIHsKICAgICAgIC=
AgICAgICAgIGRlbHRhICs9IGpRdWVyeS5jc3MoZWxlbSwgInBhZGRpbmciICsgY3NzRXhwYW5kW=
2ldLCB0cnVlLCBzdHlsZXMpOwogICAgICAgICAgICAgICAgaWYgKGJveCAhPT0gInBhZGRpbmci=
KSB7CiAgICAgICAgICAgICAgICAgICAgZGVsdGEgKz0galF1ZXJ5LmNzcyhlbGVtLCAiYm9yZGV=
yIiArIGNzc0V4cGFuZFtpXSArICJXaWR0aCIsIHRydWUsIHN0eWxlcyk7CiAgICAgICAgICAgIC=
AgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGV4dHJhICs9IGpRdWVyeS5jc3MoZWxlb=
SwgImJvcmRlciIgKyBjc3NFeHBhbmRbaV0gKyAiV2lkdGgiLCB0cnVlLCBzdHlsZXMpOwogICAg=
ICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKGJ=
veCA9PT0gImNvbnRlbnQiKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsdGEgLT0galF1ZXJ5Lm=
NzcyhlbGVtLCAicGFkZGluZyIgKyBjc3NFeHBhbmRbaV0sIHRydWUsIHN0eWxlcyk7CiAgICAgI=
CAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYm94ICE9PSAibWFyZ2luIikgewogICAg=
ICAgICAgICAgICAgICAgIGRlbHRhIC09IGpRdWVyeS5jc3MoZWxlbSwgImJvcmRlciIgKyBjc3N=
FeHBhbmRbaV0gKyAiV2lkdGgiLCB0cnVlLCBzdHlsZXMpOwogICAgICAgICAgICAgICAgfQogIC=
AgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghaXNCb3JkZXJCb3ggJiYgY29tcHV0Z=
WRWYWwgPj0gMCkgewogICAgICAgICAgICBkZWx0YSArPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwo=
ZWxlbVsib2Zmc2V0IiArIGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnN=
saWNlKDEpXSAtIGNvbXB1dGVkVmFsIC0gZGVsdGEgLSBleHRyYSAtIDAuNSkpIHx8IDA7CiAgIC=
AgICAgfQogICAgICAgIHJldHVybiBkZWx0YTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRXaWR0a=
E9ySGVpZ2h0KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEpIHsKICAgICAgICB2YXIgc3R5bGVzID0g=
Z2V0U3R5bGVzKGVsZW0pLAogICAgICAgICAgICBib3hTaXppbmdOZWVkZWQgPSAhc3VwcG9ydC5=
ib3hTaXppbmdSZWxpYWJsZSgpIHx8IGV4dHJhLAogICAgICAgICAgICBpc0JvcmRlckJveCA9IG=
JveFNpemluZ05lZWRlZCAmJiBqUXVlcnkuY3NzKGVsZW0sICJib3hTaXppbmciLCBmYWxzZSwgc=
3R5bGVzKSA9PT0gImJvcmRlci1ib3giLAogICAgICAgICAgICB2YWx1ZUlzQm9yZGVyQm94ID0g=
aXNCb3JkZXJCb3gsCiAgICAgICAgICAgIHZhbCA9IGN1ckNTUyhlbGVtLCBkaW1lbnNpb24sIHN=
0eWxlcyksCiAgICAgICAgICAgIG9mZnNldFByb3AgPSAib2Zmc2V0IiArIGRpbWVuc2lvblswXS=
50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpOwogICAgICAgIGlmIChybnVtbm9uc=
HgudGVzdCh2YWwpKSB7CiAgICAgICAgICAgIGlmICghZXh0cmEpIHsKICAgICAgICAgICAgICAg=
IHJldHVybiB2YWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFsID0gImF1dG8iOwogICA=
gICAgIH0KICAgICAgICBpZiAoKCghc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpICYmIGlzQm=
9yZGVyQm94KSB8fCAoIXN1cHBvcnQucmVsaWFibGVUckRpbWVuc2lvbnMoKSAmJiBub2RlTmFtZ=
ShlbGVtLCAidHIiKSkgfHwgdmFsID09PSAiYXV0byIgfHwgKCFwYXJzZUZsb2F0KHZhbCkgJiYg=
alF1ZXJ5LmNzcyhlbGVtLCAiZGlzcGxheSIsIGZhbHNlLCBzdHlsZXMpID09PSAiaW5saW5lIik=
pICYmIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpIHsKICAgICAgICAgICAgaXNCb3JkZX=
JCb3ggPSBqUXVlcnkuY3NzKGVsZW0sICJib3hTaXppbmciLCBmYWxzZSwgc3R5bGVzKSA9PT0gI=
mJvcmRlci1ib3giOwogICAgICAgICAgICB2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBp=
biBlbGVtOwogICAgICAgICAgICBpZiAodmFsdWVJc0JvcmRlckJveCkgewogICAgICAgICAgICA=
gICAgdmFsID0gZWxlbVtvZmZzZXRQcm9wXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIC=
AgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCkgfHwgMDsKICAgICAgICByZXR1cm4gdmFsICsgYm94T=
W9kZWxBZGp1c3RtZW50KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgfHwgKGlzQm9yZGVyQm94ID8g=
ImJvcmRlciIgOiAiY29udGVudCIpLCB2YWx1ZUlzQm9yZGVyQm94LCBzdHlsZXMsIHZhbCkgKyA=
icHgiOwogICAgfQogICAgalF1ZXJ5LmV4dGVuZCh7CiAgICAgICAgY3NzSG9va3M6IHsKICAgIC=
AgICAgICAgb3BhY2l0eTogewogICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSwgY=
29tcHV0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQpIHsKICAgICAgICAg=
ICAgICAgICAgICAgICAgdmFyIHJldCA9IGN1ckNTUyhlbGVtLCAib3BhY2l0eSIpOwogICAgICA=
gICAgICAgICAgICAgICAgICByZXR1cm4gcmV0ID09PSAiIiA/ICIxIiA6IHJldDsKICAgICAgIC=
AgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgI=
H0sCiAgICAgICAgY3NzTnVtYmVyOiB7CiAgICAgICAgICAgIGFuaW1hdGlvbkl0ZXJhdGlvbkNv=
dW50OiB0cnVlLAogICAgICAgICAgICBjb2x1bW5Db3VudDogdHJ1ZSwKICAgICAgICAgICAgZml=
sbE9wYWNpdHk6IHRydWUsCiAgICAgICAgICAgIGZsZXhHcm93OiB0cnVlLAogICAgICAgICAgIC=
BmbGV4U2hyaW5rOiB0cnVlLAogICAgICAgICAgICBmb250V2VpZ2h0OiB0cnVlLAogICAgICAgI=
CAgICBncmlkQXJlYTogdHJ1ZSwKICAgICAgICAgICAgZ3JpZENvbHVtbjogdHJ1ZSwKICAgICAg=
ICAgICAgZ3JpZENvbHVtbkVuZDogdHJ1ZSwKICAgICAgICAgICAgZ3JpZENvbHVtblN0YXJ0OiB=
0cnVlLAogICAgICAgICAgICBncmlkUm93OiB0cnVlLAogICAgICAgICAgICBncmlkUm93RW5kOi=
B0cnVlLAogICAgICAgICAgICBncmlkUm93U3RhcnQ6IHRydWUsCiAgICAgICAgICAgIGxpbmVIZ=
WlnaHQ6IHRydWUsCiAgICAgICAgICAgIG9wYWNpdHk6IHRydWUsCiAgICAgICAgICAgIG9yZGVy=
OiB0cnVlLAogICAgICAgICAgICBvcnBoYW5zOiB0cnVlLAogICAgICAgICAgICB3aWRvd3M6IHR=
ydWUsCiAgICAgICAgICAgIHpJbmRleDogdHJ1ZSwKICAgICAgICAgICAgem9vbTogdHJ1ZQogIC=
AgICAgIH0sCiAgICAgICAgY3NzUHJvcHM6IHt9LAogICAgICAgIHN0eWxlOiBmdW5jdGlvbiAoZ=
WxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhKSB7CiAgICAgICAgICAgIGlmICghZWxlbSB8fCBlbGVt=
Lm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUpIHs=
KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcm=
V0LAogICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgIGhvb2tzLAogICAgICAgI=
CAgICAgICAgb3JpZ05hbWUgPSBjYW1lbENhc2UobmFtZSksCiAgICAgICAgICAgICAgICBpc0N1=
c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KG5hbWUpLAogICAgICAgICAgICAgICAgc3R5bGU=
gPSBlbGVtLnN0eWxlOwogICAgICAgICAgICBpZiAoIWlzQ3VzdG9tUHJvcCkgewogICAgICAgIC=
AgICAgICAgbmFtZSA9IGZpbmFsUHJvcE5hbWUob3JpZ05hbWUpOwogICAgICAgICAgICB9CiAgI=
CAgICAgICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzW25hbWVdIHx8IGpRdWVyeS5jc3NIb29r=
c1tvcmlnTmFtZV07CiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICA=
gICAgICAgICAgICB0eXBlID0gdHlwZW9mIHZhbHVlOwogICAgICAgICAgICAgICAgaWYgKHR5cG=
UgPT09ICJzdHJpbmciICYmIChyZXQgPSByY3NzTnVtLmV4ZWModmFsdWUpKSAmJiByZXRbMV0pI=
HsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFkanVzdENTUyhlbGVtLCBuYW1lLCByZXQp=
OwogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAibnVtYmVyIjsKICAgICAgICAgICAgICAgIH0=
KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgew=
ogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgI=
CAgICAgIGlmICh0eXBlID09PSAibnVtYmVyIiAmJiAhaXNDdXN0b21Qcm9wKSB7CiAgICAgICAg=
ICAgICAgICAgICAgdmFsdWUgKz0gKHJldCAmJiByZXRbM10pIHx8IChqUXVlcnkuY3NzTnVtYmV=
yW29yaWdOYW1lXSA/ICIiIDogInB4Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC=
AgICBpZiAoIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSAiIiAmJiBuYW1lL=
mluZGV4T2YoImJhY2tncm91bmQiKSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHN0eWxl=
W25hbWVdID0gImluaGVyaXQiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWY=
gKCFob29rcyB8fCAhKCJzZXQiIGluIGhvb2tzKSB8fCAodmFsdWUgPSBob29rcy5zZXQoZWxlbS=
wgdmFsdWUsIGV4dHJhKSkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIGlmI=
Chpc0N1c3RvbVByb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVy=
dHkobmFtZSwgdmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICA=
gICAgICAgICAgICAgIHN0eWxlW25hbWVdID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQ=
ogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAga=
WYgKGhvb2tzICYmICJnZXQiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoZWxlbSwgZmFs=
c2UsIGV4dHJhKSkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB=
yZXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVbbmFtZV=
07CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNzczogZnVuY3Rpb24gKGVsZW0sI=
G5hbWUsIGV4dHJhLCBzdHlsZXMpIHsKICAgICAgICAgICAgdmFyIHZhbCwKICAgICAgICAgICAg=
ICAgIG51bSwKICAgICAgICAgICAgICAgIGhvb2tzLAogICAgICAgICAgICAgICAgb3JpZ05hbWU=
gPSBjYW1lbENhc2UobmFtZSksCiAgICAgICAgICAgICAgICBpc0N1c3RvbVByb3AgPSByY3VzdG=
9tUHJvcC50ZXN0KG5hbWUpOwogICAgICAgICAgICBpZiAoIWlzQ3VzdG9tUHJvcCkgewogICAgI=
CAgICAgICAgICAgbmFtZSA9IGZpbmFsUHJvcE5hbWUob3JpZ05hbWUpOwogICAgICAgICAgICB9=
CiAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzW25hbWVdIHx8IGpRdWVyeS5jc3N=
Ib29rc1tvcmlnTmFtZV07CiAgICAgICAgICAgIGlmIChob29rcyAmJiAiZ2V0IiBpbiBob29rcy=
kgewogICAgICAgICAgICAgICAgdmFsID0gaG9va3MuZ2V0KGVsZW0sIHRydWUsIGV4dHJhKTsKI=
CAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHsKICAgICAg=
ICAgICAgICAgIHZhbCA9IGN1ckNTUyhlbGVtLCBuYW1lLCBzdHlsZXMpOwogICAgICAgICAgICB=
9CiAgICAgICAgICAgIGlmICh2YWwgPT09ICJub3JtYWwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVH=
JhbnNmb3JtKSB7CiAgICAgICAgICAgICAgICB2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bbmFtZ=
V07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGV4dHJhID09PSAiIiB8fCBleHRyYSkg=
ewogICAgICAgICAgICAgICAgbnVtID0gcGFyc2VGbG9hdCh2YWwpOwogICAgICAgICAgICAgICA=
gcmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKG51bSkgPyBudW0gfHwgMCA6IHZhbD=
sKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgIH0sCiAgICB9K=
TsKICAgIGpRdWVyeS5lYWNoKFsiaGVpZ2h0IiwgIndpZHRoIl0sIGZ1bmN0aW9uIChfaSwgZGlt=
ZW5zaW9uKSB7CiAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW2RpbWVuc2lvbl0gPSB7CiAgICAgICA=
gICAgIGdldDogZnVuY3Rpb24gKGVsZW0sIGNvbXB1dGVkLCBleHRyYSkgewogICAgICAgICAgIC=
AgICAgaWYgKGNvbXB1dGVkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJkaXNwbGF5c=
3dhcC50ZXN0KGpRdWVyeS5jc3MoZWxlbSwgImRpc3BsYXkiKSkgJiYgKCFlbGVtLmdldENsaWVu=
dFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSA=
/CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YXAoZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24gKC=
kgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoZ=
WxlbSwgZGltZW5zaW9uLCBleHRyYSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pIDoKICAg=
ICAgICAgICAgICAgICAgICAgICAgZ2V0V2lkdGhPckhlaWdodChlbGVtLCBkaW1lbnNpb24sIGV=
4dHJhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0Oi=
BmdW5jdGlvbiAoZWxlbSwgdmFsdWUsIGV4dHJhKSB7CiAgICAgICAgICAgICAgICB2YXIgbWF0Y=
2hlcywKICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBnZXRTdHlsZXMoZWxlbSksCiAgICAg=
ICAgICAgICAgICAgICAgc2Nyb2xsYm94U2l6ZUJ1Z2d5ID0gIXN1cHBvcnQuc2Nyb2xsYm94U2l=
6ZSgpICYmIHN0eWxlcy5wb3NpdGlvbiA9PT0gImFic29sdXRlIiwKICAgICAgICAgICAgICAgIC=
AgICBib3hTaXppbmdOZWVkZWQgPSBzY3JvbGxib3hTaXplQnVnZ3kgfHwgZXh0cmEsCiAgICAgI=
CAgICAgICAgICAgICAgaXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiYgalF1ZXJ5LmNz=
cyhlbGVtLCAiYm94U2l6aW5nIiwgZmFsc2UsIHN0eWxlcykgPT09ICJib3JkZXItYm94IiwKICA=
gICAgICAgICAgICAgICAgICBzdWJ0cmFjdCA9IGV4dHJhID8gYm94TW9kZWxBZGp1c3RtZW50KG=
VsZW0sIGRpbWVuc2lvbiwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMpIDogMDsKICAgICAgI=
CAgICAgICAgIGlmIChpc0JvcmRlckJveCAmJiBzY3JvbGxib3hTaXplQnVnZ3kpIHsKICAgICAg=
ICAgICAgICAgICAgICBzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoZWxlbVsib2Zmc2V0IiArIGRpbWV=
uc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpXSAtIHBhcnNlRmxvYX=
Qoc3R5bGVzW2RpbWVuc2lvbl0pIC0gYm94TW9kZWxBZGp1c3RtZW50KGVsZW0sIGRpbWVuc2lvb=
iwgImJvcmRlciIsIGZhbHNlLCBzdHlsZXMpIC0gMC41KTsKICAgICAgICAgICAgICAgIH0KICAg=
ICAgICAgICAgICAgIGlmIChzdWJ0cmFjdCAmJiAobWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyh2YWx=
1ZSkpICYmIChtYXRjaGVzWzNdIHx8ICJweCIpICE9PSAicHgiKSB7CiAgICAgICAgICAgICAgIC=
AgICAgZWxlbS5zdHlsZVtkaW1lbnNpb25dID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgd=
mFsdWUgPSBqUXVlcnkuY3NzKGVsZW0sIGRpbWVuc2lvbik7CiAgICAgICAgICAgICAgICB9CiAg=
ICAgICAgICAgICAgICByZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoZWxlbSwgdmFsdWUsIHN1YnR=
yYWN0KTsKICAgICAgICAgICAgfSwKICAgICAgICB9OwogICAgfSk7CiAgICBqUXVlcnkuY3NzSG=
9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZihzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmd=
CwgZnVuY3Rpb24gKGVsZW0sIGNvbXB1dGVkKSB7CiAgICAgICAgaWYgKGNvbXB1dGVkKSB7CiAg=
ICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAocGFyc2VGbG9hdChjdXJDU1MoZWx=
lbSwgIm1hcmdpbkxlZnQiKSkgfHwKICAgICAgICAgICAgICAgICAgICBlbGVtLmdldEJvdW5kaW=
5nQ2xpZW50UmVjdCgpLmxlZnQgLQogICAgICAgICAgICAgICAgICAgIHN3YXAoZWxlbSwgewogI=
CAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAwCiAgICAgICAgICAgICAgICAgICAg=
fSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXR=
Cb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0OwogICAgICAgICAgICAgICAgICAgIH0pKSArICJweC=
IKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9KTsKICAgIGpRdWVyeS5lYWNoKHsKICAgI=
CAgICBtYXJnaW46ICIiLAogICAgICAgIHBhZGRpbmc6ICIiLAogICAgICAgIGJvcmRlcjogIldp=
ZHRoIgogICAgfSwgZnVuY3Rpb24gKHByZWZpeCwgc3VmZml4KSB7CiAgICAgICAgalF1ZXJ5LmN=
zc0hvb2tzW3ByZWZpeCArIHN1ZmZpeF0gPSB7CiAgICAgICAgICAgIGV4cGFuZDogZnVuY3Rpb2=
4gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsCiAgICAgICAgICAgICAgICAgI=
CAgZXhwYW5kZWQgPSB7fSwKICAgICAgICAgICAgICAgICAgICBwYXJ0cyA9IHR5cGVvZiB2YWx1=
ZSA9PT0gInN0cmluZyIgPyB2YWx1ZS5zcGxpdCgiICIpIDogW3ZhbHVlXTsKICAgICAgICAgICA=
gICAgIGZvciAoOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWRbcH=
JlZml4ICsgY3NzRXhwYW5kW2ldICsgc3VmZml4XSA9IHBhcnRzW2ldIHx8IHBhcnRzW2kgLSAyX=
SB8fCBwYXJ0c1swXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBl=
eHBhbmRlZDsKICAgICAgICAgICAgfSwKICAgICAgICB9OwogICAgICAgIGlmIChwcmVmaXggIT0=
9ICJtYXJnaW4iKSB7CiAgICAgICAgICAgIGpRdWVyeS5jc3NIb29rc1twcmVmaXggKyBzdWZmaX=
hdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyOwogICAgICAgIH0KICAgIH0pOwogICAgalF1ZXJ5L=
mZuLmV4dGVuZCh7CiAgICAgICAgY3NzOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAg=
ICAgICAgcmV0dXJuIGFjY2VzcygKICAgICAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgICA=
gICBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB2YX=
Igc3R5bGVzLAogICAgICAgICAgICAgICAgICAgICAgICBsZW4sCiAgICAgICAgICAgICAgICAgI=
CAgICAgIG1hcCA9IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBpID0gMDsKICAgICAgICAg=
ICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkgewogICAgICAgICAgICAgICAgICA=
gICAgICBzdHlsZXMgPSBnZXRTdHlsZXMoZWxlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG=
xlbiA9IG5hbWUubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlb=
jsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBbbmFtZVtpXV0gPSBqUXVl=
cnkuY3NzKGVsZW0sIG5hbWVbaV0sIGZhbHNlLCBzdHlsZXMpOwogICAgICAgICAgICAgICAgICA=
gICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXA7CiAgICAgICAgICAgIC=
AgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkI=
D8galF1ZXJ5LnN0eWxlKGVsZW0sIG5hbWUsIHZhbHVlKSA6IGpRdWVyeS5jc3MoZWxlbSwgbmFt=
ZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICA=
gICAgIHZhbHVlLAogICAgICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEKICAgICAgIC=
AgICAgKTsKICAgICAgICB9LAogICAgfSk7CgogICAgZnVuY3Rpb24gVHdlZW4oZWxlbSwgb3B0a=
W9ucywgcHJvcCwgZW5kLCBlYXNpbmcpIHsKICAgICAgICByZXR1cm4gbmV3IFR3ZWVuLnByb3Rv=
dHlwZS5pbml0KGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nKTsKICAgIH0KICAgIGp=
RdWVyeS5Ud2VlbiA9IFR3ZWVuOwogICAgVHdlZW4ucHJvdG90eXBlID0gewogICAgICAgIGNvbn=
N0cnVjdG9yOiBUd2VlbiwKICAgICAgICBpbml0OiBmdW5jdGlvbiAoZWxlbSwgb3B0aW9ucywgc=
HJvcCwgZW5kLCBlYXNpbmcsIHVuaXQpIHsKICAgICAgICAgICAgdGhpcy5lbGVtID0gZWxlbTsK=
ICAgICAgICAgICAgdGhpcy5wcm9wID0gcHJvcDsKICAgICAgICAgICAgdGhpcy5lYXNpbmcgPSB=
lYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDsKICAgICAgICAgICAgdGhpcy5vcHRpb2=
5zID0gb3B0aW9uczsKICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jd=
XIoKTsKICAgICAgICAgICAgdGhpcy5lbmQgPSBlbmQ7CiAgICAgICAgICAgIHRoaXMudW5pdCA9=
IHVuaXQgfHwgKGpRdWVyeS5jc3NOdW1iZXJbcHJvcF0gPyAiIiA6ICJweCIpOwogICAgICAgIH0=
sCiAgICAgICAgY3VyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBob29rcyA9IFR3ZW=
VuLnByb3BIb29rc1t0aGlzLnByb3BdOwogICAgICAgICAgICByZXR1cm4gaG9va3MgJiYgaG9va=
3MuZ2V0ID8gaG9va3MuZ2V0KHRoaXMpIDogVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0=
aGlzKTsKICAgICAgICB9LAogICAgICAgIHJ1bjogZnVuY3Rpb24gKHBlcmNlbnQpIHsKICAgICA=
gICAgICAgdmFyIGVhc2VkLAogICAgICAgICAgICAgICAgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3=
NbdGhpcy5wcm9wXTsKICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kdXJhdGlvbikgewogI=
CAgICAgICAgICAgICAgdGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbdGhpcy5lYXNp=
bmddKHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXM=
ub3B0aW9ucy5kdXJhdGlvbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgIC=
B0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0a=
GlzLm5vdyA9ICh0aGlzLmVuZCAtIHRoaXMuc3RhcnQpICogZWFzZWQgKyB0aGlzLnN0YXJ0Owog=
ICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0ZXApIHsKICAgICAgICAgICAgICAgIHRoaXM=
ub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyk7CiAgICAgICAgIC=
AgIH0KICAgICAgICAgICAgaWYgKGhvb2tzICYmIGhvb2tzLnNldCkgewogICAgICAgICAgICAgI=
CAgaG9va3Muc2V0KHRoaXMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAg=
VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKTsKICAgICAgICAgICAgfQogICAgICA=
gICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgfTsKICAgIFR3ZWVuLnByb3RvdHlwZS=
5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTsKICAgIFR3ZWVuLnByb3BIb29rcyA9I=
HsKICAgICAgICBfZGVmYXVsdDogewogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICh0d2Vlbikg=
ewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgICAgIGlmICh0d2Vlbi5=
lbGVtLm5vZGVUeXBlICE9PSAxIHx8ICh0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdICE9IG51bGwgJi=
YgdHdlZW4uZWxlbS5zdHlsZVt0d2Vlbi5wcm9wXSA9PSBudWxsKSkgewogICAgICAgICAgICAgI=
CAgICAgIHJldHVybiB0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdOwogICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgcmVzdWx0ID0galF1ZXJ5LmNzcyh0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9=
wLCAiIik7CiAgICAgICAgICAgICAgICByZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09ICJhdX=
RvIiA/IDAgOiByZXN1bHQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldDogZnVuY3Rpb=
24gKHR3ZWVuKSB7CiAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmZ4LnN0ZXBbdHdlZW4ucHJv=
cF0pIHsKICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZnguc3RlcFt0d2Vlbi5wcm9wXSh0d2V=
lbik7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09ID=
EgJiYgKGpRdWVyeS5jc3NIb29rc1t0d2Vlbi5wcm9wXSB8fCB0d2Vlbi5lbGVtLnN0eWxlW2Zpb=
mFsUHJvcE5hbWUodHdlZW4ucHJvcCldICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgICAg=
alF1ZXJ5LnN0eWxlKHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnV=
uaXQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0d2Vlbi=
5lbGVtW3R3ZWVuLnByb3BdID0gdHdlZW4ubm93OwogICAgICAgICAgICAgICAgfQogICAgICAgI=
CAgICB9LAogICAgICAgIH0sCiAgICB9OwogICAgVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9=
IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0gewogICAgICAgIHNldDogZnVuY3Rpb24gKHR=
3ZWVuKSB7CiAgICAgICAgICAgIGlmICh0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW=
0ucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgdHdlZW4uZWxlbVt0d2Vlbi5wcm9wXSA9I=
HR3ZWVuLm5vdzsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9OwogICAgalF1ZXJ5LmVh=
c2luZyA9IHsKICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHJldHV=
ybiBwOwogICAgICAgIH0sCiAgICAgICAgc3dpbmc6IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgIC=
AgIHJldHVybiAwLjUgLSBNYXRoLmNvcyhwICogTWF0aC5QSSkgLyAyOwogICAgICAgIH0sCiAgI=
CAgICAgX2RlZmF1bHQ6ICJzd2luZyIsCiAgICB9OwogICAgalF1ZXJ5LmZ4ID0gVHdlZW4ucHJv=
dG90eXBlLmluaXQ7CiAgICBqUXVlcnkuZnguc3RlcCA9IHt9OwogICAgdmFyIGZ4Tm93LAogICA=
gICAgIGluUHJvZ3Jlc3MsCiAgICAgICAgcmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZG=
UpJC8sCiAgICAgICAgcnJ1biA9IC9xdWV1ZUhvb2tzJC87CgogICAgZnVuY3Rpb24gc2NoZWR1b=
GUoKSB7CiAgICAgICAgaWYgKGluUHJvZ3Jlc3MpIHsKICAgICAgICAgICAgaWYgKGRvY3VtZW50=
LmhpZGRlbiA9PT0gZmFsc2UgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgewogICA=
gICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZSk7CiAgIC=
AgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChzY2hlZ=
HVsZSwgalF1ZXJ5LmZ4LmludGVydmFsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBqUXVl=
cnkuZngudGljaygpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVGeE5vdyg=
pIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG=
Z4Tm93ID0gdW5kZWZpbmVkOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiAoZnhOb3cgPSBEY=
XRlLm5vdygpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZW5GeCh0eXBlLCBpbmNsdWRlV2lkdGgp=
IHsKICAgICAgICB2YXIgd2hpY2gsCiAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICBhdHR=
ycyA9IHsKICAgICAgICAgICAgICAgIGhlaWdodDogdHlwZQogICAgICAgICAgICB9OwogICAgIC=
AgIGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwOwogICAgICAgIGZvciAoOyBpI=
DwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoKSB7CiAgICAgICAgICAgIHdoaWNoID0gY3NzRXhw=
YW5kW2ldOwogICAgICAgICAgICBhdHRyc1sibWFyZ2luIiArIHdoaWNoXSA9IGF0dHJzWyJwYWR=
kaW5nIiArIHdoaWNoXSA9IHR5cGU7CiAgICAgICAgfQogICAgICAgIGlmIChpbmNsdWRlV2lkdG=
gpIHsKICAgICAgICAgICAgYXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTsKICAgI=
CAgICB9CiAgICAgICAgcmV0dXJuIGF0dHJzOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZVR3=
ZWVuKHZhbHVlLCBwcm9wLCBhbmltYXRpb24pIHsKICAgICAgICB2YXIgdHdlZW4sCiAgICAgICA=
gICAgIGNvbGxlY3Rpb24gPSAoQW5pbWF0aW9uLnR3ZWVuZXJzW3Byb3BdIHx8IFtdKS5jb25jYX=
QoQW5pbWF0aW9uLnR3ZWVuZXJzWyIqIl0pLAogICAgICAgICAgICBpbmRleCA9IDAsCiAgICAgI=
CAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoOwogICAgICAgIGZvciAoOyBpbmRleCA8=
IGxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICBpZiAoKHR3ZWVuID0gY29sbGVjdGlvblt=
pbmRleF0uY2FsbChhbmltYXRpb24sIHByb3AsIHZhbHVlKSkpIHsKICAgICAgICAgICAgICAgIH=
JldHVybiB0d2VlbjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvb=
iBkZWZhdWx0UHJlZmlsdGVyKGVsZW0sIHByb3BzLCBvcHRzKSB7CiAgICAgICAgdmFyIHByb3As=
CiAgICAgICAgICAgIHZhbHVlLAogICAgICAgICAgICB0b2dnbGUsCiAgICAgICAgICAgIGhvb2t=
zLAogICAgICAgICAgICBvbGRmaXJlLAogICAgICAgICAgICBwcm9wVHdlZW4sCiAgICAgICAgIC=
AgIHJlc3RvcmVEaXNwbGF5LAogICAgICAgICAgICBkaXNwbGF5LAogICAgICAgICAgICBpc0Jve=
CA9ICJ3aWR0aCIgaW4gcHJvcHMgfHwgImhlaWdodCIgaW4gcHJvcHMsCiAgICAgICAgICAgIGFu=
aW0gPSB0aGlzLAogICAgICAgICAgICBvcmlnID0ge30sCiAgICAgICAgICAgIHN0eWxlID0gZWx=
lbS5zdHlsZSwKICAgICAgICAgICAgaGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbl=
dpdGhpblRyZWUoZWxlbSksCiAgICAgICAgICAgIGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KGVsZ=
W0sICJmeHNob3ciKTsKICAgICAgICBpZiAoIW9wdHMucXVldWUpIHsKICAgICAgICAgICAgaG9v=
a3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoZWxlbSwgImZ4Iik7CiAgICAgICAgICAgIGlmIChob29=
rcy51bnF1ZXVlZCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBob29rcy51bnF1ZXVlZCA9ID=
A7CiAgICAgICAgICAgICAgICBvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTsKICAgICAgICAgI=
CAgICAgIGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAg=
ICAgaWYgKCFob29rcy51bnF1ZXVlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBvbGRmaXJ=
lKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgIC=
AgfQogICAgICAgICAgICBob29rcy51bnF1ZXVlZCsrOwogICAgICAgICAgICBhbmltLmFsd2F5c=
yhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbiAoKSB7=
CiAgICAgICAgICAgICAgICAgICAgaG9va3MudW5xdWV1ZWQtLTsKICAgICAgICAgICAgICAgICA=
gICBpZiAoIWpRdWVyeS5xdWV1ZShlbGVtLCAiZngiKS5sZW5ndGgpIHsKICAgICAgICAgICAgIC=
AgICAgICAgICAgaG9va3MuZW1wdHkuZmlyZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZm9yIChw=
cm9wIGluIHByb3BzKSB7CiAgICAgICAgICAgIHZhbHVlID0gcHJvcHNbcHJvcF07CiAgICAgICA=
gICAgIGlmIChyZnh0eXBlcy50ZXN0KHZhbHVlKSkgewogICAgICAgICAgICAgICAgZGVsZXRlIH=
Byb3BzW3Byb3BdOwogICAgICAgICAgICAgICAgdG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09P=
SAidG9nZ2xlIjsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gKGhpZGRlbiA/ICJoaWRl=
IiA6ICJzaG93IikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICJzaG93IiA=
mJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1twcm9wXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgIC=
AgICAgICAgICAgICAgIGhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlI=
HsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAg=
fQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb3JpZ1twcm9wXSA9IChkYXRhU2h=
vdyAmJiBkYXRhU2hvd1twcm9wXSkgfHwgalF1ZXJ5LnN0eWxlKGVsZW0sIHByb3ApOwogICAgIC=
AgICAgICB9CiAgICAgICAgfQogICAgICAgIHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9ia=
mVjdChwcm9wcyk7CiAgICAgICAgaWYgKCFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmpl=
Y3Qob3JpZykpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXN=
Cb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSkgewogICAgICAgICAgICBvcHRzLm92ZXJmbG93ID=
0gW3N0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WV07CiAgI=
CAgICAgICAgIHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTsK=
ICAgICAgICAgICAgaWYgKHJlc3RvcmVEaXNwbGF5ID09IG51bGwpIHsKICAgICAgICAgICAgICA=
gIHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KGVsZW0sICJkaXNwbGF5Iik7CiAgICAgIC=
AgICAgIH0KICAgICAgICAgICAgZGlzcGxheSA9IGpRdWVyeS5jc3MoZWxlbSwgImRpc3BsYXkiK=
TsKICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09ICJub25lIikgewogICAgICAgICAgICAgICAg=
aWYgKHJlc3RvcmVEaXNwbGF5KSB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IHJlc3R=
vcmVEaXNwbGF5OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgIC=
BzaG93SGlkZShbZWxlbV0sIHRydWUpOwogICAgICAgICAgICAgICAgICAgIHJlc3RvcmVEaXNwb=
GF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5OwogICAgICAgICAgICAg=
ICAgICAgIGRpc3BsYXkgPSBqUXVlcnkuY3NzKGVsZW0sICJkaXNwbGF5Iik7CiAgICAgICAgICA=
gICAgICAgICAgc2hvd0hpZGUoW2VsZW1dKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgIC=
AgfQogICAgICAgICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgKGRpc3BsYXkgPT09I=
CJpbmxpbmUtYmxvY2siICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwpKSB7CiAgICAgICAgICAg=
ICAgICBpZiAoalF1ZXJ5LmNzcyhlbGVtLCAiZmxvYXQiKSA9PT0gIm5vbmUiKSB7CiAgICAgICA=
gICAgICAgICAgICAgaWYgKCFwcm9wVHdlZW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYW=
5pbS5kb25lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlL=
mRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAg=
ICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlRGlzcGxheSA9PSBudWxsKSB7CiAgICA=
gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTsKICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgIHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gIm5vbmUiI=
D8gIiIgOiBkaXNwbGF5OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg=
ICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2N=
rIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZi=
Aob3B0cy5vdmVyZmxvdykgewogICAgICAgICAgICBzdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iO=
wogICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBz=
dHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbMF07CiAgICAgICAgICAgICAgICBzdHlsZS5=
vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WzFdOwogICAgICAgICAgICAgICAgc3R5bGUub3Zlcm=
Zsb3dZID0gb3B0cy5vdmVyZmxvd1syXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgI=
CAgIHByb3BUd2VlbiA9IGZhbHNlOwogICAgICAgIGZvciAocHJvcCBpbiBvcmlnKSB7CiAgICAg=
ICAgICAgIGlmICghcHJvcFR3ZWVuKSB7CiAgICAgICAgICAgICAgICBpZiAoZGF0YVNob3cpIHs=
KICAgICAgICAgICAgICAgICAgICBpZiAoImhpZGRlbiIgaW4gZGF0YVNob3cpIHsKICAgICAgIC=
AgICAgICAgICAgICAgICAgaGlkZGVuID0gZGF0YVNob3cuaGlkZGVuOwogICAgICAgICAgICAgI=
CAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGF0=
YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoZWxlbSwgImZ4c2hvdyIsIHsKICAgICAgICAgICAgICA=
gICAgICAgICAgZGlzcGxheTogcmVzdG9yZURpc3BsYXkKICAgICAgICAgICAgICAgICAgICB9KT=
sKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0b2dnbGUpIHsKICAgICAgI=
CAgICAgICAgICAgICBkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuOwogICAgICAgICAgICAgICAg=
fQogICAgICAgICAgICAgICAgaWYgKGhpZGRlbikgewogICAgICAgICAgICAgICAgICAgIHNob3d=
IaWRlKFtlbGVtXSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhbm=
ltLmRvbmUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmICghaGlkZGVuKSB7C=
iAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaWRlKFtlbGVtXSk7CiAgICAgICAgICAgICAg=
ICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShlbGVtLCAiZnhzaG9=
3Iik7CiAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIG9yaWcpIHsKICAgICAgICAgIC=
AgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKGVsZW0sIHByb3AsIG9yaWdbcHJvcF0pOwogICAgI=
CAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAg=
ICAgICAgIHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKGhpZGRlbiA/IGRhdGFTaG93W3Byb3BdIDo=
gMCwgcHJvcCwgYW5pbSk7CiAgICAgICAgICAgIGlmICghKHByb3AgaW4gZGF0YVNob3cpKSB7Ci=
AgICAgICAgICAgICAgICBkYXRhU2hvd1twcm9wXSA9IHByb3BUd2Vlbi5zdGFydDsKICAgICAgI=
CAgICAgICAgIGlmIChoaWRkZW4pIHsKICAgICAgICAgICAgICAgICAgICBwcm9wVHdlZW4uZW5k=
ID0gcHJvcFR3ZWVuLnN0YXJ0OwogICAgICAgICAgICAgICAgICAgIHByb3BUd2Vlbi5zdGFydCA=
9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogIC=
AgZnVuY3Rpb24gcHJvcEZpbHRlcihwcm9wcywgc3BlY2lhbEVhc2luZykgewogICAgICAgIHZhc=
iBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7CiAgICAgICAgZm9yIChpbmRleCBp=
biBwcm9wcykgewogICAgICAgICAgICBuYW1lID0gY2FtZWxDYXNlKGluZGV4KTsKICAgICAgICA=
gICAgZWFzaW5nID0gc3BlY2lhbEVhc2luZ1tuYW1lXTsKICAgICAgICAgICAgdmFsdWUgPSBwcm=
9wc1tpbmRleF07CiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgI=
CAgICAgICAgICAgZWFzaW5nID0gdmFsdWVbMV07CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBy=
b3BzW2luZGV4XSA9IHZhbHVlWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbmR=
leCAhPT0gbmFtZSkgewogICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0gPSB2YWx1ZTsKICAgIC=
AgICAgICAgICAgIGRlbGV0ZSBwcm9wc1tpbmRleF07CiAgICAgICAgICAgIH0KICAgICAgICAgI=
CAgaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbbmFtZV07CiAgICAgICAgICAgIGlmIChob29rcyAm=
JiAiZXhwYW5kIiBpbiBob29rcykgewogICAgICAgICAgICAgICAgdmFsdWUgPSBob29rcy5leHB=
hbmQodmFsdWUpOwogICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW25hbWVdOwogICAgICAgIC=
AgICAgICAgZm9yIChpbmRleCBpbiB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGlmICghK=
GluZGV4IGluIHByb3BzKSkgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1tpbmRleF0g=
PSB2YWx1ZVtpbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmdbaW5=
kZXhdID0gZWFzaW5nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmdbbmFtZV0gP=
SBlYXNpbmc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gQW5p=
bWF0aW9uKGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMpIHsKICAgICAgICB2YXIgcmVzdWx0LAo=
gICAgICAgICAgICBzdG9wcGVkLAogICAgICAgICAgICBpbmRleCA9IDAsCiAgICAgICAgICAgIG=
xlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCwKICAgICAgICAgICAgZGVmZXJyZ=
WQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAg=
ICAgZGVsZXRlIHRpY2suZWxlbTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHRpY2sgPSB=
mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoc3RvcHBlZCkgewogICAgICAgICAgIC=
AgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgI=
HZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksCiAgICAgICAgICAgICAg=
ICAgICAgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1=
hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lKSwKICAgICAgICAgICAgICAgICAgICB0ZW1wID=
0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsCiAgICAgICAgICAgICAgICAgI=
CAgcGVyY2VudCA9IDEgLSB0ZW1wLAogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMCwKICAg=
ICAgICAgICAgICAgICAgICBsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDsKICAgICA=
gICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgIC=
AgICAgICAgIGFuaW1hdGlvbi50d2VlbnNbaW5kZXhdLnJ1bihwZXJjZW50KTsKICAgICAgICAgI=
CAgICAgIH0KICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeVdpdGgoZWxlbSwgW2FuaW1h=
dGlvbiwgcGVyY2VudCwgcmVtYWluaW5nXSk7CiAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA=
8IDEgJiYgbGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbWFpbmluZzsKIC=
AgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghbGVuZ3RoKSB7CiAgICAgICAgI=
CAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5V2l0aChlbGVtLCBbYW5pbWF0aW9uLCAxLCAwXSk7=
CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlV2l0aCh=
lbGVtLCBbYW5pbWF0aW9uXSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIC=
AgICAgIH0sCiAgICAgICAgICAgIGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2UoewogICAgI=
CAgICAgICAgICAgZWxlbTogZWxlbSwKICAgICAgICAgICAgICAgIHByb3BzOiBqUXVlcnkuZXh0=
ZW5kKHt9LCBwcm9wZXJ0aWVzKSwKICAgICAgICAgICAgICAgIG9wdHM6IGpRdWVyeS5leHRlbmQ=
odHJ1ZSwgewogICAgICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmc6IHt9LAogICAgICAgIC=
AgICAgICAgICAgIGVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdAogICAgICAgICAgICAgI=
CAgfSwgb3B0aW9ucyksCiAgICAgICAgICAgICAgICBvcmlnaW5hbFByb3BlcnRpZXM6IHByb3Bl=
cnRpZXMsCiAgICAgICAgICAgICAgICBvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICA=
gICAgICAgICBzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksCiAgICAgICAgICAgIC=
AgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbiwKICAgICAgICAgICAgICAgIHR3ZWVuczogW=
10sCiAgICAgICAgICAgICAgICBjcmVhdGVUd2VlbjogZnVuY3Rpb24gKHByb3AsIGVuZCkgewog=
ICAgICAgICAgICAgICAgICAgIHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbihlbGVtLCBhbmltYXR=
pb24ub3B0cywgcHJvcCwgZW5kLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nW3Byb3BdIH=
x8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyk7CiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uL=
nR3ZWVucy5wdXNoKHR3ZWVuKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47CiAg=
ICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKGdvdG9FbmQ=
pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwLAogICAgICAgICAgICAgICAgIC=
AgICAgICBsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwOwogI=
CAgICAgICAgICAgICAgICAgIGlmIChzdG9wcGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAg=
IHJldHVybiB0aGlzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB=
zdG9wcGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndG=
g7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVuc1tpb=
mRleF0ucnVuKDEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBp=
ZiAoZ290b0VuZCkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnlXaXR=
oKGVsZW0sIFthbmltYXRpb24sIDEsIDBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZX=
JyZWQucmVzb2x2ZVdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgZ290b0VuZF0pOwogICAgICAgICAgI=
CAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVj=
dFdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgZ290b0VuZF0pOwogICAgICAgICAgICAgICAgICAgIH0=
KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgICAgIH0sCiAgIC=
AgICAgICAgIH0pLAogICAgICAgICAgICBwcm9wcyA9IGFuaW1hdGlvbi5wcm9wczsKICAgICAgI=
CBwcm9wRmlsdGVyKHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nKTsKICAgICAg=
ICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgcmVzdWx0ID0=
gQW5pbWF0aW9uLnByZWZpbHRlcnNbaW5kZXhdLmNhbGwoYW5pbWF0aW9uLCBlbGVtLCBwcm9wcy=
wgYW5pbWF0aW9uLm9wdHMpOwogICAgICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgI=
CAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHQuc3RvcCkpIHsKICAgICAgICAgICAgICAgICAgICBq=
UXVlcnkuX3F1ZXVlSG9va3MoYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlKS5=
zdG9wID0gcmVzdWx0LnN0b3AuYmluZChyZXN1bHQpOwogICAgICAgICAgICAgICAgfQogICAgIC=
AgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgI=
CBqUXVlcnkubWFwKHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uKTsKICAgICAgICBpZiAo=
aXNGdW5jdGlvbihhbmltYXRpb24ub3B0cy5zdGFydCkpIHsKICAgICAgICAgICAgYW5pbWF0aW9=
uLm9wdHMuc3RhcnQuY2FsbChlbGVtLCBhbmltYXRpb24pOwogICAgICAgIH0KICAgICAgICBhbm=
ltYXRpb24ucHJvZ3Jlc3MoYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MpLmRvbmUoYW5pbWF0aW9uL=
m9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUpLmZhaWwoYW5pbWF0aW9uLm9wdHMu=
ZmFpbCkuYWx3YXlzKGFuaW1hdGlvbi5vcHRzLmFsd2F5cyk7CiAgICAgICAgalF1ZXJ5LmZ4LnR=
pbWVyKGpRdWVyeS5leHRlbmQodGljaywgewogICAgICAgICAgICBlbGVtOiBlbGVtLAogICAgIC=
AgICAgICBhbmltOiBhbmltYXRpb24sCiAgICAgICAgICAgIHF1ZXVlOiBhbmltYXRpb24ub3B0c=
y5xdWV1ZQogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gYW5pbWF0aW9uOwogICAgfQogICAg=
alF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoQW5pbWF0aW9uLCB7CiAgICAgICAgdHd=
lZW5lcnM6IHsKICAgICAgICAgICAgIioiOiBbCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocH=
JvcCwgdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdHdlZW4gPSB0aGlzLmNyZWF0Z=
VR3ZWVuKHByb3AsIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBhZGp1c3RDU1ModHdlZW4u=
ZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKHZhbHVlKSwgdHdlZW4pOwogICAgICAgICAgICAgICA=
gICAgIHJldHVybiB0d2VlbjsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgIC=
AgICAgfSwKICAgICAgICB0d2VlbmVyOiBmdW5jdGlvbiAocHJvcHMsIGNhbGxiYWNrKSB7CiAgI=
CAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3BzKSkgewogICAgICAgICAgICAgICAgY2FsbGJh=
Y2sgPSBwcm9wczsKICAgICAgICAgICAgICAgIHByb3BzID0gWyIqIl07CiAgICAgICAgICAgIH0=
gZWxzZSB7CiAgICAgICAgICAgICAgICBwcm9wcyA9IHByb3BzLm1hdGNoKHJub3RodG1sd2hpdG=
UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBwcm9wLAogICAgICAgICAgICAgICAga=
W5kZXggPSAwLAogICAgICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoOwogICAgICAg=
ICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgIHB=
yb3AgPSBwcm9wc1tpbmRleF07CiAgICAgICAgICAgICAgICBBbmltYXRpb24udHdlZW5lcnNbcH=
JvcF0gPSBBbmltYXRpb24udHdlZW5lcnNbcHJvcF0gfHwgW107CiAgICAgICAgICAgICAgICBBb=
mltYXRpb24udHdlZW5lcnNbcHJvcF0udW5zaGlmdChjYWxsYmFjayk7CiAgICAgICAgICAgIH0K=
ICAgICAgICB9LAogICAgICAgIHByZWZpbHRlcnM6IFtkZWZhdWx0UHJlZmlsdGVyXSwKICAgICA=
gICBwcmVmaWx0ZXI6IGZ1bmN0aW9uIChjYWxsYmFjaywgcHJlcGVuZCkgewogICAgICAgICAgIC=
BpZiAocHJlcGVuZCkgewogICAgICAgICAgICAgICAgQW5pbWF0aW9uLnByZWZpbHRlcnMudW5za=
GlmdChjYWxsYmFjayk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBBbmlt=
YXRpb24ucHJlZmlsdGVycy5wdXNoKGNhbGxiYWNrKTsKICAgICAgICAgICAgfQogICAgICAgIH0=
sCiAgICB9KTsKICAgIGpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uIChzcGVlZCwgZWFzaW5nLCBmbi=
kgewogICAgICAgIHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09ICJvYmplY3QiI=
D8galF1ZXJ5LmV4dGVuZCh7fSwgc3BlZWQpIDogewogICAgICAgICAgICBjb21wbGV0ZTogZm4g=
fHwgKCFmbiAmJiBlYXNpbmcpIHx8IChpc0Z1bmN0aW9uKHNwZWVkKSAmJiBzcGVlZCksCiAgICA=
gICAgICAgIGR1cmF0aW9uOiBzcGVlZCwKICAgICAgICAgICAgZWFzaW5nOiAoZm4gJiYgZWFzaW=
5nKSB8fCAoZWFzaW5nICYmICFpc0Z1bmN0aW9uKGVhc2luZykgJiYgZWFzaW5nKQogICAgICAgI=
H07CiAgICAgICAgaWYgKGpRdWVyeS5meC5vZmYpIHsKICAgICAgICAgICAgb3B0LmR1cmF0aW9u=
ID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodHlwZW9mIG9wdC5kdXJhdGl=
vbiAhPT0gIm51bWJlciIpIHsKICAgICAgICAgICAgICAgIGlmIChvcHQuZHVyYXRpb24gaW4gal=
F1ZXJ5LmZ4LnNwZWVkcykgewogICAgICAgICAgICAgICAgICAgIG9wdC5kdXJhdGlvbiA9IGpRd=
WVyeS5meC5zcGVlZHNbb3B0LmR1cmF0aW9uXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAg=
ICAgICAgICAgICAgICAgICAgb3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXV=
sdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZi=
Aob3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlKSB7CiAgICAgICAgICAgI=
G9wdC5xdWV1ZSA9ICJmeCI7CiAgICAgICAgfQogICAgICAgIG9wdC5vbGQgPSBvcHQuY29tcGxl=
dGU7CiAgICAgICAgb3B0LmNvbXBsZXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiA=
oaXNGdW5jdGlvbihvcHQub2xkKSkgewogICAgICAgICAgICAgICAgb3B0Lm9sZC5jYWxsKHRoaX=
MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChvcHQucXVldWUpIHsKICAgICAgICAgI=
CAgICAgIGpRdWVyeS5kZXF1ZXVlKHRoaXMsIG9wdC5xdWV1ZSk7CiAgICAgICAgICAgIH0KICAg=
ICAgICB9OwogICAgICAgIHJldHVybiBvcHQ7CiAgICB9OwogICAgalF1ZXJ5LmZuLmV4dGVuZCh=
7CiAgICAgICAgZmFkZVRvOiBmdW5jdGlvbiAoc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrKS=
B7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpc0hpZGRlbldpdGhpblRyZWUpLmNzc=
ygib3BhY2l0eSIsIDApLnNob3coKS5lbmQoKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgIG9w=
YWNpdHk6IHRvCiAgICAgICAgICAgIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKTsKICAgICA=
gICB9LAogICAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uIChwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYW=
xsYmFjaykgewogICAgICAgICAgICB2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdChwc=
m9wKSwKICAgICAgICAgICAgICAgIG9wdGFsbCA9IGpRdWVyeS5zcGVlZChzcGVlZCwgZWFzaW5n=
LCBjYWxsYmFjayksCiAgICAgICAgICAgICAgICBkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHs=
KICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbSA9IEFuaW1hdGlvbih0aGlzLCBqUXVlcnkuZX=
h0ZW5kKHt9LCBwcm9wKSwgb3B0YWxsKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkgf=
HwgZGF0YVByaXYuZ2V0KHRoaXMsICJmaW5pc2giKSkgewogICAgICAgICAgICAgICAgICAgICAg=
ICBhbmltLnN0b3AodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICA=
gfTsKICAgICAgICAgICAgZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247CiAgICAgIC=
AgICAgIHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID8gdGhpcy5lYWNoK=
GRvQW5pbWF0aW9uKSA6IHRoaXMucXVldWUob3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbik7CiAg=
ICAgICAgfSwKICAgICAgICBzdG9wOiBmdW5jdGlvbiAodHlwZSwgY2xlYXJRdWV1ZSwgZ290b0V=
uZCkgewogICAgICAgICAgICB2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24gKGhvb2tzKSB7CiAgIC=
AgICAgICAgICAgICB2YXIgc3RvcCA9IGhvb2tzLnN0b3A7CiAgICAgICAgICAgICAgICBkZWxld=
GUgaG9va3Muc3RvcDsKICAgICAgICAgICAgICAgIHN0b3AoZ290b0VuZCk7CiAgICAgICAgICAg=
IH07CiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gInN0cmluZyIpIHsKICAgICAgICA=
gICAgICAgIGdvdG9FbmQgPSBjbGVhclF1ZXVlOwogICAgICAgICAgICAgICAgY2xlYXJRdWV1ZS=
A9IHR5cGU7CiAgICAgICAgICAgICAgICB0eXBlID0gdW5kZWZpbmVkOwogICAgICAgICAgICB9C=
iAgICAgICAgICAgIGlmIChjbGVhclF1ZXVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVl=
KHR5cGUgfHwgImZ4IiwgW10pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGl=
zLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGRlcXVldWUgPSB0cnVlLA=
ogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyAicXVld=
WVIb29rcyIsCiAgICAgICAgICAgICAgICAgICAgdGltZXJzID0galF1ZXJ5LnRpbWVycywKICAg=
ICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YVByaXYuZ2V0KHRoaXMpOwogICAgICAgICAgICA=
gICAgaWYgKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaW5kZXhdICYmIG=
RhdGFbaW5kZXhdLnN0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFF1ZXVlKGRhd=
GFbaW5kZXhdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2Ug=
ewogICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggaW4gZGF0YSkgewogICAgICAgICAgICA=
gICAgICAgICAgICBpZiAoZGF0YVtpbmRleF0gJiYgZGF0YVtpbmRleF0uc3RvcCAmJiBycnVuLn=
Rlc3QoaW5kZXgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wUXVldWUoZGF0Y=
VtpbmRleF0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg=
fQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IHRpbWVycy5=
sZW5ndGg7IGluZGV4LS07KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVyc1tpbmRleF=
0uZWxlbSA9PT0gdGhpcyAmJiAodHlwZSA9PSBudWxsIHx8IHRpbWVyc1tpbmRleF0ucXVldWUgP=
T09IHR5cGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyc1tpbmRleF0uYW5pbS5z=
dG9wKGdvdG9FbmQpOwogICAgICAgICAgICAgICAgICAgICAgICBkZXF1ZXVlID0gZmFsc2U7CiA=
gICAgICAgICAgICAgICAgICAgICAgIHRpbWVycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIC=
AgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChkZXF1Z=
XVlIHx8ICFnb3RvRW5kKSB7CiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUodGhp=
cywgdHlwZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiA=
gICAgICAgZmluaXNoOiBmdW5jdGlvbiAodHlwZSkgewogICAgICAgICAgICBpZiAodHlwZSAhPT=
0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8ICJmeCI7CiAgICAgICAgI=
CAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAg=
ICAgICAgICB2YXIgaW5kZXgsCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFQcml2Lmd=
ldCh0aGlzKSwKICAgICAgICAgICAgICAgICAgICBxdWV1ZSA9IGRhdGFbdHlwZSArICJxdWV1ZS=
JdLAogICAgICAgICAgICAgICAgICAgIGhvb2tzID0gZGF0YVt0eXBlICsgInF1ZXVlSG9va3MiX=
SwKICAgICAgICAgICAgICAgICAgICB0aW1lcnMgPSBqUXVlcnkudGltZXJzLAogICAgICAgICAg=
ICAgICAgICAgIGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDsKICAgICAgICAgICA=
gICAgIGRhdGEuZmluaXNoID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGpRdWVyeS5xdWV1ZSh0aG=
lzLCB0eXBlLCBbXSk7CiAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgaG9va3Muc3RvcCkge=
wogICAgICAgICAgICAgICAgICAgIGhvb2tzLnN0b3AuY2FsbCh0aGlzLCB0cnVlKTsKICAgICAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSB0aW1lcnMubGVuZ3RoOyB=
pbmRleC0tOykgewogICAgICAgICAgICAgICAgICAgIGlmICh0aW1lcnNbaW5kZXhdLmVsZW0gPT=
09IHRoaXMgJiYgdGltZXJzW2luZGV4XS5xdWV1ZSA9PT0gdHlwZSkgewogICAgICAgICAgICAgI=
CAgICAgICAgICB0aW1lcnNbaW5kZXhdLmFuaW0uc3RvcCh0cnVlKTsKICAgICAgICAgICAgICAg=
ICAgICAgICAgdGltZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgICAgICAgfQo=
gICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4ID=
wgbGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVlW2luZGV4X=
SAmJiBxdWV1ZVtpbmRleF0uZmluaXNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVl=
W2luZGV4XS5maW5pc2guY2FsbCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICA=
gICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS5maW5pc2g7CiAgICAgICAgIC=
AgIH0pOwogICAgICAgIH0sCiAgICB9KTsKICAgIGpRdWVyeS5lYWNoKFsidG9nZ2xlIiwgInNob=
3ciLCAiaGlkZSJdLCBmdW5jdGlvbiAoX2ksIG5hbWUpIHsKICAgICAgICB2YXIgY3NzRm4gPSBq=
UXVlcnkuZm5bbmFtZV07CiAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gKHNwZWV=
kLCBlYXNpbmcsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHJldHVybiBzcGVlZCA9PSBudWxsIH=
x8IHR5cGVvZiBzcGVlZCA9PT0gImJvb2xlYW4iID8gY3NzRm4uYXBwbHkodGhpcywgYXJndW1lb=
nRzKSA6IHRoaXMuYW5pbWF0ZShnZW5GeChuYW1lLCB0cnVlKSwgc3BlZWQsIGVhc2luZywgY2Fs=
bGJhY2spOwogICAgICAgIH07CiAgICB9KTsKICAgIGpRdWVyeS5lYWNoKHsKICAgICAgICBzbGl=
kZURvd246IGdlbkZ4KCJzaG93IiksCiAgICAgICAgc2xpZGVVcDogZ2VuRngoImhpZGUiKSwKIC=
AgICAgICBzbGlkZVRvZ2dsZTogZ2VuRngoInRvZ2dsZSIpLAogICAgICAgIGZhZGVJbjogewogI=
CAgICAgICAgICBvcGFjaXR5OiAic2hvdyIKICAgICAgICB9LAogICAgICAgIGZhZGVPdXQ6IHsK=
ICAgICAgICAgICAgb3BhY2l0eTogImhpZGUiCiAgICAgICAgfSwKICAgICAgICBmYWRlVG9nZ2x=
lOiB7CiAgICAgICAgICAgIG9wYWNpdHk6ICJ0b2dnbGUiCiAgICAgICAgfQogICAgfSwgZnVuY3=
Rpb24gKG5hbWUsIHByb3BzKSB7CiAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gK=
HNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmFuaW1h=
dGUocHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKTsKICAgICAgICB9OwogICAgfSk7CiA=
gICBqUXVlcnkudGltZXJzID0gW107CiAgICBqUXVlcnkuZngudGljayA9IGZ1bmN0aW9uICgpIH=
sKICAgICAgICB2YXIgdGltZXIsCiAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICB0aW1lc=
nMgPSBqUXVlcnkudGltZXJzOwogICAgICAgIGZ4Tm93ID0gRGF0ZS5ub3coKTsKICAgICAgICBm=
b3IgKDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aW1lciA9IHRpbWV=
yc1tpXTsKICAgICAgICAgICAgaWYgKCF0aW1lcigpICYmIHRpbWVyc1tpXSA9PT0gdGltZXIpIH=
sKICAgICAgICAgICAgICAgIHRpbWVycy5zcGxpY2UoaS0tLCAxKTsKICAgICAgICAgICAgfQogI=
CAgICAgIH0KICAgICAgICBpZiAoIXRpbWVycy5sZW5ndGgpIHsKICAgICAgICAgICAgalF1ZXJ5=
LmZ4LnN0b3AoKTsKICAgICAgICB9CiAgICAgICAgZnhOb3cgPSB1bmRlZmluZWQ7CiAgICB9Owo=
gICAgalF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24gKHRpbWVyKSB7CiAgICAgICAgalF1ZXJ5Ln=
RpbWVycy5wdXNoKHRpbWVyKTsKICAgICAgICBqUXVlcnkuZnguc3RhcnQoKTsKICAgIH07CiAgI=
CBqUXVlcnkuZnguaW50ZXJ2YWwgPSAxMzsKICAgIGpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9u=
ICgpIHsKICAgICAgICBpZiAoaW5Qcm9ncmVzcykgewogICAgICAgICAgICByZXR1cm47CiAgICA=
gICAgfQogICAgICAgIGluUHJvZ3Jlc3MgPSB0cnVlOwogICAgICAgIHNjaGVkdWxlKCk7CiAgIC=
B9OwogICAgalF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaW5Qcm9ncmVzc=
yA9IG51bGw7CiAgICB9OwogICAgalF1ZXJ5LmZ4LnNwZWVkcyA9IHsKICAgICAgICBzbG93OiA2=
MDAsCiAgICAgICAgZmFzdDogMjAwLAogICAgICAgIF9kZWZhdWx0OiA0MDAsCiAgICB9OwogICA=
galF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWUsIHR5cGUpIHsKICAgICAgICB0aW1lID=
0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1t0aW1lXSB8fCB0aW1lIDogdGltZTsKICAgI=
CAgICB0eXBlID0gdHlwZSB8fCAiZngiOwogICAgICAgIHJldHVybiB0aGlzLnF1ZXVlKHR5cGUs=
IGZ1bmN0aW9uIChuZXh0LCBob29rcykgewogICAgICAgICAgICB2YXIgdGltZW91dCA9IHdpbmR=
vdy5zZXRUaW1lb3V0KG5leHQsIHRpbWUpOwogICAgICAgICAgICBob29rcy5zdG9wID0gZnVuY3=
Rpb24gKCkgewogICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTsKI=
CAgICAgICAgICAgfTsKICAgICAgICB9KTsKICAgIH07CiAgICAoZnVuY3Rpb24gKCkgewogICAg=
ICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksCiAgICAgICA=
gICAgIHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLAogICAgICAgIC=
AgICBvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0a=
W9uIikpOwogICAgICAgIGlucHV0LnR5cGUgPSAiY2hlY2tib3giOwogICAgICAgIHN1cHBvcnQu=
Y2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSAiIjsKICAgICAgICBzdXBwb3J0Lm9wdFNlbGVjdGV=
kID0gb3B0LnNlbGVjdGVkOwogICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudC=
giaW5wdXQiKTsKICAgICAgICBpbnB1dC52YWx1ZSA9ICJ0IjsKICAgICAgICBpbnB1dC50eXBlI=
D0gInJhZGlvIjsKICAgICAgICBzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0g=
InQiOwogICAgfSkoKTsKICAgIHZhciBib29sSG9vaywKICAgICAgICBhdHRySGFuZGxlID0galF=
1ZXJ5LmV4cHIuYXR0ckhhbmRsZTsKICAgIGpRdWVyeS5mbi5leHRlbmQoewogICAgICAgIGF0dH=
I6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoa=
XMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEpOwogICAg=
ICAgIH0sCiAgICAgICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICA=
gcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBqUXVlcnkucm=
Vtb3ZlQXR0cih0aGlzLCBuYW1lKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgIH0pO=
wogICAgalF1ZXJ5LmV4dGVuZCh7CiAgICAgICAgYXR0cjogZnVuY3Rpb24gKGVsZW0sIG5hbWUs=
IHZhbHVlKSB7CiAgICAgICAgICAgIHZhciByZXQsCiAgICAgICAgICAgICAgICBob29rcywKICA=
gICAgICAgICAgICAgIG5UeXBlID0gZWxlbS5ub2RlVHlwZTsKICAgICAgICAgICAgaWYgKG5UeX=
BlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyKSB7CiAgICAgICAgICAgICAgI=
CByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtLmdldEF0=
dHJpYnV0ZSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnk=
ucHJvcChlbGVtLCBuYW1lLCB2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG=
5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoZWxlbSkpIHsKICAgICAgICAgICAgICAgI=
Ghvb2tzID0galF1ZXJ5LmF0dHJIb29rc1tuYW1lLnRvTG93ZXJDYXNlKCldIHx8IChqUXVlcnku=
ZXhwci5tYXRjaC5ib29sLnRlc3QobmFtZSkgPyBib29sSG9vayA6IHVuZGVmaW5lZCk7CiAgICA=
gICAgICAgIH0KICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgIC=
AgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGpRdWVye=
S5yZW1vdmVBdHRyKGVsZW0sIG5hbWUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAg=
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiAic2V0IiBpbiBob29=
rcyAmJiAocmV0ID0gaG9va3Muc2V0KGVsZW0sIHZhbHVlLCBuYW1lKSkgIT09IHVuZGVmaW5lZC=
kgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgICAgICAgICB9CiAgI=
CAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSArICIiKTsKICAgICAg=
ICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaG9=
va3MgJiYgImdldCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldChlbGVtLCBuYW1lKSkgIT=
09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgcmV0ID0galF1ZXJ5LmZpbmQuYXR0cihlbGVtLCBuYW1lKTsKICAgICAgICAgICAg=
cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0OwogICAgICAgIH0sCiAgICAgICA=
gYXR0ckhvb2tzOiB7CiAgICAgICAgICAgIHR5cGU6IHsKICAgICAgICAgICAgICAgIHNldDogZn=
VuY3Rpb24gKGVsZW0sIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0L=
nJhZGlvVmFsdWUgJiYgdmFsdWUgPT09ICJyYWRpbyIgJiYgbm9kZU5hbWUoZWxlbSwgImlucHV0=
IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGVsZW0udmFsdWU7CiAgICA=
gICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCJ0eXBlIiwgdmFsdWUpOwogIC=
AgICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICBlbGVtLnZhbHVlID0gdmFsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg=
ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICA=
gICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlQX=
R0cjogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBuYW1lLAogICAgI=
CAgICAgICAgICAgaSA9IDAsCiAgICAgICAgICAgICAgICBhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2=
YWx1ZS5tYXRjaChybm90aHRtbHdoaXRlKTsKICAgICAgICAgICAgaWYgKGF0dHJOYW1lcyAmJiB=
lbGVtLm5vZGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoKG5hbWUgPSBhdH=
RyTmFtZXNbaSsrXSkpIHsKICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0Z=
ShuYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9=
KTsKICAgIGJvb2xIb29rID0gewogICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlLCB=
uYW1lKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgIC=
AgIGpRdWVyeS5yZW1vdmVBdHRyKGVsZW0sIG5hbWUpOwogICAgICAgICAgICB9IGVsc2UgewogI=
CAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUobmFtZSwgbmFtZSk7CiAgICAgICAgICAg=
IH0KICAgICAgICAgICAgcmV0dXJuIG5hbWU7CiAgICAgICAgfSwKICAgIH07CiAgICBqUXVlcnk=
uZWFjaChqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLCBmdW5jdG=
lvbiAoX2ksIG5hbWUpIHsKICAgICAgICB2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVtuYW1lXSB8f=
CBqUXVlcnkuZmluZC5hdHRyOwogICAgICAgIGF0dHJIYW5kbGVbbmFtZV0gPSBmdW5jdGlvbiAo=
ZWxlbSwgbmFtZSwgaXNYTUwpIHsKICAgICAgICAgICAgdmFyIHJldCwKICAgICAgICAgICAgICA=
gIGhhbmRsZSwKICAgICAgICAgICAgICAgIGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYX=
NlKCk7CiAgICAgICAgICAgIGlmICghaXNYTUwpIHsKICAgICAgICAgICAgICAgIGhhbmRsZSA9I=
GF0dHJIYW5kbGVbbG93ZXJjYXNlTmFtZV07CiAgICAgICAgICAgICAgICBhdHRySGFuZGxlW2xv=
d2VyY2FzZU5hbWVdID0gcmV0OwogICAgICAgICAgICAgICAgcmV0ID0gZ2V0dGVyKGVsZW0sIG5=
hbWUsIGlzWE1MKSAhPSBudWxsID8gbG93ZXJjYXNlTmFtZSA6IG51bGw7CiAgICAgICAgICAgIC=
AgICBhdHRySGFuZGxlW2xvd2VyY2FzZU5hbWVdID0gaGFuZGxlOwogICAgICAgICAgICB9CiAgI=
CAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfTsKICAgIH0pOwogICAgdmFyIHJmb2N1c2Fi=
bGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLAogICAgICAgIHJjbGl=
ja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7CiAgICBqUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgIC=
Bwcm9wOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGFjY2Vzc=
yh0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxKTsK=
ICAgICAgICB9LAogICAgICAgIHJlbW92ZVByb3A6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICA=
gICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZGVsZX=
RlIHRoaXNbalF1ZXJ5LnByb3BGaXhbbmFtZV0gfHwgbmFtZV07CiAgICAgICAgICAgIH0pOwogI=
CAgICAgIH0sCiAgICB9KTsKICAgIGpRdWVyeS5leHRlbmQoewogICAgICAgIHByb3A6IGZ1bmN0=
aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICB2YXIgcmV0LAogICAgICAgICA=
gICAgICAgaG9va3MsCiAgICAgICAgICAgICAgICBuVHlwZSA9IGVsZW0ubm9kZVR5cGU7CiAgIC=
AgICAgICAgIGlmIChuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMikge=
wogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChu=
VHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKGVsZW0pKSB7CiAgICAgICAgICAgICAgICB=
uYW1lID0galF1ZXJ5LnByb3BGaXhbbmFtZV0gfHwgbmFtZTsKICAgICAgICAgICAgICAgIGhvb2=
tzID0galF1ZXJ5LnByb3BIb29rc1tuYW1lXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZ=
iAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmICJz=
ZXQiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5zZXQoZWxlbSwgdmFsdWUsIG5hbWUpKSAhPT0=
gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICAgIC=
AgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiAoZWxlbVtuYW1lXSA9IHZhbHVlKTsKICAgI=
CAgICAgICAgfQogICAgICAgICAgICBpZiAoaG9va3MgJiYgImdldCIgaW4gaG9va3MgJiYgKHJl=
dCA9IGhvb2tzLmdldChlbGVtLCBuYW1lKSkgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJ=
ldHVybiByZXQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGVsZW1bbmFtZV07Ci=
AgICAgICAgfSwKICAgICAgICBwcm9wSG9va3M6IHsKICAgICAgICAgICAgdGFiSW5kZXg6IHsKI=
CAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAg=
ICB2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKGVsZW0sICJ0YWJpbmRleCIpOwogICA=
gICAgICAgICAgICAgICAgIGlmICh0YWJpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgIC=
ByZXR1cm4gcGFyc2VJbnQodGFiaW5kZXgsIDEwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgI=
CAgICAgICAgICAgICAgICAgaWYgKHJmb2N1c2FibGUudGVzdChlbGVtLm5vZGVOYW1lKSB8fCAo=
cmNsaWNrYWJsZS50ZXN0KGVsZW0ubm9kZU5hbWUpICYmIGVsZW0uaHJlZikpIHsKICAgICAgICA=
gICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC=
AgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sC=
iAgICAgICAgfSwKICAgICAgICBwcm9wRml4OiB7CiAgICAgICAgICAgIGZvcjogImh0bWxGb3Ii=
LAogICAgICAgICAgICBjbGFzczogImNsYXNzTmFtZSIKICAgICAgICB9LAogICAgfSk7CiAgICB=
pZiAoIXN1cHBvcnQub3B0U2VsZWN0ZWQpIHsKICAgICAgICBqUXVlcnkucHJvcEhvb2tzLnNlbG=
VjdGVkID0gewogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgI=
CAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgaWYgKHBh=
cmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgIHBhcmVudC5=
wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC=
AgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0OiBmdW5jdGlvb=
iAoZWxlbSkgewogICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTsK=
ICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnQ=
uc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LnBhcmVudE5vZG=
UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJb=
mRleDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg=
IH0sCiAgICAgICAgfTsKICAgIH0KICAgIGpRdWVyeS5lYWNoKFsidGFiSW5kZXgiLCAicmVhZE9=
ubHkiLCAibWF4TGVuZ3RoIiwgImNlbGxTcGFjaW5nIiwgImNlbGxQYWRkaW5nIiwgInJvd1NwYW=
4iLCAiY29sU3BhbiIsICJ1c2VNYXAiLCAiZnJhbWVCb3JkZXIiLCAiY29udGVudEVkaXRhYmxlI=
l0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBqUXVlcnkucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNl=
KCldID0gdGhpczsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UodmFsdWU=
pIHsKICAgICAgICB2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW1=
07CiAgICAgICAgcmV0dXJuIHRva2Vucy5qb2luKCIgIik7CiAgICB9CgogICAgZnVuY3Rpb24gZ=
2V0Q2xhc3MoZWxlbSkgewogICAgICAgIHJldHVybiAoZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxl=
bS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpIHx8ICIiOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsYXN=
zZXNUb0FycmF5KHZhbHVlKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7Ci=
AgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGVvZiB2Y=
Wx1ZSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hdGNoKHJub3Ro=
dG1sd2hpdGUpIHx8IFtdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gW107CiAgICB9CiAgICB=
qUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKHZhbHVlKSB7Ci=
AgICAgICAgICAgIHZhciBjbGFzc05hbWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksI=
GZpbmFsVmFsdWU7CiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkgewogICAgICAg=
ICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaikgewogICAgICAgICAgICAgICA=
gICAgIGpRdWVyeSh0aGlzKS5hZGRDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsIGosIGdldENsYXNzKH=
RoaXMpKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb=
GFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkodmFsdWUpOwogICAgICAgICAgICBpZiAoY2xhc3NO=
YW1lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24=
gKCkgewogICAgICAgICAgICAgICAgICAgIGN1clZhbHVlID0gZ2V0Q2xhc3ModGhpcyk7CiAgIC=
AgICAgICAgICAgICAgICAgY3VyID0gdGhpcy5ub2RlVHlwZSA9PT0gMSAmJiAiICIgKyBzdHJpc=
EFuZENvbGxhcHNlKGN1clZhbHVlKSArICIgIjsKICAgICAgICAgICAgICAgICAgICBpZiAoY3Vy=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGFzc05hbWVzLmx=
lbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbG=
Fzc05hbWVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5pbmRleE9mK=
CIgIiArIGNsYXNzTmFtZSArICIgIikgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgY3VyICs9IGNsYXNzTmFtZSArICIgIjsKICAgICAgICAgICAgICAgICAgICAgICAgICA=
gIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBmaW=
5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZShjdXIpOwogICAgICAgICAgICAgICAgICAgICAgI=
CBpZiAoY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgIHRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGZpbmFsVmFsdWUpOwogICAgICAgICAgICA=
gICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7Ci=
AgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSwKICAgICAgI=
CByZW1vdmVDbGFzczogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBjbGFzc05h=
bWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksIGZpbmFsVmFsdWU7CiAgICAgICAgICA=
gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW=
FjaChmdW5jdGlvbiAoaikgewogICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZW1vd=
mVDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsIGosIGdldENsYXNzKHRoaXMpKSk7CiAgICAgICAgICAg=
ICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGg=
pIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwgIiIpOwogICAgIC=
AgICAgICB9CiAgICAgICAgICAgIGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSh2YWx1ZSk7C=
iAgICAgICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmV0=
dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyVmFsdWU=
gPSBnZXRDbGFzcyh0aGlzKTsKICAgICAgICAgICAgICAgICAgICBjdXIgPSB0aGlzLm5vZGVUeX=
BlID09PSAxICYmICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoY3VyVmFsdWUpICsgIiAiOwogICAgI=
CAgICAgICAgICAgICAgIGlmIChjdXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChp=
ID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICA=
gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaV07CiAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICB3aGlsZSAoY3VyLmluZGV4T2YoIiAiICsgY2xhc3NOYW1lICsgIiAiKSA+IC0xKSB7C=
iAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gY3VyLnJlcGxhY2UoIiAiICsg=
Y2xhc3NOYW1lICsgIiAiLCAiICIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICA=
gICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVmFsdW=
UgPSBzdHJpcEFuZENvbGxhcHNlKGN1cik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjd=
XJWYWx1ZSAhPT0gZmluYWxWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhp=
cy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgZmluYWxWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICA=
gICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgIC=
AgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgICAgIHRvZ2dsZ=
UNsYXNzOiBmdW5jdGlvbiAodmFsdWUsIHN0YXRlVmFsKSB7CiAgICAgICAgICAgIHZhciBjbGFz=
c05hbWVzLAogICAgICAgICAgICAgICAgY2xhc3NOYW1lLAogICAgICAgICAgICAgICAgaSwKICA=
gICAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgICAgICB0eXBlID0gdHlwZW9mIHZhbHVlLA=
ogICAgICAgICAgICAgICAgaXNWYWxpZFZhbHVlID0gdHlwZSA9PT0gInN0cmluZyIgfHwgQXJyY=
XkuaXNBcnJheSh2YWx1ZSk7CiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkgewog=
ICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICA=
gICAgICAgICAgIGpRdWVyeSh0aGlzKS50b2dnbGVDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsIGksIG=
dldENsYXNzKHRoaXMpLCBzdGF0ZVZhbCksIHN0YXRlVmFsKTsKICAgICAgICAgICAgICAgIH0pO=
wogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVWYWwgPT09ICJib29s=
ZWFuIiAmJiBpc1ZhbGlkVmFsdWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVZhbCA=
/IHRoaXMuYWRkQ2xhc3ModmFsdWUpIDogdGhpcy5yZW1vdmVDbGFzcyh2YWx1ZSk7CiAgICAgIC=
AgICAgIH0KICAgICAgICAgICAgY2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KHZhbHVlKTsKI=
CAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg=
ICBpZiAoaXNWYWxpZFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZiA9IGpRdWVyeSh=
0aGlzKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW=
5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hb=
WVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5oYXNDbGFzcyhjbGFzc05h=
bWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUNsYXNzKGNsYXN=
zTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICBzZWxmLmFkZENsYXNzKGNsYXNzTmFtZSk7CiAgICAgICAgICAgICAgICAgI=
CAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYg=
KHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gImJvb2xlYW4iKSB7CiAgICAgICAgICA=
gICAgICAgICAgY2xhc3NOYW1lID0gZ2V0Q2xhc3ModGhpcyk7CiAgICAgICAgICAgICAgICAgIC=
AgaWYgKGNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQod=
GhpcywgIl9fY2xhc3NOYW1lX18iLCBjbGFzc05hbWUpOwogICAgICAgICAgICAgICAgICAgIH0K=
ICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRBdHRyaWJ1dGUpIHsKICAgICAgICAgICA=
gICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xhc3NOYW1lIHx8IHZhbH=
VlID09PSBmYWxzZSA/ICIiIDogZGF0YVByaXYuZ2V0KHRoaXMsICJfX2NsYXNzTmFtZV9fIikgf=
HwgIiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAg=
ICAgfSk7CiAgICAgICAgfSwKICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKHNlbGVjdG9yKSB=
7CiAgICAgICAgICAgIHZhciBjbGFzc05hbWUsCiAgICAgICAgICAgICAgICBlbGVtLAogICAgIC=
AgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICIgIiArIHNlbGVjdG9yI=
CsgIiAiOwogICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSB0aGlzW2krK10pKSB7CiAgICAgICAg=
ICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIiAiICsgc3RyaXBBbmRDb2xsYXB=
zZShnZXRDbGFzcyhlbGVtKSkgKyAiICIpLmluZGV4T2YoY2xhc3NOYW1lKSA+IC0xKSB7CiAgIC=
AgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgI=
CAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0sCiAgICB9KTsKICAgIHZh=
ciBycmV0dXJuID0gL1xyL2c7CiAgICBqUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgICB2YWw6IGZ=
1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICB2YXIgaG9va3MsCiAgICAgICAgICAgICAgIC=
ByZXQsCiAgICAgICAgICAgICAgICB2YWx1ZUlzRnVuY3Rpb24sCiAgICAgICAgICAgICAgICBlb=
GVtID0gdGhpc1swXTsKICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAg=
ICAgICAgICAgICBpZiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ=
5LnZhbEhvb2tzW2VsZW0udHlwZV0gfHwgalF1ZXJ5LnZhbEhvb2tzW2VsZW0ubm9kZU5hbWUudG=
9Mb3dlckNhc2UoKV07CiAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmICJnZXQiIGluI=
Ghvb2tzICYmIChyZXQgPSBob29rcy5nZXQoZWxlbSwgInZhbHVlIikpICE9PSB1bmRlZmluZWQp=
IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICAgICAgICAgICA=
gICB9CiAgICAgICAgICAgICAgICAgICAgcmV0ID0gZWxlbS52YWx1ZTsKICAgICAgICAgICAgIC=
AgICAgICBpZiAodHlwZW9mIHJldCA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgICAgI=
CAgICAgcmV0dXJuIHJldC5yZXBsYWNlKHJyZXR1cm4sICIiKTsKICAgICAgICAgICAgICAgICAg=
ICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldCA9PSBudWxsID8gIiIgOiByZXQ7CiA=
gICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbih2YWx1ZSk7CiAgICAgICAgI=
CAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgIHZhciB2=
YWw7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSAhPT0gMSkgewogICAgICAgICA=
gICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIC=
h2YWx1ZUlzRnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWx1ZS5jYWxsK=
HRoaXMsIGksIGpRdWVyeSh0aGlzKS52YWwoKSk7CiAgICAgICAgICAgICAgICB9IGVsc2Ugewog=
ICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICA=
gICAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsID0gIi=
I7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICJudW1iZXIiKSB7C=
iAgICAgICAgICAgICAgICAgICAgdmFsICs9ICIiOwogICAgICAgICAgICAgICAgfSBlbHNlIGlm=
IChBcnJheS5pc0FycmF5KHZhbCkpIHsKICAgICAgICAgICAgICAgICAgICB2YWwgPSBqUXVlcnk=
ubWFwKHZhbCwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldH=
VybiB2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiOwogICAgICAgICAgICAgICAgICAgI=
H0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkudmFs=
SG9va3NbdGhpcy50eXBlXSB8fCBqUXVlcnkudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2V=
yQ2FzZSgpXTsKICAgICAgICAgICAgICAgIGlmICghaG9va3MgfHwgISgic2V0IiBpbiBob29rcy=
kgfHwgaG9va3Muc2V0KHRoaXMsIHZhbCwgInZhbHVlIikgPT09IHVuZGVmaW5lZCkgewogICAgI=
CAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWw7CiAgICAgICAgICAgICAgICB9CiAgICAg=
ICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9KTsKICAgIGpRdWVyeS5leHRlbmQoewogICAgICA=
gIHZhbEhvb2tzOiB7CiAgICAgICAgICAgIG9wdGlvbjogewogICAgICAgICAgICAgICAgZ2V0Oi=
BmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBqUXVlcnkuZ=
mluZC5hdHRyKGVsZW0sICJ2YWx1ZSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwg=
IT0gbnVsbCA/IHZhbCA6IHN0cmlwQW5kQ29sbGFwc2UoalF1ZXJ5LnRleHQoZWxlbSkpOwogICA=
gICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2VsZWN0OiB7CiAgIC=
AgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgd=
mFyIHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24sCiAgICAgICAgICAgICAg=
ICAgICAgICAgIGksCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBlbGVtLm9wdGl=
vbnMsCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LA=
ogICAgICAgICAgICAgICAgICAgICAgICBvbmUgPSBlbGVtLnR5cGUgPT09ICJzZWxlY3Qtb25lI=
iwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gb25lID8gbnVsbCA6IFtdLAogICAg=
ICAgICAgICAgICAgICAgICAgICBtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd=
0aDsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgICAgICAgIC=
AgICAgICAgIGkgPSBtYXg7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgI=
CAgICAgICAgICAgICAgaSA9IG9uZSA/IGluZGV4IDogMDsKICAgICAgICAgICAgICAgICAgICB9=
CiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBtYXg7IGkrKykgewogICAgICAgICAgICA=
gICAgICAgICAgICBvcHRpb24gPSBvcHRpb25zW2ldOwogICAgICAgICAgICAgICAgICAgICAgIC=
BpZiAoKG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCkgJiYgIW9wdGlvbi5kaXNhYmxlZ=
CAmJiAoIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8ICFub2RlTmFtZShvcHRpb24ucGFy=
ZW50Tm9kZSwgIm9wdGdyb3VwIikpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx=
1ZSA9IGpRdWVyeShvcHRpb24pLnZhbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW=
YgKG9uZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAg=
IHZhbHVlcy5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzOwogICAgICAgIC=
AgICAgICAgfSwKICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7C=
iAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvblNldCwKICAgICAgICAgICAgICAgICAgICAg=
ICAgb3B0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gZWxlbS5vcHRpb25=
zLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KHZhbH=
VlKSwKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG9wdGlvbnMubGVuZ3RoOwogICAgICAgI=
CAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9u=
ID0gb3B0aW9uc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChvcHRpb24uc2VsZWN=
0ZWQgPSBqUXVlcnkuaW5BcnJheShqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldChvcHRpb24pLC=
B2YWx1ZXMpID4gLTEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25TZXQgP=
SB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQog=
ICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9uU2V0KSB7CiAgICAgICAgICAgICAgICAgICA=
gICAgIGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xOwogICAgICAgICAgICAgICAgICAgIH0KICAgIC=
AgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzOwogICAgICAgICAgICAgICAgfSwKICAgICAgI=
CAgICAgfSwKICAgICAgICB9LAogICAgfSk7CiAgICBqUXVlcnkuZWFjaChbInJhZGlvIiwgImNo=
ZWNrYm94Il0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBqUXVlcnkudmFsSG9va3NbdGhpc10gPSB=
7CiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7CiAgICAgICAgICAgIC=
AgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1c=
m4gKGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KGpRdWVyeShlbGVtKS52YWwoKSwgdmFs=
dWUpID4gLTEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH07CiA=
gICAgICAgaWYgKCFzdXBwb3J0LmNoZWNrT24pIHsKICAgICAgICAgICAgalF1ZXJ5LnZhbEhvb2=
tzW3RoaXNdLmdldCA9IGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZ=
WxlbS5nZXRBdHRyaWJ1dGUoInZhbHVlIikgPT09IG51bGwgPyAib24iIDogZWxlbS52YWx1ZTsK=
ICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICB9KTsKICAgIHN1cHBvcnQuZm9jdXNpbiA9ICJ=
vbmZvY3VzaW4iIGluIHdpbmRvdzsKICAgIHZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbm=
ZvY3VzfGZvY3Vzb3V0Ymx1cikkLywKICAgICAgICBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9I=
GZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAg=
fTsKICAgIGpRdWVyeS5leHRlbmQoalF1ZXJ5LmV2ZW50LCB7CiAgICAgICAgdHJpZ2dlcjogZnV=
uY3Rpb24gKGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMpIHsKICAgICAgICAgICAgdm=
FyIGksCiAgICAgICAgICAgICAgICBjdXIsCiAgICAgICAgICAgICAgICB0bXAsCiAgICAgICAgI=
CAgICAgICBidWJibGVUeXBlLAogICAgICAgICAgICAgICAgb250eXBlLAogICAgICAgICAgICAg=
ICAgaGFuZGxlLAogICAgICAgICAgICAgICAgc3BlY2lhbCwKICAgICAgICAgICAgICAgIGxhc3R=
FbGVtZW50LAogICAgICAgICAgICAgICAgZXZlbnRQYXRoID0gW2VsZW0gfHwgZG9jdW1lbnRdLA=
ogICAgICAgICAgICAgICAgdHlwZSA9IGhhc093bi5jYWxsKGV2ZW50LCAidHlwZSIpID8gZXZlb=
nQudHlwZSA6IGV2ZW50LAogICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9IGhhc093bi5jYWxs=
KGV2ZW50LCAibmFtZXNwYWNlIikgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIi4iKSA6IFtdOwo=
gICAgICAgICAgICBjdXIgPSBsYXN0RWxlbWVudCA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3=
VtZW50OwogICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUe=
XBlID09PSA4KSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAg=
ICAgICAgaWYgKHJmb2N1c01vcnBoLnRlc3QodHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQ=
pKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW=
YgKHR5cGUuaW5kZXhPZigiLiIpID4gLTEpIHsKICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMgP=
SB0eXBlLnNwbGl0KCIuIik7CiAgICAgICAgICAgICAgICB0eXBlID0gbmFtZXNwYWNlcy5zaGlm=
dCgpOwogICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5zb3J0KCk7CiAgICAgICAgICAgIH0KICA=
gICAgICAgICAgb250eXBlID0gdHlwZS5pbmRleE9mKCI6IikgPCAwICYmICJvbiIgKyB0eXBlOw=
ogICAgICAgICAgICBldmVudCA9IGV2ZW50W2pRdWVyeS5leHBhbmRvXSA/IGV2ZW50IDogbmV3I=
GpRdWVyeS5FdmVudCh0eXBlLCB0eXBlb2YgZXZlbnQgPT09ICJvYmplY3QiICYmIGV2ZW50KTsK=
ICAgICAgICAgICAgZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7CiAgICA=
gICAgICAgIGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbigiLiIpOwogICAgICAgIC=
AgICBldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID8gbmV3IFJlZ0V4cCgiKF58X=
FwuKSIgKyBuYW1lc3BhY2VzLmpvaW4oIlxcLig/Oi4qXFwufCkiKSArICIoXFwufCQpIikgOiBu=
dWxsOwogICAgICAgICAgICBldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIGl=
mICghZXZlbnQudGFyZ2V0KSB7CiAgICAgICAgICAgICAgICBldmVudC50YXJnZXQgPSBlbGVtOw=
ogICAgICAgICAgICB9CiAgICAgICAgICAgIGRhdGEgPSBkYXRhID09IG51bGwgPyBbZXZlbnRdI=
DogalF1ZXJ5Lm1ha2VBcnJheShkYXRhLCBbZXZlbnRdKTsKICAgICAgICAgICAgc3BlY2lhbCA9=
IGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9OwogICAgICAgICAgICBpZiAoIW9ubHl=
IYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KGVsZW=
0sIGRhdGEpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgI=
CB9CiAgICAgICAgICAgIGlmICghb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYm=
ICFpc1dpbmRvdyhlbGVtKSkgewogICAgICAgICAgICAgICAgYnViYmxlVHlwZSA9IHNwZWNpYWw=
uZGVsZWdhdGVUeXBlIHx8IHR5cGU7CiAgICAgICAgICAgICAgICBpZiAoIXJmb2N1c01vcnBoLn=
Rlc3QoYnViYmxlVHlwZSArIHR5cGUpKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyID0gY3VyL=
nBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKDsgY3Vy=
OyBjdXIgPSBjdXIucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgIGV2ZW50UGF0aC5=
wdXNoKGN1cik7CiAgICAgICAgICAgICAgICAgICAgdG1wID0gY3VyOwogICAgICAgICAgICAgIC=
AgfQogICAgICAgICAgICAgICAgaWYgKHRtcCA9PT0gKGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb=
2N1bWVudCkpIHsKICAgICAgICAgICAgICAgICAgICBldmVudFBhdGgucHVzaCh0bXAuZGVmYXVs=
dFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpOwogICAgICAgICAgICAgICAgfQo=
gICAgICAgICAgICB9CiAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICB3aGlsZSAoKGN1ci=
A9IGV2ZW50UGF0aFtpKytdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkgewogI=
CAgICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBjdXI7CiAgICAgICAgICAgICAgICBldmVudC50=
eXBlID0gaSA+IDEgPyBidWJibGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlOwogICA=
gICAgICAgICAgICAgaGFuZGxlID0gKGRhdGFQcml2LmdldChjdXIsICJldmVudHMiKSB8fCBPYm=
plY3QuY3JlYXRlKG51bGwpKVtldmVudC50eXBlXSAmJiBkYXRhUHJpdi5nZXQoY3VyLCAiaGFuZ=
GxlIik7CiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlKSB7CiAgICAgICAgICAgICAgICAgICAg=
aGFuZGxlLmFwcGx5KGN1ciwgZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICA=
gICBoYW5kbGUgPSBvbnR5cGUgJiYgY3VyW29udHlwZV07CiAgICAgICAgICAgICAgICBpZiAoaG=
FuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKGN1cikpIHsKICAgICAgICAgICAgI=
CAgICAgICBldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoY3VyLCBkYXRhKTsKICAgICAgICAg=
ICAgICAgICAgICBpZiAoZXZlbnQucmVzdWx0ID09PSBmYWxzZSkgewogICAgICAgICAgICAgICA=
gICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBldmVudC50eXBlID0gd=
HlwZTsKICAgICAgICAgICAgaWYgKCFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFBy=
ZXZlbnRlZCgpKSB7CiAgICAgICAgICAgICAgICBpZiAoKCFzcGVjaWFsLl9kZWZhdWx0IHx8IHN=
wZWNpYWwuX2RlZmF1bHQuYXBwbHkoZXZlbnRQYXRoLnBvcCgpLCBkYXRhKSA9PT0gZmFsc2UpIC=
YmIGFjY2VwdERhdGEoZWxlbSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAob250eXBlICYmI=
GlzRnVuY3Rpb24oZWxlbVt0eXBlXSkgJiYgIWlzV2luZG93KGVsZW0pKSB7CiAgICAgICAgICAg=
ICAgICAgICAgICAgIHRtcCA9IGVsZW1bb250eXBlXTsKICAgICAgICAgICAgICAgICAgICAgICA=
gaWYgKHRtcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtvbnR5cGVdID0gbn=
VsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBqU=
XVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYg=
KGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICA=
gICAgIGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2=
FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgI=
CAgIGVsZW1bdHlwZV0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmlzUHJv=
cGFnYXRpb25TdG9wcGVkKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFbGV=
tZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2spOw=
ogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVye=
S5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGlm=
ICh0bXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bb250eXBlXSA9IHRtcDs=
KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgIC=
AgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZXZlbnQucmVzdWx0O=
wogICAgICAgIH0sCiAgICAgICAgc2ltdWxhdGU6IGZ1bmN0aW9uICh0eXBlLCBlbGVtLCBldmVu=
dCkgewogICAgICAgICAgICB2YXIgZSA9IGpRdWVyeS5leHRlbmQobmV3IGpRdWVyeS5FdmVudCg=
pLCBldmVudCwgewogICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgIG=
lzU2ltdWxhdGVkOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBqUXVlcnkuZXZlb=
nQudHJpZ2dlcihlLCBudWxsLCBlbGVtKTsKICAgICAgICB9LAogICAgfSk7CiAgICBqUXVlcnku=
Zm4uZXh0ZW5kKHsKICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiAodHlwZSwgZGF0YSkgewogICA=
gICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG=
pRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsIGRhdGEsIHRoaXMpOwogICAgICAgICAgICB9KTsKI=
CAgICAgICB9LAogICAgICAgIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiAodHlwZSwgZGF0YSkg=
ewogICAgICAgICAgICB2YXIgZWxlbSA9IHRoaXNbMF07CiAgICAgICAgICAgIGlmIChlbGVtKSB=
7CiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIodHlwZSwgZGF0YS=
wgZWxlbSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSk7CiAgICBpZiAoI=
XN1cHBvcnQuZm9jdXNpbikgewogICAgICAgIGpRdWVyeS5lYWNoKHsKICAgICAgICAgICAgZm9j=
dXM6ICJmb2N1c2luIiwKICAgICAgICAgICAgYmx1cjogImZvY3Vzb3V0IgogICAgICAgIH0sIGZ=
1bmN0aW9uIChvcmlnLCBmaXgpIHsKICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbi=
AoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zaW11bGF0ZShmaXgsIGV2Z=
W50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeChldmVudCkpOwogICAgICAgICAgICB9OwogICAg=
ICAgICAgICBqUXVlcnkuZXZlbnQuc3BlY2lhbFtmaXhdID0gewogICAgICAgICAgICAgICAgc2V=
0dXA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gdGhpcy5vd2=
5lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcywKICAgICAgICAgICAgICAgICAgI=
CAgICAgYXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoZG9jLCBmaXgpOwogICAgICAgICAgICAg=
ICAgICAgIGlmICghYXR0YWNoZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmFkZEV=
2ZW50TGlzdGVuZXIob3JpZywgaGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQ=
ogICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LmFjY2Vzcyhkb2MsIGZpeCwgKGF0dGFjaGVzI=
Hx8IDApICsgMSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGVhcmRvd246=
IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gdGhpcy5vd25lckR=
vY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcywKICAgICAgICAgICAgICAgICAgICAgIC=
AgYXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoZG9jLCBmaXgpIC0gMTsKICAgICAgICAgICAgI=
CAgICAgICBpZiAoIWF0dGFjaGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5yZW1v=
dmVFdmVudExpc3RlbmVyKG9yaWcsIGhhbmRsZXIsIHRydWUpOwogICAgICAgICAgICAgICAgICA=
gICAgICBkYXRhUHJpdi5yZW1vdmUoZG9jLCBmaXgpOwogICAgICAgICAgICAgICAgICAgIH0gZW=
xzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LmFjY2Vzcyhkb2MsIGZpeCwgY=
XR0YWNoZXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAg=
ICAgICAgIH07CiAgICAgICAgfSk7CiAgICB9CiAgICB2YXIgbG9jYXRpb24gPSB3aW5kb3cubG9=
jYXRpb247CiAgICB2YXIgbm9uY2UgPSB7CiAgICAgICAgZ3VpZDogRGF0ZS5ub3coKQogICAgfT=
sKICAgIHZhciBycXVlcnkgPSAvXD8vOwogICAgalF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24gK=
GRhdGEpIHsKICAgICAgICB2YXIgeG1sLCBwYXJzZXJFcnJvckVsZW07CiAgICAgICAgaWYgKCFk=
YXRhIHx8IHR5cGVvZiBkYXRhICE9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gbnV=
sbDsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgeG1sID0gbmV3IHdpbmRvdy=
5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZGF0YSwgInRleHQveG1sIik7CiAgICAgICAgf=
SBjYXRjaCAoZSkgeyB9CiAgICAgICAgcGFyc2VyRXJyb3JFbGVtID0geG1sICYmIHhtbC5nZXRF=
bGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKVswXTsKICAgICAgICBpZiAoIXhtbCB8fCB=
wYXJzZXJFcnJvckVsZW0pIHsKICAgICAgICAgICAgalF1ZXJ5LmVycm9yKAogICAgICAgICAgIC=
AgICAgIkludmFsaWQgWE1MOiAiICsKICAgICAgICAgICAgICAgIChwYXJzZXJFcnJvckVsZW0gP=
wogICAgICAgICAgICAgICAgICAgIGpRdWVyeQogICAgICAgICAgICAgICAgICAgICAgICAubWFw=
KHBhcnNlckVycm9yRWxlbS5jaGlsZE5vZGVzLCBmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICA=
gICAgICAgICAgICAgICAgIHJldHVybiBlbC50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgIC=
AgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oIlxuIikgOgogICAgICAgI=
CAgICAgICAgICAgIGRhdGEpCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIHJldHVy=
biB4bWw7CiAgICB9OwogICAgdmFyIHJicmFja2V0ID0gL1xbXF0kLywKICAgICAgICByQ1JMRiA=
9IC9ccj9cbi9nLAogICAgICAgIHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbn=
xpbWFnZXxyZXNldHxmaWxlKSQvaSwKICAgICAgICByc3VibWl0dGFibGUgPSAvXig/OmlucHV0f=
HNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7CgogICAgZnVuY3Rpb24gYnVpbGRQYXJhbXMocHJl=
Zml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQpIHsKICAgICAgICB2YXIgbmFtZTsKICAgICAgICB=
pZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CiAgICAgICAgICAgIGpRdWVyeS5lYWNoKG9iaiwgZn=
VuY3Rpb24gKGksIHYpIHsKICAgICAgICAgICAgICAgIGlmICh0cmFkaXRpb25hbCB8fCByYnJhY=
2tldC50ZXN0KHByZWZpeCkpIHsKICAgICAgICAgICAgICAgICAgICBhZGQocHJlZml4LCB2KTsK=
ICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYnVpbGRQYXJhbXM=
ocHJlZml4ICsgIlsiICsgKHR5cGVvZiB2ID09PSAib2JqZWN0IiAmJiB2ICE9IG51bGwgPyBpID=
ogIiIpICsgIl0iLCB2LCB0cmFkaXRpb25hbCwgYWRkKTsKICAgICAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICghdHJhZGl0aW9uYWwgJiYgdG9UeXBlKG9i=
aikgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIGZvciAobmFtZSBpbiBvYmopIHsKICAgICA=
gICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArICJbIiArIG5hbWUgKyAiXSIsIG9ialtuYW=
1lXSwgdHJhZGl0aW9uYWwsIGFkZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogI=
CAgICAgICAgICBhZGQocHJlZml4LCBvYmopOwogICAgICAgIH0KICAgIH0KICAgIGpRdWVyeS5w=
YXJhbSA9IGZ1bmN0aW9uIChhLCB0cmFkaXRpb25hbCkgewogICAgICAgIHZhciBwcmVmaXgsCiA=
gICAgICAgICAgIHMgPSBbXSwKICAgICAgICAgICAgYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdW=
VPckZ1bmN0aW9uKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKHZhb=
HVlT3JGdW5jdGlvbikgPyB2YWx1ZU9yRnVuY3Rpb24oKSA6IHZhbHVlT3JGdW5jdGlvbjsKICAg=
ICAgICAgICAgICAgIHNbcy5sZW5ndGhdID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAiPSI=
gKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUgPT0gbnVsbCA/ICIiIDogdmFsdWUpOwogICAgIC=
AgICAgICB9OwogICAgICAgIGlmIChhID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuICIiO=
wogICAgICAgIH0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSB8fCAoYS5qcXVlcnkgJiYg=
IWpRdWVyeS5pc1BsYWluT2JqZWN0KGEpKSkgewogICAgICAgICAgICBqUXVlcnkuZWFjaChhLCB=
mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBhZGQodGhpcy5uYW1lLCB0aGlzLnZhbHVlKT=
sKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChwcmVma=
XggaW4gYSkgewogICAgICAgICAgICAgICAgYnVpbGRQYXJhbXMocHJlZml4LCBhW3ByZWZpeF0s=
IHRyYWRpdGlvbmFsLCBhZGQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHV=
ybiBzLmpvaW4oIiYiKTsKICAgIH07CiAgICBqUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgICBzZX=
JpYWxpemU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5wYXJhbSh0a=
GlzLnNlcmlhbGl6ZUFycmF5KCkpOwogICAgICAgIH0sCiAgICAgICAgc2VyaWFsaXplQXJyYXk6=
IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHs=
KICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKHRoaXMsICJlbGVtZW=
50cyIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJhe=
ShlbGVtZW50cykgOiB0aGlzOwogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmZpbHRl=
cihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU=
7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KHRoaXMpLm=
lzKCI6ZGlzYWJsZWQiKSAmJiByc3VibWl0dGFibGUudGVzdCh0aGlzLm5vZGVOYW1lKSAmJiAhc=
nN1Ym1pdHRlclR5cGVzLnRlc3QodHlwZSkgJiYgKHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJs=
ZVR5cGUudGVzdCh0eXBlKSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLm1=
hcChmdW5jdGlvbiAoX2ksIGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gal=
F1ZXJ5KHRoaXMpLnZhbCgpOwogICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gbnVsbCkge=
wogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAg=
ICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICA=
gICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1hcCh2YWwsIGZ1bmN0aW9uICh2YWwpIH=
sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgbmFtZTogZWxlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgIHZhbHVlOiB2YWwucmVwbGFjZShyQ1JMRiwgIlxyXG4iKQogICAgICAgICAgICAgICA=
gICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC=
AgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgI=
CAgICAgIG5hbWU6IGVsZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZh=
bC5yZXBsYWNlKHJDUkxGLCAiXHJcbiIpCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICA=
gICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZ2V0KCk7CiAgICAgICAgfSwKICAgIH0pOwogIC=
AgdmFyIHIyMCA9IC8lMjAvZywKICAgICAgICByaGFzaCA9IC8jLiokLywKICAgICAgICByYW50a=
UNhY2hlID0gLyhbPyZdKV89W14mXSovLAogICAgICAgIHJoZWFkZXJzID0gL14oLio/KTpbIFx0=
XSooW15cclxuXSopJC9nbSwKICAgICAgICBybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXB=
wfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLAogICAgICAgIH=
Jub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLAogICAgICAgIHJwcm90b2NvbCA9IC9eXC9cL=
y8sCiAgICAgICAgcHJlZmlsdGVycyA9IHt9LAogICAgICAgIHRyYW5zcG9ydHMgPSB7fSwKICAg=
ICAgICBhbGxUeXBlcyA9ICIqLyIuY29uY2F0KCIqIiksCiAgICAgICAgb3JpZ2luQW5jaG9yID0=
gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgb3JpZ2luQW5jaG9yLmhyZWYgPSBsb2=
NhdGlvbi5ocmVmOwoKICAgIGZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyhzd=
HJ1Y3R1cmUpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGFUeXBlRXhwcmVzc2lvbiwg=
ZnVuYykgewogICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gInN=
0cmluZyIpIHsKICAgICAgICAgICAgICAgIGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247CiAgIC=
AgICAgICAgICAgICBkYXRhVHlwZUV4cHJlc3Npb24gPSAiKiI7CiAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgdmFyIGRhdGFUeXBlLAogICAgICAgICAgICAgICAgaSA9IDAsCiAgICAgICAgICAg=
ICAgICBkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCh=
ybm90aHRtbHdoaXRlKSB8fCBbXTsKICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZnVuYykpIH=
sKICAgICAgICAgICAgICAgIHdoaWxlICgoZGF0YVR5cGUgPSBkYXRhVHlwZXNbaSsrXSkpIHsKI=
CAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVR5cGVbMF0gPT09ICIrIikgewogICAgICAgICAg=
ICAgICAgICAgICAgICBkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKDEpIHx8ICIqIjsKICAgICA=
gICAgICAgICAgICAgICAgICAgKHN0cnVjdHVyZVtkYXRhVHlwZV0gPSBzdHJ1Y3R1cmVbZGF0YV=
R5cGVdIHx8IFtdKS51bnNoaWZ0KGZ1bmMpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7C=
iAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1Y3R1cmVbZGF0YVR5cGVdID0gc3RydWN0dXJl=
W2RhdGFUeXBlXSB8fCBbXSkucHVzaChmdW5jKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICA=
gICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW=
9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ=
2luYWxPcHRpb25zLCBqcVhIUikgewogICAgICAgIHZhciBpbnNwZWN0ZWQgPSB7fSwKICAgICAg=
ICAgICAgc2Vla2luZ1RyYW5zcG9ydCA9IHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0czsKCiAgICA=
gICAgZnVuY3Rpb24gaW5zcGVjdChkYXRhVHlwZSkgewogICAgICAgICAgICB2YXIgc2VsZWN0ZW=
Q7CiAgICAgICAgICAgIGluc3BlY3RlZFtkYXRhVHlwZV0gPSB0cnVlOwogICAgICAgICAgICBqU=
XVlcnkuZWFjaChzdHJ1Y3R1cmVbZGF0YVR5cGVdIHx8IFtdLCBmdW5jdGlvbiAoXywgcHJlZmls=
dGVyT3JGYWN0b3J5KSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA=
9IHByZWZpbHRlck9yRmFjdG9yeShvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSKTsKIC=
AgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gInN0cmluZ=
yIgJiYgIXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFtkYXRhVHlwZU9yVHJhbnNwb3J0=
XSkgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoZGF0YVR=
5cGVPclRyYW5zcG9ydCk7CiAgICAgICAgICAgICAgICAgICAgaW5zcGVjdChkYXRhVHlwZU9yVH=
JhbnNwb3J0KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgI=
CAgICB9IGVsc2UgaWYgKHNlZWtpbmdUcmFuc3BvcnQpIHsKICAgICAgICAgICAgICAgICAgICBy=
ZXR1cm4gIShzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQpOwogICAgICAgICAgICAgICA=
gfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkOwogICAgICAgIH=
0KICAgICAgICByZXR1cm4gaW5zcGVjdChvcHRpb25zLmRhdGFUeXBlc1swXSkgfHwgKCFpbnNwZ=
WN0ZWRbIioiXSAmJiBpbnNwZWN0KCIqIikpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFqYXhFeHRl=
bmQodGFyZ2V0LCBzcmMpIHsKICAgICAgICB2YXIga2V5LAogICAgICAgICAgICBkZWVwLAogICA=
gICAgICAgICBmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfH=
wge307CiAgICAgICAgZm9yIChrZXkgaW4gc3JjKSB7CiAgICAgICAgICAgIGlmIChzcmNba2V5X=
SAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAoZmxhdE9wdGlvbnNba2V5XSA/IHRh=
cmdldCA6IGRlZXAgfHwgKGRlZXAgPSB7fSkpW2tleV0gPSBzcmNba2V5XTsKICAgICAgICAgICA=
gfQogICAgICAgIH0KICAgICAgICBpZiAoZGVlcCkgewogICAgICAgICAgICBqUXVlcnkuZXh0ZW=
5kKHRydWUsIHRhcmdldCwgZGVlcCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0YXJnZXQ7C=
iAgICB9CgogICAgZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyhzLCBqcVhIUiwgcmVzcG9u=
c2VzKSB7CiAgICAgICAgdmFyIGN0LAogICAgICAgICAgICB0eXBlLAogICAgICAgICAgICBmaW5=
hbERhdGFUeXBlLAogICAgICAgICAgICBmaXJzdERhdGFUeXBlLAogICAgICAgICAgICBjb250ZW=
50cyA9IHMuY29udGVudHMsCiAgICAgICAgICAgIGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzOwogI=
CAgICAgIHdoaWxlIChkYXRhVHlwZXNbMF0gPT09ICIqIikgewogICAgICAgICAgICBkYXRhVHlw=
ZXMuc2hpZnQoKTsKICAgICAgICAgICAgaWYgKGN0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICA=
gICAgICAgIGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcigiQ29udG=
VudC1UeXBlIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGN0KSB7CiAgI=
CAgICAgICAgIGZvciAodHlwZSBpbiBjb250ZW50cykgewogICAgICAgICAgICAgICAgaWYgKGNv=
bnRlbnRzW3R5cGVdICYmIGNvbnRlbnRzW3R5cGVdLnRlc3QoY3QpKSB7CiAgICAgICAgICAgICA=
gICAgICAgZGF0YVR5cGVzLnVuc2hpZnQodHlwZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYW=
s7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgK=
GRhdGFUeXBlc1swXSBpbiByZXNwb25zZXMpIHsKICAgICAgICAgICAgZmluYWxEYXRhVHlwZSA9=
IGRhdGFUeXBlc1swXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHR5cGUgaW4=
gcmVzcG9uc2VzKSB7CiAgICAgICAgICAgICAgICBpZiAoIWRhdGFUeXBlc1swXSB8fCBzLmNvbn=
ZlcnRlcnNbdHlwZSArICIgIiArIGRhdGFUeXBlc1swXV0pIHsKICAgICAgICAgICAgICAgICAgI=
CBmaW5hbERhdGFUeXBlID0gdHlwZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghZmlyc3REYXRhVHlwZSkgewogICAgICA=
gICAgICAgICAgICAgIGZpcnN0RGF0YVR5cGUgPSB0eXBlOwogICAgICAgICAgICAgICAgfQogIC=
AgICAgICAgICB9CiAgICAgICAgICAgIGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8I=
GZpcnN0RGF0YVR5cGU7CiAgICAgICAgfQogICAgICAgIGlmIChmaW5hbERhdGFUeXBlKSB7CiAg=
ICAgICAgICAgIGlmIChmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbMF0pIHsKICAgICAgICA=
gICAgICAgIGRhdGFUeXBlcy51bnNoaWZ0KGZpbmFsRGF0YVR5cGUpOwogICAgICAgICAgICB9Ci=
AgICAgICAgICAgIHJldHVybiByZXNwb25zZXNbZmluYWxEYXRhVHlwZV07CiAgICAgICAgfQogI=
CAgfQoKICAgIGZ1bmN0aW9uIGFqYXhDb252ZXJ0KHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNj=
ZXNzKSB7CiAgICAgICAgdmFyIGNvbnYyLAogICAgICAgICAgICBjdXJyZW50LAogICAgICAgICA=
gICBjb252LAogICAgICAgICAgICB0bXAsCiAgICAgICAgICAgIHByZXYsCiAgICAgICAgICAgIG=
NvbnZlcnRlcnMgPSB7fSwKICAgICAgICAgICAgZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY=
2UoKTsKICAgICAgICBpZiAoZGF0YVR5cGVzWzFdKSB7CiAgICAgICAgICAgIGZvciAoY29udiBp=
biBzLmNvbnZlcnRlcnMpIHsKICAgICAgICAgICAgICAgIGNvbnZlcnRlcnNbY29udi50b0xvd2V=
yQ2FzZSgpXSA9IHMuY29udmVydGVyc1tjb252XTsKICAgICAgICAgICAgfQogICAgICAgIH0KIC=
AgICAgICBjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7CiAgICAgICAgd2hpbGUgKGN1cnJlb=
nQpIHsKICAgICAgICAgICAgaWYgKHMucmVzcG9uc2VGaWVsZHNbY3VycmVudF0pIHsKICAgICAg=
ICAgICAgICAgIGpxWEhSW3MucmVzcG9uc2VGaWVsZHNbY3VycmVudF1dID0gcmVzcG9uc2U7CiA=
gICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdG=
FGaWx0ZXIpIHsKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKHJlc3Bvb=
nNlLCBzLmRhdGFUeXBlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcmV2ID0gY3VycmVu=
dDsKICAgICAgICAgICAgY3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpOwogICAgICAgICAgICB=
pZiAoY3VycmVudCkgewogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09ICIqIikgewogIC=
AgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwcmV2OwogICAgICAgICAgICAgICAgfSBlbHNlI=
GlmIChwcmV2ICE9PSAiKiIgJiYgcHJldiAhPT0gY3VycmVudCkgewogICAgICAgICAgICAgICAg=
ICAgIGNvbnYgPSBjb252ZXJ0ZXJzW3ByZXYgKyAiICIgKyBjdXJyZW50XSB8fCBjb252ZXJ0ZXJ=
zWyIqICIgKyBjdXJyZW50XTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnYpIHsKICAgIC=
AgICAgICAgICAgICAgICAgICAgZm9yIChjb252MiBpbiBjb252ZXJ0ZXJzKSB7CiAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICB0bXAgPSBjb252Mi5zcGxpdCgiICIpOwogICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgaWYgKHRtcFsxXSA9PT0gY3VycmVudCkgewogICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgIGNvbnYgPSBjb252ZXJ0ZXJzW3ByZXYgKyAiICIgKyB0bXBbMF1dIH=
x8IGNvbnZlcnRlcnNbIiogIiArIHRtcFswXV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgaWYgKGNvbnYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYg=
KGNvbnYgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gIGNvbnYgPSBjb252ZXJ0ZXJzW2NvbnYyXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgfSBlbHNlIGlmIChjb252ZXJ0ZXJzW2NvbnYyXSAhPT0gdHJ1ZSkgewogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRtcFswXTsKICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlcy51bnNoaWZ0KHRtcFs=
xXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg=
ICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChjb25=
2ICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ICYmIHMudGhyb3=
dzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGNvbnYocmVzcG9uc=
2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA=
9IGNvbnYocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZS=
kgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAicGFyc2VyZXJyb3IiLAogICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogY29udiA/IGUgOiAiTm8gY29udmVyc2l=
vbiBmcm9tICIgKyBwcmV2ICsgIiB0byAiICsgY3VycmVudAogICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgI=
CAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAg=
ICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc3RhdGU=
6ICJzdWNjZXNzIiwKICAgICAgICAgICAgZGF0YTogcmVzcG9uc2UKICAgICAgICB9OwogICAgfQ=
ogICAgalF1ZXJ5LmV4dGVuZCh7CiAgICAgICAgYWN0aXZlOiAwLAogICAgICAgIGxhc3RNb2RpZ=
mllZDoge30sCiAgICAgICAgZXRhZzoge30sCiAgICAgICAgYWpheFNldHRpbmdzOiB7CiAgICAg=
ICAgICAgIHVybDogbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgdHlwZTogIkdFVCIsCiAgICA=
gICAgICAgIGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QobG9jYXRpb24ucHJvdG9jb2wpLA=
ogICAgICAgICAgICBnbG9iYWw6IHRydWUsCiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlL=
AogICAgICAgICAgICBhc3luYzogdHJ1ZSwKICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBs=
aWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLAogICAgICAgICA=
gICBhY2NlcHRzOiB7CiAgICAgICAgICAgICAgICAiKiI6IGFsbFR5cGVzLAogICAgICAgICAgIC=
AgICAgdGV4dDogInRleHQvcGxhaW4iLAogICAgICAgICAgICAgICAgaHRtbDogInRleHQvaHRtb=
CIsCiAgICAgICAgICAgICAgICB4bWw6ICJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIiwKICAg=
ICAgICAgICAgICAgIGpzb246ICJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiCiA=
gICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbnRlbnRzOiB7CiAgICAgICAgICAgICAgICB4bW=
w6IC9cYnhtbFxiLywKICAgICAgICAgICAgICAgIGh0bWw6IC9cYmh0bWwvLAogICAgICAgICAgI=
CAgICAganNvbjogL1xianNvblxiLwogICAgICAgICAgICB9LAogICAgICAgICAgICByZXNwb25z=
ZUZpZWxkczogewogICAgICAgICAgICAgICAgeG1sOiAicmVzcG9uc2VYTUwiLAogICAgICAgICA=
gICAgICAgdGV4dDogInJlc3BvbnNlVGV4dCIsCiAgICAgICAgICAgICAgICBqc29uOiAicmVzcG=
9uc2VKU09OIgogICAgICAgICAgICB9LAogICAgICAgICAgICBjb252ZXJ0ZXJzOiB7CiAgICAgI=
CAgICAgICAgICAiKiB0ZXh0IjogU3RyaW5nLAogICAgICAgICAgICAgICAgInRleHQgaHRtbCI6=
IHRydWUsCiAgICAgICAgICAgICAgICAidGV4dCBqc29uIjogSlNPTi5wYXJzZSwKICAgICAgICA=
gICAgICAgICJ0ZXh0IHhtbCI6IGpRdWVyeS5wYXJzZVhNTCwKICAgICAgICAgICAgfSwKICAgIC=
AgICAgICAgZmxhdE9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIHVybDogdHJ1ZSwKICAgICAgI=
CAgICAgICAgIGNvbnRleHQ6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAg=
IGFqYXhTZXR1cDogZnVuY3Rpb24gKHRhcmdldCwgc2V0dGluZ3MpIHsKICAgICAgICAgICAgcmV=
0dXJuIHNldHRpbmdzID8gYWpheEV4dGVuZChhamF4RXh0ZW5kKHRhcmdldCwgalF1ZXJ5LmFqYX=
hTZXR0aW5ncyksIHNldHRpbmdzKSA6IGFqYXhFeHRlbmQoalF1ZXJ5LmFqYXhTZXR0aW5ncywgd=
GFyZ2V0KTsKICAgICAgICB9LAogICAgICAgIGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVy=
c09yVHJhbnNwb3J0cyhwcmVmaWx0ZXJzKSwKICAgICAgICBhamF4VHJhbnNwb3J0OiBhZGRUb1B=
yZWZpbHRlcnNPclRyYW5zcG9ydHModHJhbnNwb3J0cyksCiAgICAgICAgYWpheDogZnVuY3Rpb2=
4gKHVybCwgb3B0aW9ucykgewogICAgICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gIm9iamVjd=
CIpIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB1cmw7CiAgICAgICAgICAgICAgICB1cmwg=
PSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnM=
gfHwge307CiAgICAgICAgICAgIHZhciB0cmFuc3BvcnQsCiAgICAgICAgICAgICAgICBjYWNoZV=
VSTCwKICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyc1N0cmluZywKICAgICAgICAgICAgI=
CAgIHJlc3BvbnNlSGVhZGVycywKICAgICAgICAgICAgICAgIHRpbWVvdXRUaW1lciwKICAgICAg=
ICAgICAgICAgIHVybEFuY2hvciwKICAgICAgICAgICAgICAgIGNvbXBsZXRlZCwKICAgICAgICA=
gICAgICAgIGZpcmVHbG9iYWxzLAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIH=
VuY2FjaGVkLAogICAgICAgICAgICAgICAgcyA9IGpRdWVyeS5hamF4U2V0dXAoe30sIG9wdGlvb=
nMpLAogICAgICAgICAgICAgICAgY2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsCiAg=
ICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiYgKGNhbGxiYWN=
rQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5KSA/IGpRdWVyeShjYW=
xsYmFja0NvbnRleHQpIDogalF1ZXJ5LmV2ZW50LAogICAgICAgICAgICAgICAgZGVmZXJyZWQgP=
SBqUXVlcnkuRGVmZXJyZWQoKSwKICAgICAgICAgICAgICAgIGNvbXBsZXRlRGVmZXJyZWQgPSBq=
UXVlcnkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLAogICAgICAgICAgICAgICAgc3RhdHVzQ29=
kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSwKICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzID=
0ge30sCiAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sCiAgICAgICAgI=
CAgICAgICBzdHJBYm9ydCA9ICJjYW5jZWxlZCIsCiAgICAgICAgICAgICAgICBqcVhIUiA9IHsK=
ICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlOiAwLAogICAgICAgICAgICAgICAgICAgIGd=
ldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgIC=
AgIHZhciBtYXRjaDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkgewogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZUhlYWRlcnMpIHsKICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnMgPSB7fTsKICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmhlYWRlcnMuZXhlYyhyZX=
Nwb25zZUhlYWRlcnNTdHJpbmcpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICByZXNwb25zZUhlYWRlcnNbbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSArICIgIl0gPSAocmVz=
cG9uc2VIZWFkZXJzW21hdGNoWzFdLnRvTG93ZXJDYXNlKCkgKyAiICJdIHx8IFtdKS5jb25jYXQ=
obWF0Y2hbMl0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gc=
mVzcG9uc2VIZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpICsgIiAiXTsKICAgICAgICAgICAgICAg=
ICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2ggPT0gbnVsbCA=
/IG51bGwgOiBtYXRjaC5qb2luKCIsICIpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgIC=
AgICAgICAgICAgICAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbiAoKSB7CiAgICAgI=
CAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJp=
bmcgOiBudWxsOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc2V=
0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgICAgIC=
AgICAgICAgIGlmIChjb21wbGV0ZWQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgI=
CAgICAgbmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbbmFtZS50b0xvd2VyQ2FzZSgpXSA9IHJl=
cXVlc3RIZWFkZXJzTmFtZXNbbmFtZS50b0xvd2VyQ2FzZSgpXSB8fCBuYW1lOwogICAgICAgICA=
gICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnNbbmFtZV0gPSB2YWx1ZTsKICAgICAgIC=
AgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKI=
CAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlTWltZVR5=
cGU6IGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV=
0ZWQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5taW1lVHlwZSA9IH=
R5cGU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc=
mV0dXJuIHRoaXM7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBz=
dGF0dXNDb2RlOiBmdW5jdGlvbiAobWFwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB=
jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwKSB7CiAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICAganFYSFIuYWx3YXlzKG1hcFtqcVhIUi5zdGF0dXNdKTsKICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh=
jb2RlIGluIG1hcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dX=
NDb2RlW2NvZGVdID0gW3N0YXR1c0NvZGVbY29kZV0sIG1hcFtjb2RlXV07CiAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAg=
ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGl=
zOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bm=
N0aW9uIChzdGF0dXNUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbFRle=
HQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAo=
dHJhbnNwb3J0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuYWJvcnQ=
oZmluYWxUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIC=
AgICAgICBkb25lKDAsIGZpbmFsVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyb=
iB0aGlzOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9OwogICAgICAg=
ICAgICBkZWZlcnJlZC5wcm9taXNlKGpxWEhSKTsKICAgICAgICAgICAgcy51cmwgPSAoKHVybCB=
8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmKSArICIiKS5yZXBsYWNlKHJwcm90b2NvbCwgbG9jYX=
Rpb24ucHJvdG9jb2wgKyAiLy8iKTsKICAgICAgICAgICAgcy50eXBlID0gb3B0aW9ucy5tZXRob=
2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTsKICAgICAgICAgICAgcy5k=
YXRhVHlwZXMgPSAocy5kYXRhVHlwZSB8fCAiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2gocm5vdGh=
0bWx3aGl0ZSkgfHwgWyIiXTsKICAgICAgICAgICAgaWYgKHMuY3Jvc3NEb21haW4gPT0gbnVsbC=
kgewogICAgICAgICAgICAgICAgdXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY=
SIpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB1cmxBbmNob3Iu=
aHJlZiA9IHMudXJsOwogICAgICAgICAgICAgICAgICAgIHVybEFuY2hvci5ocmVmID0gdXJsQW5=
jaG9yLmhyZWY7CiAgICAgICAgICAgICAgICAgICAgcy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2=
hvci5wcm90b2NvbCArICIgICAgICAgICAgICAgICAgICAgICAgICB1cmxBbmNob3IucHJvdG9jb=
2wgKyAiOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAg=
IHMuY3Jvc3NEb21haW4gPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiA=
gICAgICAgICAgIGlmIChzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhIC=
E9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgcy5kYXRhID0galF1ZXJ5LnBhcmFtKHMuZ=
GF0YSwgcy50cmFkaXRpb25hbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5zcGVjdFBy=
ZWZpbHRlcnNPclRyYW5zcG9ydHMocHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIpOwogICA=
gICAgICAgICBpZiAoY29tcGxldGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4ganFYSFI7Ci=
AgICAgICAgICAgIH0KICAgICAgICAgICAgZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgc=
y5nbG9iYWw7CiAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysg=
PT09IDApIHsKICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQ=
iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2=
UoKTsKICAgICAgICAgICAgcy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdChzLnR5cGUpO=
wogICAgICAgICAgICBjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2Uocmhhc2gsICIiKTsKICAgICAg=
ICAgICAgaWYgKCFzLmhhc0NvbnRlbnQpIHsKICAgICAgICAgICAgICAgIHVuY2FjaGVkID0gcy5=
1cmwuc2xpY2UoY2FjaGVVUkwubGVuZ3RoKTsKICAgICAgICAgICAgICAgIGlmIChzLmRhdGEgJi=
YgKHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gInN0cmluZyIpKSB7CiAgICAgI=
CAgICAgICAgICAgICAgY2FjaGVVUkwgKz0gKHJxdWVyeS50ZXN0KGNhY2hlVVJMKSA/ICImIiA6=
ICI/IikgKyBzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHMuZGF0YTsKICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzLmNhY2hlID09PSBmYWxzZSkgewogIC=
AgICAgICAgICAgICAgICAgIGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZShyYW50aUNhY2hlL=
CAiJDEiKTsKICAgICAgICAgICAgICAgICAgICB1bmNhY2hlZCA9IChycXVlcnkudGVzdChjYWNo=
ZVVSTCkgPyAiJiIgOiAiPyIpICsgIl89IiArIG5vbmNlLmd1aWQrKyArIHVuY2FjaGVkOwogICA=
gICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaG=
VkOwogICAgICAgICAgICB9IGVsc2UgaWYgKHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIChzL=
mNvbnRlbnRUeXBlIHx8ICIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVu=
Y29kZWQiKSA9PT0gMCkgewogICAgICAgICAgICAgICAgcy5kYXRhID0gcy5kYXRhLnJlcGxhY2U=
ocjIwLCAiKyIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzLmlmTW9kaWZpZWQpIH=
sKICAgICAgICAgICAgICAgIGlmIChqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXSkgewogI=
CAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNp=
bmNlIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF0pOwogICAgICAgICAgICAgICAgfQo=
gICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5ldGFnW2NhY2hlVVJMXSkgewogICAgICAgICAgIC=
AgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLCBqUXVlcnkuZ=
XRhZ1tjYWNoZVVSTF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg=
ICAgIGlmICgocy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWx=
zZSkgfHwgb3B0aW9ucy5jb250ZW50VHlwZSkgewogICAgICAgICAgICAgICAganFYSFIuc2V0Um=
VxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwgcy5jb250ZW50VHlwZSk7CiAgICAgICAgICAgI=
H0KICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iiwgcy5kYXRhVHlw=
ZXNbMF0gJiYgcy5hY2NlcHRzW3MuZGF0YVR5cGVzWzBdXSA/IHMuYWNjZXB0c1tzLmRhdGFUeXB=
lc1swXV0gKyAocy5kYXRhVHlwZXNbMF0gIT09ICIqIiA/ICIsICIgKyBhbGxUeXBlcyArICI7IH=
E9MC4wMSIgOiAiIikgOiBzLmFjY2VwdHNbIioiXSk7CiAgICAgICAgICAgIGZvciAoaSBpbiBzL=
mhlYWRlcnMpIHsKICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoaSwgcy5o=
ZWFkZXJzW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocy5iZWZvcmVTZW5kICY=
mIChzLmJlZm9yZVNlbmQuY2FsbChjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzKSA9PT0gZmFsc2=
UgfHwgY29tcGxldGVkKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGpxWEhSLmFib3J0KCk7C=
iAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RyQWJvcnQgPSAiYWJvcnQiOwogICAgICAgICAg=
ICBjb21wbGV0ZURlZmVycmVkLmFkZChzLmNvbXBsZXRlKTsKICAgICAgICAgICAganFYSFIuZG9=
uZShzLnN1Y2Nlc3MpOwogICAgICAgICAgICBqcVhIUi5mYWlsKHMuZXJyb3IpOwogICAgICAgIC=
AgICB0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyh0cmFuc3BvcnRzL=
CBzLCBvcHRpb25zLCBqcVhIUik7CiAgICAgICAgICAgIGlmICghdHJhbnNwb3J0KSB7CiAgICAg=
ICAgICAgICAgICBkb25lKC0xLCAiTm8gVHJhbnNwb3J0Iik7CiAgICAgICAgICAgIH0gZWxzZSB=
7CiAgICAgICAgICAgICAgICBqcVhIUi5yZWFkeVN0YXRlID0gMTsKICAgICAgICAgICAgICAgIG=
lmIChmaXJlR2xvYmFscykgewogICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4d=
C50cmlnZ2VyKCJhamF4U2VuZCIsIFtqcVhIUiwgc10pOwogICAgICAgICAgICAgICAgfQogICAg=
ICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB=
qcVhIUjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzLmFzeW5jICYmIH=
MudGltZW91dCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0VGltZXIgPSB3aW5kb=
3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGpxWEhS=
LmFib3J0KCJ0aW1lb3V0Iik7CiAgICAgICAgICAgICAgICAgICAgfSwgcy50aW1lb3V0KTsKICA=
gICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIC=
AgY29tcGxldGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoc=
mVxdWVzdEhlYWRlcnMsIGRvbmUpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAg=
ICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICA=
gdGhyb3cgZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZG9uZS=
gtMSwgZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1b=
mN0aW9uIGRvbmUoc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMp=
IHsKICAgICAgICAgICAgICAgIHZhciBpc1N1Y2Nlc3MsCiAgICAgICAgICAgICAgICAgICAgc3V=
jY2VzcywKICAgICAgICAgICAgICAgICAgICBlcnJvciwKICAgICAgICAgICAgICAgICAgICByZX=
Nwb25zZSwKICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCwKICAgICAgICAgICAgICAgICAgI=
CBzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDsKICAgICAgICAgICAgICAgIGlmIChjb21w=
bGV0ZWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiA=
gICAgICAgICAgICAgICBjb21wbGV0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKHRpbW=
VvdXRUaW1lcikgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZ=
W91dFRpbWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9=
IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWR=
lcnMgfHwgIiI7CiAgICAgICAgICAgICAgICBqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMC=
A/IDQgOiAwOwogICAgICAgICAgICAgICAgaXNTdWNjZXNzID0gKHN0YXR1cyA+PSAyMDAgJiYgc=
3RhdHVzIDwgMzAwKSB8fCBzdGF0dXMgPT09IDMwNDsKICAgICAgICAgICAgICAgIGlmIChyZXNw=
b25zZXMpIHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25=
zZXMocywganFYSFIsIHJlc3BvbnNlcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC=
AgICBpZiAoIWlzU3VjY2VzcyAmJiBqUXVlcnkuaW5BcnJheSgic2NyaXB0Iiwgcy5kYXRhVHlwZ=
XMpID4gLTEgJiYgalF1ZXJ5LmluQXJyYXkoImpzb24iLCBzLmRhdGFUeXBlcykgPCAwKSB7CiAg=
ICAgICAgICAgICAgICAgICAgcy5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdID0gZnVuY3Rpb24=
gKCkgeyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBham=
F4Q29udmVydChzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2Vzcyk7CiAgICAgICAgICAgICAgI=
CBpZiAoaXNTdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuaWZNb2RpZmllZCkg=
ewogICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGV=
hZGVyKCJMYXN0LU1vZGlmaWVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZm=
llZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lmxhc3RNb2RpZmllZFtjY=
WNoZVVSTF0gPSBtb2RpZmllZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg=
ICAgICAgICAgICAgICBtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIik=
7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZmllZCkgewogICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgalF1ZXJ5LmV0YWdbY2FjaGVVUkxdID0gbW9kaWZpZWQ7CiAgICAgICAgI=
CAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAg=
ICAgaWYgKHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gIkhFQUQiKSB7CiAgICAgICAgICA=
gICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAibm9jb250ZW50IjsKICAgICAgICAgICAgICAgIC=
AgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gMzA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgI=
HN0YXR1c1RleHQgPSAibm90bW9kaWZpZWQiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7=
CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTsKICA=
gICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgIC=
AgICAgICAgICAgICAgIGVycm9yID0gcmVzcG9uc2UuZXJyb3I7CiAgICAgICAgICAgICAgICAgI=
CAgICAgIGlzU3VjY2VzcyA9ICFlcnJvcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg=
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9yID0gc3RhdHVzVGV4dDs=
KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzIHx8ICFzdGF0dXNUZXh0KSB7CiAgICAgIC=
AgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAiZXJyb3IiOwogICAgICAgICAgICAgICAgI=
CAgICAgICBpZiAoc3RhdHVzIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rh=
dHVzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0=
KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGpxWEhSLnN0YXR1cyA9IHN0YXR1cz=
sKICAgICAgICAgICAgICAgIGpxWEhSLnN0YXR1c1RleHQgPSAobmF0aXZlU3RhdHVzVGV4dCB8f=
CBzdGF0dXNUZXh0KSArICIiOwogICAgICAgICAgICAgICAgaWYgKGlzU3VjY2VzcykgewogICAg=
ICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKGNhbGxiYWNrQ29udGV4dCwgW3N=
1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogIC=
AgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdFdpdGgoY2FsbGJhY2tDb250ZXh0LCBba=
nFYSFIsIHN0YXR1c1RleHQsIGVycm9yXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg=
ICAgICBqcVhIUi5zdGF0dXNDb2RlKHN0YXR1c0NvZGUpOwogICAgICAgICAgICAgICAgc3RhdHV=
zQ29kZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscykgewogIC=
AgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKGlzU3VjY2VzcyA/I=
CJhamF4U3VjY2VzcyIgOiAiYWpheEVycm9yIiwgW2pxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNj=
ZXNzIDogZXJyb3JdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbXBsZXR=
lRGVmZXJyZWQuZmlyZVdpdGgoY2FsbGJhY2tDb250ZXh0LCBbanFYSFIsIHN0YXR1c1RleHRdKT=
sKICAgICAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscykgewogICAgICAgICAgICAgICAgICAgI=
Gdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLCBbanFYSFIsIHNdKTsK=
ICAgICAgICAgICAgICAgICAgICBpZiAoIS0talF1ZXJ5LmFjdGl2ZSkgewogICAgICAgICAgICA=
gICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKTsKICAgICAgICAgIC=
AgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc=
mV0dXJuIGpxWEhSOwogICAgICAgIH0sCiAgICAgICAgZ2V0SlNPTjogZnVuY3Rpb24gKHVybCwg=
ZGF0YSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5nZXQodXJsLCBkYXR=
hLCBjYWxsYmFjaywgImpzb24iKTsKICAgICAgICB9LAogICAgICAgIGdldFNjcmlwdDogZnVuY3=
Rpb24gKHVybCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5nZXQodXJsL=
CB1bmRlZmluZWQsIGNhbGxiYWNrLCAic2NyaXB0Iik7CiAgICAgICAgfSwKICAgIH0pOwogICAg=
alF1ZXJ5LmVhY2goWyJnZXQiLCAicG9zdCJdLCBmdW5jdGlvbiAoX2ksIG1ldGhvZCkgewogICA=
gICAgIGpRdWVyeVttZXRob2RdID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cG=
UpIHsKICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGF0YSkpIHsKICAgICAgICAgICAgICAgI=
HR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrOwogICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBkYXRh=
OwogICAgICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgICA=
gICAgICByZXR1cm4galF1ZXJ5LmFqYXgoalF1ZXJ5LmV4dGVuZCh7CiAgICAgICAgICAgICAgIC=
B1cmw6IHVybCwKICAgICAgICAgICAgICAgIHR5cGU6IG1ldGhvZCwKICAgICAgICAgICAgICAgI=
GRhdGFUeXBlOiB0eXBlLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAg=
ICAgIHN1Y2Nlc3M6IGNhbGxiYWNrCiAgICAgICAgICAgIH0sIGpRdWVyeS5pc1BsYWluT2JqZWN=
0KHVybCkgJiYgdXJsKSk7CiAgICAgICAgfTsKICAgIH0pOwogICAgalF1ZXJ5LmFqYXhQcmVmaW=
x0ZXIoZnVuY3Rpb24gKHMpIHsKICAgICAgICB2YXIgaTsKICAgICAgICBmb3IgKGkgaW4gcy5oZ=
WFkZXJzKSB7CiAgICAgICAgICAgIGlmIChpLnRvTG93ZXJDYXNlKCkgPT09ICJjb250ZW50LXR5=
cGUiKSB7CiAgICAgICAgICAgICAgICBzLmNvbnRlbnRUeXBlID0gcy5oZWFkZXJzW2ldIHx8ICI=
iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CiAgICBqUXVlcnkuX2V2YWxVcmwgPS=
BmdW5jdGlvbiAodXJsLCBvcHRpb25zLCBkb2MpIHsKICAgICAgICByZXR1cm4galF1ZXJ5LmFqY=
XgoewogICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgdHlwZTogIkdFVCIsCiAgICAg=
ICAgICAgIGRhdGFUeXBlOiAic2NyaXB0IiwKICAgICAgICAgICAgY2FjaGU6IHRydWUsCiAgICA=
gICAgICAgIGFzeW5jOiBmYWxzZSwKICAgICAgICAgICAgZ2xvYmFsOiBmYWxzZSwKICAgICAgIC=
AgICAgY29udmVydGVyczogewogICAgICAgICAgICAgICAgInRleHQgc2NyaXB0IjogZnVuY3Rpb=
24gKCkgeyB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFGaWx0ZXI6IGZ1bmN0aW9u=
IChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgalF1ZXJ5Lmdsb2JhbEV2YWwocmVzcG9uc2U=
sIG9wdGlvbnMsIGRvYyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICB9OwogICAgal=
F1ZXJ5LmZuLmV4dGVuZCh7CiAgICAgICAgd3JhcEFsbDogZnVuY3Rpb24gKGh0bWwpIHsKICAgI=
CAgICAgICAgdmFyIHdyYXA7CiAgICAgICAgICAgIGlmICh0aGlzWzBdKSB7CiAgICAgICAgICAg=
ICAgICBpZiAoaXNGdW5jdGlvbihodG1sKSkgewogICAgICAgICAgICAgICAgICAgIGh0bWwgPSB=
odG1sLmNhbGwodGhpc1swXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3cm=
FwID0galF1ZXJ5KGh0bWwsIHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUodHJ1Z=
Sk7CiAgICAgICAgICAgICAgICBpZiAodGhpc1swXS5wYXJlbnROb2RlKSB7CiAgICAgICAgICAg=
ICAgICAgICAgd3JhcC5pbnNlcnRCZWZvcmUodGhpc1swXSk7CiAgICAgICAgICAgICAgICB9CiA=
gICAgICAgICAgICAgICB3cmFwLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIC=
AgdmFyIGVsZW0gPSB0aGlzOwogICAgICAgICAgICAgICAgICAgIHdoaWxlIChlbGVtLmZpcnN0R=
WxlbWVudENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLmZpcnN0=
RWxlbWVudENoaWxkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB=
yZXR1cm4gZWxlbTsKICAgICAgICAgICAgICAgIH0pLmFwcGVuZCh0aGlzKTsKICAgICAgICAgIC=
AgfQogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgICAgIHdyYXBJbm5lc=
jogZnVuY3Rpb24gKGh0bWwpIHsKICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaHRtbCkpIHsK=
ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICA=
gICAgICAgICAgICBqUXVlcnkodGhpcykud3JhcElubmVyKGh0bWwuY2FsbCh0aGlzLCBpKSk7Ci=
AgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpc=
y5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBzZWxmID0galF1ZXJ5KHRo=
aXMpLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpOwogICA=
gICAgICAgICAgICAgaWYgKGNvbnRlbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIG=
NvbnRlbnRzLndyYXBBbGwoaHRtbCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgI=
CAgICAgICAgICAgIHNlbGYuYXBwZW5kKGh0bWwpOwogICAgICAgICAgICAgICAgfQogICAgICAg=
ICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHdyYXA6IGZ1bmN0aW9uIChodG1sKSB7CiAgICA=
gICAgICAgIHZhciBodG1sSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oaHRtbCk7CiAgICAgICAgIC=
AgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgIGpRdWVye=
Sh0aGlzKS53cmFwQWxsKGh0bWxJc0Z1bmN0aW9uID8gaHRtbC5jYWxsKHRoaXMsIGkpIDogaHRt=
bCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdW53cmFwOiBmdW5jdGlvbiA=
oc2VsZWN0b3IpIHsKICAgICAgICAgICAgdGhpcy5wYXJlbnQoc2VsZWN0b3IpCiAgICAgICAgIC=
AgICAgICAubm90KCJib2R5IikKICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHsKI=
CAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5v=
ZGVzKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICA=
gICB9LAogICAgfSk7CiAgICBqUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uIC=
hlbGVtKSB7CiAgICAgICAgcmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoZWxlb=
Sk7CiAgICB9OwogICAgalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24gKGVs=
ZW0pIHsKICAgICAgICByZXR1cm4gISEoZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEh=
laWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTsKICAgIH07CiAgICBqUXVlcn=
kuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0cnkgewogICAgICAgI=
CAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIH0gY2F0Y2gg=
KGUpIHsgfQogICAgfTsKICAgIHZhciB4aHJTdWNjZXNzU3RhdHVzID0gewogICAgICAgIDA6IDI=
wMCwKICAgICAgICAxMjIzOiAyMDQsCiAgICB9LAogICAgICAgIHhoclN1cHBvcnRlZCA9IGpRdW=
VyeS5hamF4U2V0dGluZ3MueGhyKCk7CiAgICBzdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZ=
CAmJiAid2l0aENyZWRlbnRpYWxzIiBpbiB4aHJTdXBwb3J0ZWQ7CiAgICBzdXBwb3J0LmFqYXgg=
PSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDsKICAgIGpRdWVyeS5hamF4VHJhbnNwb3J=
0KGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICAgICAgdmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYW=
NrOwogICAgICAgIGlmIChzdXBwb3J0LmNvcnMgfHwgKHhoclN1cHBvcnRlZCAmJiAhb3B0aW9uc=
y5jcm9zc0RvbWFpbikpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHNl=
bmQ6IGZ1bmN0aW9uIChoZWFkZXJzLCBjb21wbGV0ZSkgewogICAgICAgICAgICAgICAgICAgIHZ=
hciBpLAogICAgICAgICAgICAgICAgICAgICAgICB4aHIgPSBvcHRpb25zLnhocigpOwogICAgIC=
AgICAgICAgICAgICAgIHhoci5vcGVuKG9wdGlvbnMudHlwZSwgb3B0aW9ucy51cmwsIG9wdGlvb=
nMuYXN5bmMsIG9wdGlvbnMudXNlcm5hbWUsIG9wdGlvbnMucGFzc3dvcmQpOwogICAgICAgICAg=
ICAgICAgICAgIGlmIChvcHRpb25zLnhockZpZWxkcykgewogICAgICAgICAgICAgICAgICAgICA=
gICBmb3IgKGkgaW4gb3B0aW9ucy54aHJGaWVsZHMpIHsKICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgIHhocltpXSA9IG9wdGlvbnMueGhyRmllbGRzW2ldOwogICAgICAgICAgICAgICAgICAgI=
CAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChvcHRp=
b25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlKSB7CiAgICAgICAgICAgICAgICA=
gICAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlKG9wdGlvbnMubWltZVR5cGUpOwogICAgICAgIC=
AgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuY3Jvc3NEb21ha=
W4gJiYgIWhlYWRlcnNbIlgtUmVxdWVzdGVkLVdpdGgiXSkgewogICAgICAgICAgICAgICAgICAg=
ICAgICBoZWFkZXJzWyJYLVJlcXVlc3RlZC1XaXRoIl0gPSAiWE1MSHR0cFJlcXVlc3QiOwogICA=
gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gaGVhZGVycy=
kgewogICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCBoZWFkZ=
XJzW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2FsbGJh=
Y2sgPSBmdW5jdGlvbiAodHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnV=
uY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7Ci=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrI=
D0geGhyLm9ubG9hZCA9IHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub250aW1lb3V0=
ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgaWYgKHR5cGUgPT09ICJhYm9ydCIpIHsKICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgeGhyLmFib3J0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgfSBlbHNlIGlmICh0eXBlID09PSAiZXJyb3IiKSB7CiAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgIGlmICh0eXBlb2YgeGhyLnN0YXR1cyAhPT0gIm51bWJlciIpIHsKICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKDAsICJlcnJvciIpOw=
ogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoeGhyLnN0YXR1cywgeGhyLnN0=
YXR1c1RleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgY29tcGxldGUoeGhyU3VjY2Vzc1N0YXR1c1t4aHIuc3RhdHVzXSB8fCB4a=
HIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgKHhoci5yZXNwb25zZVR5cGUgfHwgInRleHQiKSAh=
PT0gInRleHQiIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSAic3RyaW5nIiA/IHsKICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmFyeTogeGhyLnJlc3Bvbn=
NlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7CiAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0CiAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHhoci5nZXRBbGxSZXNwb25zZUhlYWR=
lcnMoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgI=
CAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7CiAg=
ICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0geGhyLm9udGl=
tZW91dCA9IGNhbGxiYWNrKCJlcnJvciIpOwogICAgICAgICAgICAgICAgICAgIGlmICh4aHIub2=
5hYm9ydCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbmFib=
3J0ID0gZXJyb3JDYWxsYmFjazsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAg=
ICAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewo=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7Ci=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb=
24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sp=
IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2s=
oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgI=
CAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg=
ICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrKCJhYm9ydCIpOwogICAgICAgICAgICAgICAgICA=
gIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKChvcHRpb25zLmhhc0Nvbn=
RlbnQgJiYgb3B0aW9ucy5kYXRhKSB8fCBudWxsKTsKICAgICAgICAgICAgICAgICAgICB9IGNhd=
GNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQo=
gICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIC=
BhYm9ydDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge=
wogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICAgICAgICAg=
IH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgfSk7CiA=
gICBqUXVlcnkuYWpheFByZWZpbHRlcihmdW5jdGlvbiAocykgewogICAgICAgIGlmIChzLmNyb3=
NzRG9tYWluKSB7CiAgICAgICAgICAgIHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7CiAgICAgI=
CAgfQogICAgfSk7CiAgICBqUXVlcnkuYWpheFNldHVwKHsKICAgICAgICBhY2NlcHRzOiB7CiAg=
ICAgICAgICAgIHNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcml=
wdCwgIiArICJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcH=
QiCiAgICAgICAgfSwKICAgICAgICBjb250ZW50czogewogICAgICAgICAgICBzY3JpcHQ6IC9cY=
ig/OmphdmF8ZWNtYSlzY3JpcHRcYi8KICAgICAgICB9LAogICAgICAgIGNvbnZlcnRlcnM6IHsK=
ICAgICAgICAgICAgInRleHQgc2NyaXB0IjogZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICAgICA=
gICAgIGpRdWVyeS5nbG9iYWxFdmFsKHRleHQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRleH=
Q7CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgIH0pOwogICAgalF1ZXJ5LmFqYXhQcmVma=
Wx0ZXIoInNjcmlwdCIsIGZ1bmN0aW9uIChzKSB7CiAgICAgICAgaWYgKHMuY2FjaGUgPT09IHVu=
ZGVmaW5lZCkgewogICAgICAgICAgICBzLmNhY2hlID0gZmFsc2U7CiAgICAgICAgfQogICAgICA=
gIGlmIChzLmNyb3NzRG9tYWluKSB7CiAgICAgICAgICAgIHMudHlwZSA9ICJHRVQiOwogICAgIC=
AgIH0KICAgIH0pOwogICAgalF1ZXJ5LmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsIGZ1bmN0aW9uI=
ChzKSB7CiAgICAgICAgaWYgKHMuY3Jvc3NEb21haW4gfHwgcy5zY3JpcHRBdHRycykgewogICAg=
ICAgICAgICB2YXIgc2NyaXB0LCBjYWxsYmFjazsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICA=
gICAgICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChfLCBjb21wbGV0ZSkgewogICAgICAgICAgICAgIC=
AgICAgIHNjcmlwdCA9IGpRdWVyeSgiPHNjcmlwdD4iKQogICAgICAgICAgICAgICAgICAgICAgI=
CAuYXR0cihzLnNjcmlwdEF0dHJzIHx8IHt9KQogICAgICAgICAgICAgICAgICAgICAgICAucHJv=
cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQ=
sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHMudXJsCiAgICAgICAgICAgICAgIC=
AgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbigKICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICJsb2FkIGVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChj=
YWxsYmFjayA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICBzY3JpcHQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbG=
JhY2sgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQpIHsKI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoZXZ0LnR5cGUgPT09=
ICJlcnJvciIgPyA0MDQgOiAyMDAsIGV2dC50eXBlKTsKICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC=
AgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpb=
GQoc2NyaXB0WzBdKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBhYm9ydDog=
ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgewogICAgICA=
gICAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgIC=
AgICAgICAgICAgIH0sCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgfSk7CiAgICB2YXIgb=
2xkQ2FsbGJhY2tzID0gW10sCiAgICAgICAgcmpzb25wID0gLyg9KVw/KD89JnwkKXxcP1w/LzsK=
ICAgIGpRdWVyeS5hamF4U2V0dXAoewogICAgICAgIGpzb25wOiAiY2FsbGJhY2siLAogICAgICA=
gIGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGNhbGxiYWNrID=
0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8IGpRdWVyeS5leHBhbmRvICsgIl8iICsgbm9uY2UuZ3VpZ=
CsrOwogICAgICAgICAgICB0aGlzW2NhbGxiYWNrXSA9IHRydWU7CiAgICAgICAgICAgIHJldHVy=
biBjYWxsYmFjazsKICAgICAgICB9LAogICAgfSk7CiAgICBqUXVlcnkuYWpheFByZWZpbHRlcig=
ianNvbiBqc29ucCIsIGZ1bmN0aW9uIChzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUikgewogIC=
AgICAgIHZhciBjYWxsYmFja05hbWUsCiAgICAgICAgICAgIG92ZXJ3cml0dGVuLAogICAgICAgI=
CAgICByZXNwb25zZUNvbnRhaW5lciwKICAgICAgICAgICAganNvblByb3AgPSBzLmpzb25wICE9=
PSBmYWxzZSAmJiAocmpzb25wLnRlc3Qocy51cmwpID8gInVybCIgOiB0eXBlb2Ygcy5kYXRhID0=
9PSAic3RyaW5nIiAmJiAocy5jb250ZW50VHlwZSB8fCAiIikuaW5kZXhPZigiYXBwbGljYXRpb2=
4veC13d3ctZm9ybS11cmxlbmNvZGVkIikgPT09IDAgJiYgcmpzb25wLnRlc3Qocy5kYXRhKSAmJ=
iAiZGF0YSIpOwogICAgICAgIGlmIChqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1swXSA9PT0gImpz=
b25wIikgewogICAgICAgICAgICBjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBpc0Z=
1bmN0aW9uKHMuanNvbnBDYWxsYmFjaykgPyBzLmpzb25wQ2FsbGJhY2soKSA6IHMuanNvbnBDYW=
xsYmFjazsKICAgICAgICAgICAgaWYgKGpzb25Qcm9wKSB7CiAgICAgICAgICAgICAgICBzW2pzb=
25Qcm9wXSA9IHNbanNvblByb3BdLnJlcGxhY2Uocmpzb25wLCAiJDEiICsgY2FsbGJhY2tOYW1l=
KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzLmpzb25wICE9PSBmYWxzZSkgewogICAgICAgICA=
gICAgICAgcy51cmwgKz0gKHJxdWVyeS50ZXN0KHMudXJsKSA/ICImIiA6ICI/IikgKyBzLmpzb2=
5wICsgIj0iICsgY2FsbGJhY2tOYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHMuY29ud=
mVydGVyc1sic2NyaXB0IGpzb24iXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlm=
ICghcmVzcG9uc2VDb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXJyb3I=
oY2FsbGJhY2tOYW1lICsgIiB3YXMgbm90IGNhbGxlZCIpOwogICAgICAgICAgICAgICAgfQogIC=
AgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWzBdOwogICAgICAgICAgICB9O=
wogICAgICAgICAgICBzLmRhdGFUeXBlc1swXSA9ICJqc29uIjsKICAgICAgICAgICAgb3Zlcndy=
aXR0ZW4gPSB3aW5kb3dbY2FsbGJhY2tOYW1lXTsKICAgICAgICAgICAgd2luZG93W2NhbGxiYWN=
rTmFtZV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvbnRhaW5lci=
A9IGFyZ3VtZW50czsKICAgICAgICAgICAgfTsKICAgICAgICAgICAganFYSFIuYWx3YXlzKGZ1b=
mN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmIChvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVk=
KSB7CiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHdpbmRvdykucmVtb3ZlUHJvcChjYWxsYmF=
ja05hbWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB3aW=
5kb3dbY2FsbGJhY2tOYW1lXSA9IG92ZXJ3cml0dGVuOwogICAgICAgICAgICAgICAgfQogICAgI=
CAgICAgICAgICAgaWYgKHNbY2FsbGJhY2tOYW1lXSkgewogICAgICAgICAgICAgICAgICAgIHMu=
anNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjazsKICAgICAgICA=
gICAgICAgICAgICBvbGRDYWxsYmFja3MucHVzaChjYWxsYmFja05hbWUpOwogICAgICAgICAgIC=
AgICAgfQogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlQ29udGFpbmVyICYmIGlzRnVuY3Rpb=
24ob3ZlcndyaXR0ZW4pKSB7CiAgICAgICAgICAgICAgICAgICAgb3ZlcndyaXR0ZW4ocmVzcG9u=
c2VDb250YWluZXJbMF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzcG9=
uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfSk7Ci=
AgICAgICAgICAgIHJldHVybiAic2NyaXB0IjsKICAgICAgICB9CiAgICB9KTsKICAgIHN1cHBvc=
nQuY3JlYXRlSFRNTERvY3VtZW50ID0gKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYm9keSA9=
IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTsKICA=
gICAgICBib2R5LmlubmVySFRNTCA9ICI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPiI7CiAgIC=
AgICAgcmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7CiAgICB9KSgpOwogICAga=
lF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uIChkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cykg=
ewogICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV=
0dXJuIFtdOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT09ICJib29sZW=
FuIikgewogICAgICAgICAgICBrZWVwU2NyaXB0cyA9IGNvbnRleHQ7CiAgICAgICAgICAgIGNvb=
nRleHQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0=
czsKICAgICAgICBpZiAoIWNvbnRleHQpIHsKICAgICAgICAgICAgaWYgKHN1cHBvcnQuY3JlYXR=
lSFRNTERvY3VtZW50KSB7CiAgICAgICAgICAgICAgICBjb250ZXh0ID0gZG9jdW1lbnQuaW1wbG=
VtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTsKICAgICAgICAgICAgICAgIGJhc2UgP=
SBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoImJhc2UiKTsKICAgICAgICAgICAgICAgIGJhc2UuaHJl=
ZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgICBjb250ZXh0LmhlYWQ=
uYXBwZW5kQ2hpbGQoYmFzZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgIC=
Bjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcGFyc=
2VkID0gcnNpbmdsZVRhZy5leGVjKGRhdGEpOwogICAgICAgIHNjcmlwdHMgPSAha2VlcFNjcmlw=
dHMgJiYgW107CiAgICAgICAgaWYgKHBhcnNlZCkgewogICAgICAgICAgICByZXR1cm4gW2NvbnR=
leHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTsKICAgICAgICB9CiAgICAgICAgcGFyc2VkID=
0gYnVpbGRGcmFnbWVudChbZGF0YV0sIGNvbnRleHQsIHNjcmlwdHMpOwogICAgICAgIGlmIChzY=
3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoKSB7CiAgICAgICAgICAgIGpRdWVyeShzY3JpcHRzKS5y=
ZW1vdmUoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJnZShbXSwgcGFyc2V=
kLmNoaWxkTm9kZXMpOwogICAgfTsKICAgIGpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24gKHVybC=
wgcGFyYW1zLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzZWxlY3RvciwKICAgICAgICAgICAgd=
HlwZSwKICAgICAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgICAgIHNlbGYgPSB0aGlzLAogICAg=
ICAgICAgICBvZmYgPSB1cmwuaW5kZXhPZigiICIpOwogICAgICAgIGlmIChvZmYgPiAtMSkgewo=
gICAgICAgICAgICBzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UodXJsLnNsaWNlKG9mZikpOw=
ogICAgICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgb2ZmKTsKICAgICAgICB9CiAgICAgICAga=
WYgKGlzRnVuY3Rpb24ocGFyYW1zKSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHBhcmFtczsK=
ICAgICAgICAgICAgcGFyYW1zID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAocGFyYW1=
zICYmIHR5cGVvZiBwYXJhbXMgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHR5cGUgPSAiUE=
9TVCI7CiAgICAgICAgfQogICAgICAgIGlmIChzZWxmLmxlbmd0aCA+IDApIHsKICAgICAgICAgI=
CAgalF1ZXJ5CiAgICAgICAgICAgICAgICAuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgdXJs=
OiB1cmwsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSB8fCAiR0VUIiwKICAgICAgICA=
gICAgICAgICAgICBkYXRhVHlwZTogImh0bWwiLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IH=
BhcmFtcywKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvb=
iAocmVzcG9uc2VUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhcmd1bWVu=
dHM7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5odG1sKHNlbGVjdG9yID8galF1ZXJ5KCI8ZGl=
2PiIpLmFwcGVuZChqUXVlcnkucGFyc2VIVE1MKHJlc3BvbnNlVGV4dCkpLmZpbmQoc2VsZWN0b3=
IpIDogcmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY=
Wx3YXlzKAogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmCiAgICAgICAgICAgICAgICAg=
ICAgZnVuY3Rpb24gKGpxWEhSLCBzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V=
sZi5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYW=
NrLmFwcGx5KHRoaXMsIHJlc3BvbnNlIHx8IFtqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywga=
nFYSFJdKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAg=
fQogICAgICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB=
9OwogICAgalF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uIChlbGVtKSB7Ci=
AgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uIChmbikge=
wogICAgICAgICAgICByZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTsKICAgICAgICB9KS5sZW5ndGg7=
CiAgICB9OwogICAgalF1ZXJ5Lm9mZnNldCA9IHsKICAgICAgICBzZXRPZmZzZXQ6IGZ1bmN0aW9=
uIChlbGVtLCBvcHRpb25zLCBpKSB7CiAgICAgICAgICAgIHZhciBjdXJQb3NpdGlvbiwKICAgIC=
AgICAgICAgICAgIGN1ckxlZnQsCiAgICAgICAgICAgICAgICBjdXJDU1NUb3AsCiAgICAgICAgI=
CAgICAgICBjdXJUb3AsCiAgICAgICAgICAgICAgICBjdXJPZmZzZXQsCiAgICAgICAgICAgICAg=
ICBjdXJDU1NMZWZ0LAogICAgICAgICAgICAgICAgY2FsY3VsYXRlUG9zaXRpb24sCiAgICAgICA=
gICAgICAgICBwb3NpdGlvbiA9IGpRdWVyeS5jc3MoZWxlbSwgInBvc2l0aW9uIiksCiAgICAgIC=
AgICAgICAgICBjdXJFbGVtID0galF1ZXJ5KGVsZW0pLAogICAgICAgICAgICAgICAgcHJvcHMgP=
SB7fTsKICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSAic3RhdGljIikgewogICAgICAgICAg=
ICAgICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICAgICAgICAgIH0KICA=
gICAgICAgICAgY3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTsKICAgICAgICAgICAgY3VyQ1=
NTVG9wID0galF1ZXJ5LmNzcyhlbGVtLCAidG9wIik7CiAgICAgICAgICAgIGN1ckNTU0xlZnQgP=
SBqUXVlcnkuY3NzKGVsZW0sICJsZWZ0Iik7CiAgICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9u=
ID0gKHBvc2l0aW9uID09PSAiYWJzb2x1dGUiIHx8IHBvc2l0aW9uID09PSAiZml4ZWQiKSAmJiA=
oY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCkuaW5kZXhPZigiYXV0byIpID4gLTE7CiAgICAgICAgIC=
AgIGlmIChjYWxjdWxhdGVQb3NpdGlvbikgewogICAgICAgICAgICAgICAgY3VyUG9zaXRpb24gP=
SBjdXJFbGVtLnBvc2l0aW9uKCk7CiAgICAgICAgICAgICAgICBjdXJUb3AgPSBjdXJQb3NpdGlv=
bi50b3A7CiAgICAgICAgICAgICAgICBjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDsKICAgICA=
gICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGN1clRvcCA9IHBhcnNlRmxvYXQoY3VyQ1=
NTVG9wKSB8fCAwOwogICAgICAgICAgICAgICAgY3VyTGVmdCA9IHBhcnNlRmxvYXQoY3VyQ1NTT=
GVmdCkgfHwgMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRp=
b25zKSkgewogICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMuY2FsbChlbGVtLCBpLCB=
qUXVlcnkuZXh0ZW5kKHt9LCBjdXJPZmZzZXQpKTsKICAgICAgICAgICAgfQogICAgICAgICAgIC=
BpZiAob3B0aW9ucy50b3AgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcHJvcHMudG9wID0gb=
3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICsgY3VyVG9wOwogICAgICAgICAgICB9CiAgICAg=
ICAgICAgIGlmIChvcHRpb25zLmxlZnQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcHJvcHM=
ubGVmdCA9IG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICsgY3VyTGVmdDsKICAgICAgIC=
AgICAgfQogICAgICAgICAgICBpZiAoInVzaW5nIiBpbiBvcHRpb25zKSB7CiAgICAgICAgICAgI=
CAgICBvcHRpb25zLnVzaW5nLmNhbGwoZWxlbSwgcHJvcHMpOwogICAgICAgICAgICB9IGVsc2Ug=
ewogICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MocHJvcHMpOwogICAgICAgICAgICB9CiAgICA=
gICAgfSwKICAgIH07CiAgICBqUXVlcnkuZm4uZXh0ZW5kKHsKICAgICAgICBvZmZzZXQ6IGZ1bm=
N0aW9uIChvcHRpb25zKSB7CiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgI=
CAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID8KICAgICAgICAgICAg=
ICAgICAgICB0aGlzIDoKICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGk=
pIHsKICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQodGhpcy=
wgb3B0aW9ucywgaSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgI=
CAgICAgICAgdmFyIHJlY3QsCiAgICAgICAgICAgICAgICB3aW4sCiAgICAgICAgICAgICAgICBl=
bGVtID0gdGhpc1swXTsKICAgICAgICAgICAgaWYgKCFlbGVtKSB7CiAgICAgICAgICAgICAgICB=
yZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFlbGVtLmdldENsaWVudFJlY3=
RzKCkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgI=
CAgIHRvcDogMCwKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwCiAgICAgICAgICAgICAgICB9=
OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW5=
0UmVjdCgpOwogICAgICAgICAgICB3aW4gPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZX=
c7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b3A6IHJlY3QudG9wICsgd=
2luLnBhZ2VZT2Zmc2V0LAogICAgICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgd2luLnBh=
Z2VYT2Zmc2V0CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBwb3NpdGlvbjogZnV=
uY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoIXRoaXNbMF0pIHsKICAgICAgICAgICAgICAgIH=
JldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50LAogICAgI=
CAgICAgICAgICAgb2Zmc2V0LAogICAgICAgICAgICAgICAgZG9jLAogICAgICAgICAgICAgICAg=
ZWxlbSA9IHRoaXNbMF0sCiAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSB7CiAgICAgICA=
gICAgICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAKICAgICAgIC=
AgICAgICAgIH07CiAgICAgICAgICAgIGlmIChqUXVlcnkuY3NzKGVsZW0sICJwb3NpdGlvbiIpI=
D09PSAiZml4ZWQiKSB7CiAgICAgICAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5n=
Q2xpZW50UmVjdCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb2Zmc2V=
0ID0gdGhpcy5vZmZzZXQoKTsKICAgICAgICAgICAgICAgIGRvYyA9IGVsZW0ub3duZXJEb2N1bW=
VudDsKICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IGVsZW0ub2Zmc2V0UGFyZW50IHx8I=
GRvYy5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0UGFyZW50=
ICYmIChvZmZzZXRQYXJlbnQgPT09IGRvYy5ib2R5IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jLmR=
vY3VtZW50RWxlbWVudCkgJiYgalF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsICJwb3NpdGlvbiIpID=
09PSAic3RhdGljIikgewogICAgICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNld=
FBhcmVudC5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYg=
KG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGVsZW0gJiYgb2Zmc2V0UGFyZW50Lm5=
vZGVUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0ID0galF1ZX=
J5KG9mZnNldFBhcmVudCkub2Zmc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50T2Zmc=
2V0LnRvcCArPSBqUXVlcnkuY3NzKG9mZnNldFBhcmVudCwgImJvcmRlclRvcFdpZHRoIiwgdHJ1=
ZSk7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyh=
vZmZzZXRQYXJlbnQsICJib3JkZXJMZWZ0V2lkdGgiLCB0cnVlKTsKICAgICAgICAgICAgICAgIH=
0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdG9wO=
iBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoZWxlbSwgIm1hcmdp=
blRvcCIsIHRydWUpLAogICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnR=
PZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoZWxlbSwgIm1hcmdpbkxlZnQiLCB0cnVlKQogICAgIC=
AgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbiAoKSB7C=
iAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg=
ICB2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7CiAgICAgICAgICAgICAgICB=
3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50LCAicG9zaXRpb2=
4iKSA9PT0gInN0YXRpYyIpIHsKICAgICAgICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZ=
mZzZXRQYXJlbnQub2Zmc2V0UGFyZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg=
ICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgICAgIH0=
pOwogICAgICAgIH0sCiAgICB9KTsKICAgIGpRdWVyeS5lYWNoKHsKICAgICAgICBzY3JvbGxMZW=
Z0OiAicGFnZVhPZmZzZXQiLAogICAgICAgIHNjcm9sbFRvcDogInBhZ2VZT2Zmc2V0IgogICAgf=
SwgZnVuY3Rpb24gKG1ldGhvZCwgcHJvcCkgewogICAgICAgIHZhciB0b3AgPSAicGFnZVlPZmZz=
ZXQiID09PSBwcm9wOwogICAgICAgIGpRdWVyeS5mblttZXRob2RdID0gZnVuY3Rpb24gKHZhbCk=
gewogICAgICAgICAgICByZXR1cm4gYWNjZXNzKAogICAgICAgICAgICAgICAgdGhpcywKICAgIC=
AgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCBtZXRob2QsIHZhbCkgewogICAgICAgICAgICAgI=
CAgICAgIHZhciB3aW47CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2luZG93KGVsZW0pKSB7=
CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbiA9IGVsZW07CiAgICAgICAgICAgICAgICAgICA=
gfSBlbHNlIGlmIChlbGVtLm5vZGVUeXBlID09PSA5KSB7CiAgICAgICAgICAgICAgICAgICAgIC=
AgIHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgI=
CAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAg=
ICAgICByZXR1cm4gd2luID8gd2luW3Byb3BdIDogZWxlbVttZXRob2RdOwogICAgICAgICAgICA=
gICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAod2luKSB7CiAgICAgICAgICAgICAgIC=
AgICAgICAgIHdpbi5zY3JvbGxUbyghdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LCB0b3AgP=
yB2YWwgOiB3aW4ucGFnZVlPZmZzZXQpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAg=
ICAgICAgICAgICAgICAgICAgICAgIGVsZW1bbWV0aG9kXSA9IHZhbDsKICAgICAgICAgICAgICA=
gICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWV0aG9kLAogICAgIC=
AgICAgICAgICAgdmFsLAogICAgICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aAogICAgICAgI=
CAgICApOwogICAgICAgIH07CiAgICB9KTsKICAgIGpRdWVyeS5lYWNoKFsidG9wIiwgImxlZnQi=
XSwgZnVuY3Rpb24gKF9pLCBwcm9wKSB7CiAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW3Byb3BdID0=
gYWRkR2V0SG9va0lmKHN1cHBvcnQucGl4ZWxQb3NpdGlvbiwgZnVuY3Rpb24gKGVsZW0sIGNvbX=
B1dGVkKSB7CiAgICAgICAgICAgIGlmIChjb21wdXRlZCkgewogICAgICAgICAgICAgICAgY29tc=
HV0ZWQgPSBjdXJDU1MoZWxlbSwgcHJvcCk7CiAgICAgICAgICAgICAgICByZXR1cm4gcm51bW5v=
bnB4LnRlc3QoY29tcHV0ZWQpID8galF1ZXJ5KGVsZW0pLnBvc2l0aW9uKClbcHJvcF0gKyAicHg=
iIDogY29tcHV0ZWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0pOwogICAgalF1ZX=
J5LmVhY2goewogICAgICAgIEhlaWdodDogImhlaWdodCIsCiAgICAgICAgV2lkdGg6ICJ3aWR0a=
CIKICAgIH0sIGZ1bmN0aW9uIChuYW1lLCB0eXBlKSB7CiAgICAgICAgalF1ZXJ5LmVhY2goewog=
ICAgICAgICAgICBwYWRkaW5nOiAiaW5uZXIiICsgbmFtZSwKICAgICAgICAgICAgY29udGVudDo=
gdHlwZSwKICAgICAgICAgICAgIiI6ICJvdXRlciIgKyBuYW1lCiAgICAgICAgfSwgZnVuY3Rpb2=
4gKGRlZmF1bHRFeHRyYSwgZnVuY05hbWUpIHsKICAgICAgICAgICAgalF1ZXJ5LmZuW2Z1bmNOY=
W1lXSA9IGZ1bmN0aW9uIChtYXJnaW4sIHZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YXIgY2hh=
aW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJ=
naW4gIT09ICJib29sZWFuIiksCiAgICAgICAgICAgICAgICAgICAgZXh0cmEgPSBkZWZhdWx0RX=
h0cmEgfHwgKG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/ICJtYXJnaW4iIDogI=
mJvcmRlciIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFjY2VzcygKICAgICAgICAgICAgICAg=
ICAgICB0aGlzLAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCB0eXBlLCB2YWx=
1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jOwogICAgICAgICAgICAgICAgIC=
AgICAgICBpZiAoaXNXaW5kb3coZWxlbSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgI=
HJldHVybiBmdW5jTmFtZS5pbmRleE9mKCJvdXRlciIpID09PSAwID8gZWxlbVsiaW5uZXIiICsg=
bmFtZV0gOiBlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IiArIG5hbWVdOwo=
gICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbG=
VtLm5vZGVUeXBlID09PSA5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBlb=
GVtLmRvY3VtZW50RWxlbWVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBN=
YXRoLm1heChlbGVtLmJvZHlbInNjcm9sbCIgKyBuYW1lXSwgZG9jWyJzY3JvbGwiICsgbmFtZV0=
sIGVsZW0uYm9keVsib2Zmc2V0IiArIG5hbWVdLCBkb2NbIm9mZnNldCIgKyBuYW1lXSwgZG9jWy=
JjbGllbnQiICsgbmFtZV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgI=
CAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8galF1ZXJ5LmNzcyhlbGVt=
LCB0eXBlLCBleHRyYSkgOiBqUXVlcnkuc3R5bGUoZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhKTs=
KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHR5cGUsCiAgICAgIC=
AgICAgICAgICAgICAgY2hhaW5hYmxlID8gbWFyZ2luIDogdW5kZWZpbmVkLAogICAgICAgICAgI=
CAgICAgICAgIGNoYWluYWJsZQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfTsKICAg=
ICAgICB9KTsKICAgIH0pOwogICAgalF1ZXJ5LmVhY2goWyJhamF4U3RhcnQiLCAiYWpheFN0b3A=
iLCAiYWpheENvbXBsZXRlIiwgImFqYXhFcnJvciIsICJhamF4U3VjY2VzcyIsICJhamF4U2VuZC=
JdLCBmdW5jdGlvbiAoX2ksIHR5cGUpIHsKICAgICAgICBqUXVlcnkuZm5bdHlwZV0gPSBmdW5jd=
GlvbiAoZm4pIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMub24odHlwZSwgZm4pOwogICAgICAg=
IH07CiAgICB9KTsKICAgIGpRdWVyeS5mbi5leHRlbmQoewogICAgICAgIGJpbmQ6IGZ1bmN0aW9=
uICh0eXBlcywgZGF0YSwgZm4pIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMub24odHlwZXMsIG=
51bGwsIGRhdGEsIGZuKTsKICAgICAgICB9LAogICAgICAgIHVuYmluZDogZnVuY3Rpb24gKHR5c=
GVzLCBmbikgewogICAgICAgICAgICByZXR1cm4gdGhpcy5vZmYodHlwZXMsIG51bGwsIGZuKTsK=
ICAgICAgICB9LAogICAgICAgIGRlbGVnYXRlOiBmdW5jdGlvbiAoc2VsZWN0b3IsIHR5cGVzLCB=
kYXRhLCBmbikgewogICAgICAgICAgICByZXR1cm4gdGhpcy5vbih0eXBlcywgc2VsZWN0b3IsIG=
RhdGEsIGZuKTsKICAgICAgICB9LAogICAgICAgIHVuZGVsZWdhdGU6IGZ1bmN0aW9uIChzZWxlY=
3RvciwgdHlwZXMsIGZuKSB7CiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09=
PSAxID8gdGhpcy5vZmYoc2VsZWN0b3IsICIqKiIpIDogdGhpcy5vZmYodHlwZXMsIHNlbGVjdG9=
yIHx8ICIqKiIsIGZuKTsKICAgICAgICB9LAogICAgICAgIGhvdmVyOiBmdW5jdGlvbiAoZm5Pdm=
VyLCBmbk91dCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5tb3VzZWVudGVyKGZuT3Zlcikub=
W91c2VsZWF2ZShmbk91dCB8fCBmbk92ZXIpOwogICAgICAgIH0sCiAgICB9KTsKICAgIGpRdWVy=
eS5lYWNoKCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2s=
gZGJsY2xpY2sgIiArICJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdX=
Nlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSAiICsgImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtle=
WRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiKS5zcGxpdCgiICIpLCBmdW5jdGlvbiAo=
X2ksIG5hbWUpIHsKICAgICAgICBqUXVlcnkuZm5bbmFtZV0gPSBmdW5jdGlvbiAoZGF0YSwgZm4=
pIHsKICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID8gdGhpcy5vbihuYW=
1lLCBudWxsLCBkYXRhLCBmbikgOiB0aGlzLnRyaWdnZXIobmFtZSk7CiAgICAgICAgfTsKICAgI=
H0pOwogICAgdmFyIHJ0cmltID0gL15bXHNcdUZFRkZceEEwXSt8KFteXHNcdUZFRkZceEEwXSlb=
XHNcdUZFRkZceEEwXSskL2c7CiAgICBqUXVlcnkucHJveHkgPSBmdW5jdGlvbiAoZm4sIGNvbnR=
leHQpIHsKICAgICAgICB2YXIgdG1wLCBhcmdzLCBwcm94eTsKICAgICAgICBpZiAodHlwZW9mIG=
NvbnRleHQgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIHRtcCA9IGZuW2NvbnRleHRdOwogI=
CAgICAgICAgICBjb250ZXh0ID0gZm47CiAgICAgICAgICAgIGZuID0gdG1wOwogICAgICAgIH0K=
ICAgICAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7CiAgICAgICAgICAgIHJldHVybiB1bmRlZml=
uZWQ7CiAgICAgICAgfQogICAgICAgIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7Ci=
AgICAgICAgcHJveHkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBmbi5hcHBse=
Shjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpOwog=
ICAgICAgIH07CiAgICAgICAgcHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWV=
yeS5ndWlkKys7CiAgICAgICAgcmV0dXJuIHByb3h5OwogICAgfTsKICAgIGpRdWVyeS5ob2xkUm=
VhZHkgPSBmdW5jdGlvbiAoaG9sZCkgewogICAgICAgIGlmIChob2xkKSB7CiAgICAgICAgICAgI=
GpRdWVyeS5yZWFkeVdhaXQrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBqUXVlcnku=
cmVhZHkodHJ1ZSk7CiAgICAgICAgfQogICAgfTsKICAgIGpRdWVyeS5pc0FycmF5ID0gQXJyYXk=
uaXNBcnJheTsKICAgIGpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlOwogICAgalF1ZXJ5Lm=
5vZGVOYW1lID0gbm9kZU5hbWU7CiAgICBqUXVlcnkuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247C=
iAgICBqUXVlcnkuaXNXaW5kb3cgPSBpc1dpbmRvdzsKICAgIGpRdWVyeS5jYW1lbENhc2UgPSBj=
YW1lbENhc2U7CiAgICBqUXVlcnkudHlwZSA9IHRvVHlwZTsKICAgIGpRdWVyeS5ub3cgPSBEYXR=
lLm5vdzsKICAgIGpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgdm=
FyIHR5cGUgPSBqUXVlcnkudHlwZShvYmopOwogICAgICAgIHJldHVybiAodHlwZSA9PT0gIm51b=
WJlciIgfHwgdHlwZSA9PT0gInN0cmluZyIpICYmICFpc05hTihvYmogLSBwYXJzZUZsb2F0KG9i=
aikpOwogICAgfTsKICAgIGpRdWVyeS50cmltID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB=
yZXR1cm4gdGV4dCA9PSBudWxsID8gIiIgOiAodGV4dCArICIiKS5yZXBsYWNlKHJ0cmltLCAiJD=
EiKTsKICAgIH07CiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gImZ1bmN0aW9uIiAmJiBkZWZpb=
mUuYW1kKSB7CiAgICAgICAgZGVmaW5lKCJqcXVlcnkiLCBbXSwgZnVuY3Rpb24gKCkgewogICAg=
ICAgICAgICByZXR1cm4galF1ZXJ5OwogICAgICAgIH0pOwogICAgfQogICAgdmFyIF9qUXVlcnk=
gPSB3aW5kb3cualF1ZXJ5LAogICAgICAgIF8kID0gd2luZG93LiQ7CiAgICBqUXVlcnkubm9Db2=
5mbGljdCA9IGZ1bmN0aW9uIChkZWVwKSB7CiAgICAgICAgaWYgKHdpbmRvdy4kID09PSBqUXVlc=
nkpIHsKICAgICAgICAgICAgd2luZG93LiQgPSBfJDsKICAgICAgICB9CiAgICAgICAgaWYgKGRl=
ZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXV=
lcnkgPSBfalF1ZXJ5OwogICAgICAgIH0KICAgICAgICByZXR1cm4galF1ZXJ5OwogICAgfTsKIC=
AgIGlmICh0eXBlb2Ygbm9HbG9iYWwgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgd2luZG93L=
mpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5OwogICAgfQogICAgcmV0dXJuIGpRdWVyeTsKfSk7=
"},{"meta":{"name":"global_module.js","url":"https://greasyfork.org/scripts=
/464780-global-module/code/global_module.js","ts":1707664526611,"mimetype":=
"text/javascript"},"source":"Y2xhc3MgZ2xvYmFsX21vZHVsZSB7CiAgICBzdGF0aWMgVX=
JsQ2FjaGUgPSB7fTsKCiAgICAvKioKICAgICAqCiAgICAgKiBAcGFyYW0geyp9IHNlbGVjdG9yI=
Oebruagh+WFg+e0oOmAieaLqeWZqAogICAgICogQHBhcmFtIHsqfSBpZnJhbWUgIOWPr+mAiS1p=
ZnJhbWXpgInmi6nlmagg5Y+v5Lul5piv5a2X56ym5Liy6YCJ5oup5Zmo5oiW6ICF5YWD57SgCiA=
gICAgKiBAcGFyYW0geyp9IGNhbGxiYWNrIOWPr+mAiS3lm57osIPlh73mlbAKICAgICAqIEBwYX=
JhbSB7Kn0gdGltZSAg5Y+v6YCJLeavj+asoeafpeivoumXtOmalOaXtumXtAogICAgICogQHBhc=
mFtIHsqfSB0aW1lb3V0ICDlj6/pgIkt6LaF5pe25pe26Ze0CiAgICAgKiBAcGFyYW0geyp9IGJh=
c2VFbGVtZW50ICDlj6/pgIkt5Z+656GA5YWD57SgIOWPr+S7peaYr+Wtl+espuS4sumAieaLqeW=
ZqOaIluiAheWFg+e0oAogICAgICogQHJldHVybnMKICAgICAqLwogICAgc3RhdGljIGFzeW5jIH=
dhaXRGb3JFbGVtZW50KHNlbGVjdG9ycywgaWZyYW1lID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsL=
CB0aW1lID0gMTAwLCB0aW1lb3V0ID0gMTAwMCAqIDMwLCBiYXNlRWxlbWVudCA9IG51bGwsIGlu=
ZGV4ID0gbnVsbCwgaXNXcmFwcGVkID0gdHJ1ZSkgewogICAgICAgIGlmICh0aW1lID09IG51bGw=
pIHsKICAgICAgICAgICAgdGltZSA9IDEwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHRpbWVvdX=
QgPT0gbnVsbCkgewogICAgICAgICAgICB0aW1lb3V0ID0gMTAwMCAqIDMwOwogICAgICAgIH0KI=
CAgICAgICBpZiAoaXNXcmFwcGVkID09IG51bGwpIHsKICAgICAgICAgICAgaXNXcmFwcGVkID0g=
dHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZ=
lKSA9PiB7CiAgICAgICAgICAgIGxldCBzdGFydFRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIC=
AgICBsZXQgaWZyYW1lRWxlbWVudCwKICAgICAgICAgICAgICAgIGJhc2UsCiAgICAgICAgICAgI=
CAgICBlbGVtZW50cyA9IFtdOwogICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9ycyA9PT0g=
J3N0cmluZycpIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9ycyA9IFtzZWxlY3RvcnNdOwogICA=
gICAgICAgICB9CiAgICAgICAgICAgIGlmIChpZnJhbWUpIHsKICAgICAgICAgICAgICAgIHRyeS=
B7CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lRWxlbWVudCA9IGlmcmFtZS5nZXRBdHRyaWJ1d=
GUoJ2lkJyk7CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lRWxlbWVudCA9IGlmcmFtZTsKICAg=
ICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9=
mIGlmcmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lRW=
xlbWVudCA9IGF3YWl0IGdsb2JhbF9tb2R1bGUud2FpdEZvckVsZW1lbnQoaWZyYW1lKTsKICAgI=
CAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVF=
bGVtZW50ID0gaWZyYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0=
KICAgICAgICAgICAgICAgIGlmICghaWZyYW1lRWxlbWVudCkgewogICAgICAgICAgICAgICAgIC=
AgIHJlc29sdmUobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgI=
CAgICAgfQogICAgICAgICAgICAgICAgZm9yIChsZXQgc2VsZWN0b3Igb2Ygc2VsZWN0b3JzKSB7=
CiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kRWxlbWVudHMgPSBpc1dyYXBwZWQgPyAkKGl=
mcmFtZUVsZW1lbnQpLmNvbnRlbnRzKCkuZmluZChzZWxlY3RvcikgOiBpZnJhbWVFbGVtZW50Lm=
NvbnRlbnREb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsKICAgICAgICAgICAgI=
CAgICAgICBpZiAoZm91bmRFbGVtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAg=
ICAgICAgIGVsZW1lbnRzID0gZm91bmRFbGVtZW50czsKICAgICAgICAgICAgICAgICAgICAgICA=
gYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgIC=
AgICB9IGVsc2UgaWYgKGJhc2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgI=
CAgICAgICAgICAgICAgIGJhc2UgPSBiYXNlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk7CiAg=
ICAgICAgICAgICAgICAgICAgYmFzZSA9IGJhc2VFbGVtZW50OwogICAgICAgICAgICAgICAgfSB=
jYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmFzZUVsZW1lbnQgPT=
09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UgPSBhd2FpdCBnbG9iY=
WxfbW9kdWxlLndhaXRGb3JFbGVtZW50KGJhc2VFbGVtZW50KTsKICAgICAgICAgICAgICAgICAg=
ICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBiYXNlID0gYmFzZUVsZW1lbnQ7CiA=
gICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW=
YgKCFiYXNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsKICAgICAgICAgI=
CAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3Ig=
KGxldCBzZWxlY3RvciBvZiBzZWxlY3RvcnMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZm9=
1bmRFbGVtZW50cyA9IGlzV3JhcHBlZCA/IGJhc2UuZmluZChzZWxlY3RvcikgOiBiYXNlWzBdLn=
F1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZ=
EVsZW1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMg=
PSBmb3VuZEVsZW1lbnRzOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICA=
gICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgIC=
AgICAgICAgICAgICBmb3IgKGxldCBzZWxlY3RvciBvZiBzZWxlY3RvcnMpIHsKICAgICAgICAgI=
CAgICAgICAgICBsZXQgZm91bmRFbGVtZW50cyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAg=
dHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRFbGVtZW50cyA9IGRvY3VtZW50LnF=
1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKG=
UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRFbGVtZW50cyA9ICQoc2VsZWN0b3IpO=
wogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRFbGVtZW50cy5sZW5ndGggIT0gMCkg=
ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRFbGVtZW50cyA9IFtmb3VuZEVsZW1=
lbnRzLmVxKDApWzBdXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC=
AgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRFbGVtZW50cy5sZW5ndGggPiAwK=
SB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzID0gZm91bmRFbGVtZW50czsKICAg=
ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICA=
gICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaW5kZXggIT0gbnVsbC=
kgewogICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50c1tpbmRleF07CiAgICAgICAgI=
CAgICAgICBpZiAoIWVsZW1lbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxs=
KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICA=
gICAgIH0KCiAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgIC=
AgICAgICBpZiAoaXNXcmFwcGVkKSB7CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSAkK=
GVsZW1lbnRzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjYWxsYmFj=
aykgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnRzKTsKICAgICAgICAgICA=
gICAgIH0KICAgICAgICAgICAgICAgIHJlc29sdmUoZWxlbWVudHMpOwogICAgICAgICAgICB9IG=
Vsc2UgewogICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT09IC0xICYmIERhdGUubm93KCkgL=
SBzdGFydFRpbWUgPj0gdGltZW91dCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVs=
bCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICA=
gICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcm=
Vzb2x2ZShhd2FpdCBnbG9iYWxfbW9kdWxlLndhaXRGb3JFbGVtZW50KHNlbGVjdG9ycywgaWZyY=
W1lLCBjYWxsYmFjaywgdGltZSwgdGltZW91dCwgYmFzZUVsZW1lbnQsIGluZGV4LCBpc1dyYXBw=
ZWQpKTsKICAgICAgICAgICAgICAgIH0sIHRpbWUpOwogICAgICAgICAgICB9CiAgICAgICAgfSk=
7CiAgICB9CgogICAgc3RhdGljIGNvcHlUZXh0KHRleHQpIHsKICAgICAgICBsZXQgdGV4dGFyZW=
EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOwogICAgICAgIHRleHRhcmVhL=
nZhbHVlID0gdGV4dDsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVh=
KTsKICAgICAgICB0ZXh0YXJlYS5zZWxlY3QoKTsKICAgICAgICBkb2N1bWVudC5leGVjQ29tbWF=
uZCgnY29weScpOwogICAgICAgIHRleHRhcmVhLnJlbW92ZSgpOwogICAgfQoKICAgIHN0YXRpYy=
BzdHJpcEh0bWxUYWdzKGh0bWwpIHsKICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88W14+X=
Ss+L2csICcnKTsKICAgIH0KCiAgICBzdGF0aWMgYXN5bmMgSHR0cChvKSB7CiAgICAgICAgcmV0=
dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgbyA=
9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG8gIT09ICdvYmplY3QnIHx8IHR5cGVvZiBvLnVybC=
A9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7CiAgICAgI=
CAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGVvZiBvLm1ldGhvZCA9PT0gJ3VuZGVmaW5lZCcp=
IHsKICAgICAgICAgICAgICAgIG8ubWV0aG9kID0gJ0dFVCc7CiAgICAgICAgICAgIH0KICAgICA=
gICAgICAgaWYgKHR5cGVvZiBvLmhlYWRlcnMgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgIC=
AgICAgICBvLmhlYWRlcnMgPSB7fTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZ=
W9mIG8uZGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIG8uZGF0YSA9ICcn=
OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0eXBlb2Ygby50aW1lb3V0ID09PSAndW5=
kZWZpbmVkJykgewogICAgICAgICAgICAgICAgby50aW1lb3V0ID0gMTAwMDA7CiAgICAgICAgIC=
AgIH0KICAgICAgICAgICAgbGV0IHJlcyA9IHsgY29kZTogMCwgcmV0OiBudWxsIH07CiAgICAgI=
CAgICAgIGlmICghR01feG1saHR0cFJlcXVlc3QpIHsKICAgICAgICAgICAgICAgIGxldCB4aHIg=
PSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIHhoci5vcGVuKG8ubWV0aG9=
kLCBvLnVybCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIG8uaGVhZGVycy=
kgewogICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGksIG8uaGVhZGVyc=
1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB4aHIudGltZW91dCA9IG8u=
dGltZW91dDsKICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICA=
gICAgICAgICAgICAgICAgcmVzLmNvZGUgPSB4aHIuc3RhdHVzOwogICAgICAgICAgICAgICAgIC=
AgIHJlcy5yZXQgPSB4aHIucmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZ=
XMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVu=
Y3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIHJlcy5jb2RlID0gLTE7CiAgICAgICA=
gICAgICAgICAgICAgcmVzLnJldCA9IGVycjsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKH=
Jlcyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgeGhyLnNlbmQoby5kYXRhK=
TsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0=
KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG8ubWV0aG9kLAogICAgICAgICAgICAgICA=
gICAgIHVybDogby51cmwsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogby5oZWFkZXJzLA=
ogICAgICAgICAgICAgICAgICAgIGRhdGE6IG8uZGF0YSwKICAgICAgICAgICAgICAgICAgICB0a=
W1lb3V0OiBvLnRpbWVvdXQsCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAo=
cmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmNvZGUgPSByZXNwb25zZS5=
zdGF0dXM7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZXQgPSByZXNwb25zZTsKICAgIC=
AgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgICAgICAgICAgICAgIH0sC=
iAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKGVycikgewogICAgICAgICAg=
ICAgICAgICAgICAgICByZXMuY29kZSA9IC0xOwogICAgICAgICAgICAgICAgICAgICAgICByZXM=
ucmV0ID0gZXJyOwogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgIC=
AgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgI=
CB9KTsKICAgIH0KCiAgICBzdGF0aWMgYXN5bmMgQWpheF9YaHIodXJsLCBXYXksIGRhdGEpIHsK=
ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICA=
gICAgbGV0IGggPSBbJ2h0bWwnLCAndHh0JywgJ2pzb24nLCAneG1sJywgJ2pzJywgJ2NzcyddOw=
ogICAgICAgICAgICBpZiAoZ2xvYmFsX21vZHVsZS5VcmxDYWNoZVt1cmxdID09IG51bGwpIHsKI=
CAgICAgICAgICAgICAgIGlmIChoLmluZGV4T2YoV2F5KSA9PSAtMSkgewogICAgICAgICAgICAg=
ICAgICAgIFdheSA9ICdHRVQnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV=
0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgeGhyLm9wZW4oV2=
F5LCB1cmwsIHRydWUpOwogICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9I=
GZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0g=
NCAmJiB4aHIuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV=
0ID0geGhyLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSB1cm=
w7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmluZGV4T2YoJz8nKSAhPSAtMSkgcCA9I=
HAuc3Vic3RyaW5nKDAsIHAuaW5kZXhPZignPycpKTsKICAgICAgICAgICAgICAgICAgICAgICAg=
cCA9IHAuc3Vic3RyaW5nKHAubGFzdEluZGV4T2YoJy4nKSArIDEpOwogICAgICAgICAgICAgICA=
gICAgICAgICBpZiAoaC5pbmRleE9mKHApICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICBnbG9iYWxfbW9kdWxlLlVybENhY2hlW3VybF0gPSByZXQ7CiAgICAgICAgICAgICAgI=
CAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXQpOwogICAgICAg=
ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICA=
gICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB4aHIuc2VuZChkYXRhKTsKICAgICAgICAgIC=
AgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlc29sdmUoZ2xvYmFsX21vZHVsZS5VcmxDYWNoZ=
Vt1cmxdKTsKICAgICAgICAgICAgICAgIHJldHVybiBnbG9iYWxfbW9kdWxlLlVybENhY2hlW3Vy=
bF07CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiA=
ocmVzdWx0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9KQ=
ogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb=
25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgfQoKICAgIHN0YXRpYyBkZWNv=
ZGVIdG1sRW50aXRpZXMoaHRtbFN0cmluZyA9ICcnKSB7CiAgICAgICAgdmFyIHRlbXBFbGVtZW5=
0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdGVtcEVsZW1lbnQuaW=
5uZXJIVE1MID0gaHRtbFN0cmluZzsKICAgICAgICByZXR1cm4gdGVtcEVsZW1lbnQudGV4dENvb=
nRlbnQ7CiAgICB9CgogICAgc3RhdGljIEdldFVybFBhcm0oaHJlZiA9IG51bGwsIG5hbWUpIHsK=
ICAgICAgICBpZiAoaHJlZiA9PSBudWxsKSB7CiAgICAgICAgICAgIGhyZWYgPSBsb2NhdGlvbi5=
ocmVmOwogICAgICAgIH0KICAgICAgICBsZXQgcGFybXMgPSBocmVmLnN1YnN0cmluZyhocmVmLm=
luZGV4T2YoJz8nKSArIDEpOwogICAgICAgIGxldCByZWcgPSBuZXcgUmVnRXhwKCcoXnwmKScgK=
yBuYW1lICsgJz0oW14mXSopKCZ8JCknKTsKICAgICAgICBsZXQgciA9IHBhcm1zLm1hdGNoKHJl=
Zyk7CiAgICAgICAgaWYgKHIgIT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJ=
JQ29tcG9uZW50KHJbMl0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCi=
AgICBzdGF0aWMgZG93bmxvYWRTdmdBc1BuZyhzdmcsIGZpbGVuYW1lKSB7CiAgICAgICAgdmFyI=
GNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIHZhciBj=
b250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgdmFyIHN2Z1JlY3QgPSB=
zdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIHdpZHRoID0gc3ZnUmVjdC=
53aWR0aDsKICAgICAgICB2YXIgaGVpZ2h0ID0gc3ZnUmVjdC5oZWlnaHQ7CiAgICAgICAgY2Fud=
mFzLndpZHRoID0gd2lkdGg7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAg=
ICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKICAgICAgICB2YXIgc3ZnRGF0YSA9IG5ldyBYTUx=
TZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoc3ZnKTsKICAgICAgICB2YXIgc3ZnVXJsID=
0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lb=
nQoc3ZnRGF0YSk7CiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAg=
ICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgICA=
gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIC=
AgICBsaW5rLmhyZWYgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKICAgICAgICAgI=
CAgbGluay5kb3dubG9hZCA9IGZpbGVuYW1lOwogICAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAg=
ICAgICAgICAgIGNhbnZhcyA9IG51bGw7CiAgICAgICAgfTsKICAgICAgICBpbWFnZS5zcmMgPSB=
zdmdVcmw7CiAgICB9CgogICAgc3RhdGljIFNldFVybFBhcm0oaHJlZiwgbmFtZSwgdmFsdWUpIH=
sKICAgICAgICBpZiAoaHJlZiA9PSBudWxsIHx8IGhyZWYgPT0gJycpIHsKICAgICAgICAgICAga=
HJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgfQogICAgICAgIGxldCBpbmRleCA9IGhyZWYu=
aW5kZXhPZignPycpOwogICAgICAgIGlmIChpbmRleCA9PSAtMSkgewogICAgICAgICAgICBocmV=
mICs9ICc/JyArIG5hbWUgKyAnPScgKyB2YWx1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgIC=
AgICBsZXQgcGFybXMgPSBocmVmLnN1YnN0cmluZyhocmVmLmluZGV4T2YoJz8nKSArIDEpOwogI=
CAgICAgICAgICBsZXQgcmVnID0gbmV3IFJlZ0V4cCgnKF58JiknICsgbmFtZSArICc9KFteJl0q=
KSgmfCQpJyk7CiAgICAgICAgICAgIGxldCByID0gcGFybXMubWF0Y2gocmVnKTsKICAgICAgICA=
gICAgaWYgKHIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaHJlZiA9IGhyZWYucmVwbGFjZS=
hyWzBdLCByWzBdLnJlcGxhY2UoclsyXSwgdmFsdWUpKTsKICAgICAgICAgICAgfSBlbHNlIHsKI=
CAgICAgICAgICAgICAgIGhyZWYgKz0gJyYnICsgbmFtZSArICc9JyArIHZhbHVlOwogICAgICAg=
ICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBocmVmOwogICAgfQoKICAgIC8vIOaguea=
NruaJqeWxleWQjeW8leWFpWpz5oiWY3NzCiAgICBzdGF0aWMgYXN5bmMgTG9hZEpzT3JDc3ModX=
JsLCBzY3JpcHRTdHIgPSAnJykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvb=
iAocmVzb2x2ZSkgewogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cmwpKSB7CiAgICAg=
ICAgICAgICAgICBsZXQgY291bnQgPSAwOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA=
7IGkgPCB1cmwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBnbG9iYWxfbW9kdW=
xlLkxvYWRKc09yQ3NzKHVybFtpXSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgI=
CAgIGNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PSB1cmwubGVu=
Z3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICA=
gICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH=
0KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgc=
CA9IHVybDsKICAgICAgICAgICAgbGV0IHMgPSAwOwogICAgICAgICAgICBpZiAocC5pbmRleE9m=
KCc/JykgIT0gLTEpIHAgPSBwLnN1YnN0cmluZygwLCBwLmluZGV4T2YoJz8nKSk7CiAgICAgICA=
gICAgIHAgPSBwLnN1YnN0cmluZyhwLmxhc3RJbmRleE9mKCcuJykgKyAxKTsKICAgICAgICAgIC=
AgbGV0IHQ7CiAgICAgICAgICAgIGlmIChwID09ICdqcycpIHsKICAgICAgICAgICAgICAgIGxld=
CBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICAgICAg=
ICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7CiAgICAgICAgICAgICAgICBzY3J=
pcHQuaWQgPSB1cmw7CiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0U3RyID09ICcnKSB7CiAgIC=
AgICAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDsKICAgICAgICAgICAgICAgIH0gZWxzZ=
SB7CiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LmlubmVySFRNTCA9IHNjcmlwdFN0cjsKICAg=
ICAgICAgICAgICAgICAgICBzID0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICA=
gIHQgPSBzY3JpcHQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocCA9PSAnY3NzJykgewogICAgIC=
AgICAgICAgICAgaWYgKHNjcmlwdFN0ciA9PSAnJykgewogICAgICAgICAgICAgICAgICAgIGxld=
CBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICAgICAgICAgICAg=
ICAgIGxpbmsuaHJlZiA9IHVybDsKICAgICAgICAgICAgICAgICAgICBsaW5rLnR5cGUgPSAndGV=
4dC9jc3MnOwogICAgICAgICAgICAgICAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnOwogIC=
AgICAgICAgICAgICAgICAgIGxpbmsuaWQgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgdCA9I=
Gxpbms7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCBz=
dHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgICAgICA=
gICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW=
QgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gc2NyaXB0U3RyO=
wogICAgICAgICAgICAgICAgICAgIHQgPSBzdHlsZTsKICAgICAgICAgICAgICAgICAgICBzID0g=
MTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodCAhPSB=
udWxsKSB7CiAgICAgICAgICAgICAgICB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgIC=
AgICAgICAgICAgICByZXNvbHZlKHQpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgf=
SBlbHNlIHsKICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7CiAgICAgICAgICAgIH0KICAg=
ICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWd=
OYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQodCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIH=
sKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFwcGVuZENoaWxkKHQpOwogICAgICAgICAgICB9C=
iAgICAgICAgICAgIGlmIChzICE9IDApIHsKICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7=
CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocik=
gewogICAgICAgICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC=
5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgI=
CAgICAgICAgIH0pOwogICAgfQoKICAgIHN0YXRpYyBSZW1vdmVKc09yQ3NzKHVybCkgewogICAg=
ICAgICQoIltpZD0nIiArIHVybCArICInXSIpLnJlbW92ZSgpOwogICAgfQoKICAgIHN0YXRpYyB=
JZnJhbWVJbmplY3RTY3JpcHQoZWxlbWVudCwgdHlwZSA9ICdqcycsIFN0cikgewogICAgICAgIG=
xldCBEb20gPSAkKGVsZW1lbnQpLmNvbnRlbnRzKCkuZmluZCgnYm9keScpOwogICAgICAgIGlmI=
Ch0eXBlID09ICdqcycpIHsKICAgICAgICAgICAgJChlbGVtZW50KVswXS5jb250ZW50V2luZG93=
LndpbmRvdy5ldmFsKFN0cik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdjc3MnKSB7CiA=
gICAgICAgICAgIERvbS5hcHBlbmQoJzxzdHlsZT4nICsgU3RyICsgJzwvc3R5bGU+Jyk7CiAgIC=
AgICAgfQogICAgfQoKICAgIHN0YXRpYyBhc3luYyB3YWl0UGFnZUxvYWQoKSB7CiAgICAgICAgc=
mV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIGlmIChk=
b2N1bWVudC5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpIHsKICAgICAgICAgICAgICAgIHJlc29=
sdmUoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBTID0gc2V0SW=
50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZ=
WFkeVN0YXRlID09ICdjb21wbGV0ZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJ=
bnRlcnZhbChTKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgIH0KICAgIC=
AgICB9KTsKICAgIH0KCiAgICBzdGF0aWMgSE9PS0Z1bmN0aW9uKGZ1biwgYmVmb3JlLCBhZnRlc=
ikgewogICAgICAgIGlmICh0eXBlb2YgZnVuID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHJl=
dHVybiAnSE9PS+eahOWvueixoeW/hemhu+aYr+WHveaVsCc7CiAgICAgICAgfQogICAgICAgIGx=
ldCBvbGQgPSBmdW47CiAgICAgICAgZnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZi=
AodHlwZW9mIGJlZm9yZSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICBiZWZvcmUoK=
TsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gb2xkLmFwcGx5KHRoaXMs=
IGFyZ3VtZW50cyk7CiAgICAgICAgICAgIGlmICh0eXBlb2YgYWZ0ZXIgPT0gJ2Z1bmN0aW9uJyk=
gewogICAgICAgICAgICAgICAgYWZ0ZXIoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZX=
R1cm4gcmVzdWx0OwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGZ1bjsKICAgIH0KCiAgICBzd=
GF0aWMgZ2V0UGFyZW50Rm9sZGVyUGF0aChmaWxlUGF0aCkgewogICAgICAgIHZhciBwYXRoU2Vw=
YXJhdG9yOwogICAgICAgIGlmIChmaWxlUGF0aC5pbmRleE9mKCcvJykgIT09IC0xKSB7CiAgICA=
gICAgICAgIHBhdGhTZXBhcmF0b3IgPSAnLyc7CiAgICAgICAgfSBlbHNlIGlmIChmaWxlUGF0aC=
5pbmRleE9mKCdcXCcpICE9PSAtMSkgewogICAgICAgICAgICBwYXRoU2VwYXJhdG9yID0gJ1xcJ=
zsKICAgICAgICB9IGVsc2UgaWYgKGZpbGVQYXRoLmluZGV4T2YoJ1xcXFwnKSAhPT0gLTEpIHsK=
ICAgICAgICAgICAgcGF0aFNlcGFyYXRvciA9ICdcXFxcJzsKICAgICAgICB9CiAgICAgICAgdmF=
yIHBhcnRzID0gZmlsZVBhdGguc3BsaXQocGF0aFNlcGFyYXRvcik7CiAgICAgICAgcGFydHMucG=
9wKCk7CiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4ocGF0aFNlcGFyYXRvcik7CiAgICB9CgogI=
CAgc3RhdGljIFJhbmRvbUlQKCkgewogICAgICAgIGxldCBpcCA9ICcnOwogICAgICAgIGZvciAo=
bGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgIGlwICs9IE1hdGguZmxvb3IoTWF=
0aC5yYW5kb20oKSAqIDI1NSkgKyAnLic7CiAgICAgICAgfQogICAgICAgIGlwID0gaXAuc3Vic3=
RyaW5nKDAsIGlwLmxlbmd0aCAtIDEpOwogICAgICAgIHJldHVybiBpcDsKICAgIH0KCiAgICBzd=
GF0aWMgUmFuZG9tSVBIZWFkZXIoKSB7CiAgICAgICAgbGV0IGlwID0gdGhpcy5SYW5kb21JUCgp=
OwogICAgICAgIGxldCBoZWFkZXIgPSB7CiAgICAgICAgICAgICdYLUZvcndhcmRlZC1Gb3InOiB=
pcCwKICAgICAgICAgICAgJ1gtT3JpZ2luYXRpbmctSVAnOiBpcCwKICAgICAgICAgICAgJ1gtUm=
Vtb3RlLUFkZHInOiBpcCwKICAgICAgICAgICAgJ1gtUmVtb3RlLUlQJzogaXAKICAgICAgICB9O=
wogICAgICAgIHJldHVybiBoZWFkZXI7CiAgICB9CgogICAgc3RhdGljIE1vdmVFbGVtZW50KG9i=
aiwgR29Ub1gsIHNwZWVkID0gMTAsIHNjb3BlID0gbnVsbCkgewogICAgICAgIHJldHVybiBuZXc=
gUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4gewogICAgICAgICAgICBpZiAob2JqID09IG51bG=
wpIHsKICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOwogICAgICAgICAgICAgICAgcmV0d=
XJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChvYmoubGVuZ3RoID4gMCkgb2JqID0g=
b2JqWzBdOwogICAgICAgICAgICBsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW9=
1c2VFdmVudHMnKTsKICAgICAgICAgICAgaWYgKHNjb3BlID09IG51bGwpIHsKICAgICAgICAgIC=
AgICAgIHNjb3BlID0gd2luZG93OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV2ZW50Lmlua=
XRNb3VzZUV2ZW50KCdtb3VzZWRvd24nLCB0cnVlLCB0cnVlLCBzY29wZSwgMCwgMCwgMCwgMCwg=
MCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpOwogICAgICAgICAgICBvYmo=
uZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgICAgIGxldCB4ID0gMDsKICAgICAgICAgIC=
AgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAge=
CArPSA1OwogICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQo=
J01vdXNlRXZlbnRzJyk7CiAgICAgICAgICAgICAgICBldmVudC5pbml0TW91c2VFdmVudCgnbW9=
1c2Vtb3ZlJywgdHJ1ZSwgdHJ1ZSwgc2NvcGUsIDAsIDAsIDAsIHgsIDAsIGZhbHNlLCBmYWxzZS=
wgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTsKICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaEV2Z=
W50KGV2ZW50KTsKICAgICAgICAgICAgICAgIGlmICh4ID49IEdvVG9YKSB7CiAgICAgICAgICAg=
ICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICAgICAgbGV0IGV=
2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7CiAgICAgICAgICAgIC=
AgICAgICAgZXZlbnQuaW5pdE1vdXNlRXZlbnQoJ21vdXNldXAnLCB0cnVlLCB0cnVlLCBzY29wZ=
SwgMCwgMCwgMCwgMjYwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7=
CiAgICAgICAgICAgICAgICAgICAgb2JqLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgICA=
gICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH=
0sIHNwZWVkKTsKICAgICAgICB9KTsKICAgIH0KCiAgICBzdGF0aWMgY2xpY2tFbGVtZW50KGVsZ=
W1lbnQpIHsKICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAg=
ICAgbGV0IEV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7CiAgICA=
gICAgRXZlbnQuaW5pdEV2ZW50KCdjbGljaycsIHRydWUsIHRydWUpOwogICAgICAgIGVsZW1lbn=
QuZGlzcGF0Y2hFdmVudChFdmVudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgc=
3RhdGljIGdldExheWVyZWxlbWVudChsYXllcmkpIHsKICAgICAgICByZXR1cm4gJCgiZGl2W2lk=
Xj0nbGF5dWktbGF5ZXIiICsgbGF5ZXJpICsgIiddW3R5cGVdW3RpbWVzPSciICsgbGF5ZXJpICs=
gIiddIikuZXEoMCk7CiAgICB9CgogICAgc3RhdGljIGdldExheWVyZWxlbWVudElmcmFtZShsYX=
llcmkpIHsKICAgICAgICByZXR1cm4gZ2xvYmFsX21vZHVsZS5nZXRMYXllcmVsZW1lbnQobGF5Z=
XJpKS5maW5kKCdpZnJhbWUnKS5lcSgwKTsKICAgIH0KCiAgICBzdGF0aWMgZ2V0TGF5ZXJlbGVt=
ZW50SWZyYW1lQm9keShsYXllcmkpIHsKICAgICAgICByZXR1cm4gZ2xvYmFsX21vZHVsZS5nZXR=
MYXllcmVsZW1lbnRJZnJhbWUobGF5ZXJpKS5jb250ZW50cygpLmZpbmQoJ2JvZHknKTsKICAgIH=
0KCiAgICBzdGF0aWMgZ2V0TGF5ZXJCdG4obGF5ZXJpLCBpbmRleCkgewogICAgICAgIHJldHVyb=
iBnbG9iYWxfbW9kdWxlLmdldExheWVyZWxlbWVudChsYXllcmkpLmZpbmQoImFbY2xhc3NePSds=
YXl1aS1sYXllci1idG4nXSIpLmVxKGluZGV4KTsKICAgIH0KCiAgICBzdGF0aWMgc2V0TGF5ZXJ=
JbWdQYXRoKGxheWVyaSwgUGF0aCkgewogICAgICAgIGlmIChQYXRoLnN1YnN0cigtMSkgIT0gJy=
8nICYmIFBhdGguc3Vic3RyKC0xKSAhPSAnXFwnKSB7CiAgICAgICAgICAgIGlmIChQYXRoLmluZ=
GV4T2YoJy8nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgUGF0aCArPSAnLyc7CiAgICAgICAg=
ICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBQYXRoICs9ICdcXCc7CiAgICAgICAgICAgIH0=
KICAgICAgICB9CiAgICAgICAgbGV0IGVsZW1lbnQgPSBnbG9iYWxfbW9kdWxlLmdldExheWVyZW=
xlbWVudChsYXllcmkpOwogICAgICAgIGxldCBpID0gJChlbGVtZW50KS5maW5kKCdpJyk7CiAgI=
CAgICAgZm9yIChsZXQgbSA9IDA7IG0gPCBpLmxlbmd0aDsgbSsrKSB7CiAgICAgICAgICAgIGxl=
dCBjbGFzc05hbWUgPSAkKGlbbV0pLmF0dHIoJ2NsYXNzJyk7CiAgICAgICAgICAgIGlmIChjbGF=
zc05hbWUuaW5kZXhPZignaWNvJykgPT0gLTEpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOw=
ogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBiZyA9ICQoaVttXSkuY3NzKCdiYWNrZ3Jvd=
W5kLWltYWdlJyk7CiAgICAgICAgICAgIGxldCBiZ1BhdGggPSBiZy5zdWJzdHJpbmcoYmcuaW5k=
ZXhPZignKCcpICsgMSwgYmcuaW5kZXhPZignKScpKTsKICAgICAgICAgICAgbGV0IGZpbGVOYW1=
lID0gYmdQYXRoLnN1YnN0cmluZyhiZ1BhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpOwogICAgIC=
AgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL1wiL2csICcnKS5yZXBsYWNlKC9cJ=
y9nLCAnJyk7CiAgICAgICAgICAgICQoaVttXSkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3Vy=
bCgnICsgUGF0aCArIGZpbGVOYW1lICsgJyknKTsKICAgICAgICB9CiAgICB9CgogICAgc3RhdGl=
jIGFzeW5jIHNpbXVsYXRlS2V5ZG93bihlbGUsIGtleSwgaW50ZXJ2YWwgPSAyMDApIHsKICAgIC=
AgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAga=
WYgKGtleS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAg=
ICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbGUgPT0gbnV=
sbCkgewogICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuOw=
ogICAgICAgICAgICB9CiAgICAgICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpOwogICAgI=
CAgICAgICBsZXQga2V5cyA9IGtleS5zcGxpdCgnKycpOwogICAgICAgICAgICBsZXQgZXZlbnQ7=
CiAgICAgICAgICAgIGlmICh0eXBlb2YgRXZlbnQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICA=
gICAgICAgIGV2ZW50ID0gbmV3IEV2ZW50KCdrZXlkb3duJyk7CiAgICAgICAgICAgIH0gZWxzZS=
B7CiAgICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO=
wogICAgICAgICAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdrZXlkb3duJywgdHJ1ZSwgdHJ1ZSk7=
CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXZlbnQua2V5ID0ga2V5c1trZXlzLmxlbmd0aCA=
tIDFdOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoIC0gMTsgaS=
srKSB7CiAgICAgICAgICAgICAgICBldmVudFtrZXlzW2ldICsgJ0tleSddID0gdHJ1ZTsKICAgI=
CAgICAgICAgfQogICAgICAgICAgICBlbGUuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAg=
ICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGV2ZW50OwogICAgICA=
gICAgICAgICAgaWYgKHR5cGVvZiBFdmVudCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgIC=
AgICAgICAgIGV2ZW50ID0gbmV3IEV2ZW50KCdrZXl1cCcpOwogICAgICAgICAgICAgICAgfSBlb=
HNlIHsKICAgICAgICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdF=
dmVudCcpOwogICAgICAgICAgICAgICAgICAgIGV2ZW50LmluaXRFdmVudCgna2V5dXAnLCB0cnV=
lLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGV2ZW50LmtleSA9IG=
tleXNba2V5cy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpI=
Dwga2V5cy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBldmVudFtrZXlz=
W2ldICsgJ0tleSddID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB=
lbGUuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgIC=
AgICAgICAgIH0sIGludGVydmFsKTsKICAgICAgICB9KTsKICAgIH0KCiAgICBzdGF0aWMgZGVib=
3VuY2UoZm4sIGRlbGF5KSB7CiAgICAgICAgbGV0IHRpbWVvdXRJZDsKICAgICAgICBsZXQgcHJv=
bWlzZVJlc29sdmU7CiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSk=
gPT4gKHByb21pc2VSZXNvbHZlID0gcmVzb2x2ZSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbi=
AoKSB7CiAgICAgICAgICAgIGlmICh0aW1lb3V0SWQpIHsKICAgICAgICAgICAgICAgIGNsZWFyV=
GltZW91dCh0aW1lb3V0SWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRpbWVvdXRJZCA9=
IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgdGltZW91dElkID0gbnV=
sbDsKICAgICAgICAgICAgICAgIGlmIChmbi5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQXN5bmNGdW=
5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZm4uYXBwb=
HkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICBwcm9taXNlUmVzb2x2ZShy=
ZXN1bHQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsZXQ=
gcmVzdWx0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgIC=
Bwcm9taXNlUmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9L=
CBkZWxheSk7CgogICAgICAgICAgICByZXR1cm4gcHJvbWlzZTsKICAgICAgICB9OwogICAgfQoK=
ICAgIHN0YXRpYyBvYnNlcnZlRG9tQ2hhbmdlcyhlbGUgPSBudWxsLCBjYWxsYmFjaywgTXV0YXR=
pb25PYnNlcnZlckZ1bmN0aW9uID0gbnVsbCkgewogICAgICAgIGlmIChNdXRhdGlvbk9ic2Vydm=
VyRnVuY3Rpb24gPT0gbnVsbCB8fCB0eXBlb2YgTXV0YXRpb25PYnNlcnZlckZ1bmN0aW9uICE9I=
CdmdW5jdGlvbicpIHsKICAgICAgICAgICAgTXV0YXRpb25PYnNlcnZlckZ1bmN0aW9uID0gTXV0=
YXRpb25PYnNlcnZlcjsKICAgICAgICB9CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV=
0YXRpb25PYnNlcnZlckZ1bmN0aW9uKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICAgIC=
AgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICAgICAgI=
CBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcgJiYgbXV0YXRpb24udGFyZ2V0Lmdl=
dEF0dHJpYnV0ZSgnZGF0YS1pbnNlcnRlZC1hcHBlbmQnKSA9PSBudWxsKSB7CiAgICAgICAgICA=
gICAgICAgICAgY2FsbGJhY2sobXV0YXRpb24udGFyZ2V0KTsKICAgICAgICAgICAgICAgIH0KIC=
AgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgI=
CAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLAogICAg=
ICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLAogICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI=
6IFsnZGF0YS1pbnNlcnRlZC1hcHBlbmQnXQogICAgICAgIH07CiAgICAgICAgaWYgKGVsZSA9PS=
BudWxsKSB7CiAgICAgICAgICAgIGVsZSA9IGRvY3VtZW50OwogICAgICAgIH0KICAgICAgICBvY=
nNlcnZlci5vYnNlcnZlKGVsZSwgb3B0aW9ucyk7CiAgICB9CgogICAgc3RhdGljIGdldFJhbmRv=
bVN0cmluZyhsZW4pIHsKICAgICAgICBsZW4gPSBsZW4gfHwgMzI7CiAgICAgICAgbGV0ICRjaGF=
ycyA9ICdBQkNERUZHSEpLTU5QUVJTVFdYWVphYmNkZWZoaWprbW5wcnN0d3h5ejIzNDU2NzgnOw=
ogICAgICAgIGxldCBtYXhQb3MgPSAkY2hhcnMubGVuZ3RoOwogICAgICAgIGxldCBwd2QgPSAnJ=
zsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHB3=
ZCArPSAkY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heFBvcykpOwo=
gICAgICAgIH0KICAgICAgICByZXR1cm4gcHdkOwogICAgfQoKICAgIHN0YXRpYyBnZXRSYW5kb2=
1OdW1iZXIobGVuKSB7CiAgICAgICAgbGV0ICRjaGFycyA9ICcwMTIzNDU2Nzg5JzsKICAgICAgI=
CBsZXQgbWF4UG9zID0gJGNoYXJzLmxlbmd0aDsKICAgICAgICBsZXQgcHdkID0gJyc7CiAgICAg=
ICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICBwd2QgKz0gJGN=
oYXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXhQb3MpKTsKICAgICAgIC=
B9CiAgICAgICAgcmV0dXJuIHB3ZDsKICAgIH0KCiAgICBzdGF0aWMgaGlkZUFuZENyZWF0ZURvb=
ShFbGVtZW50KSB7CiAgICAgICAgbGV0IGRvbSA9ICQoRWxlbWVudCkuZXEoMCk7CiAgICAgICAg=
JChkb20pLmhpZGUoKTsKICAgICAgICBsZXQgY2xvbmUgPSAkKGRvbSkuY2xvbmUoKTsKICAgICA=
gICAkKGRvbSkuYWZ0ZXIoY2xvbmUpOwogICAgICAgIGNsb25lLnNob3coKTsKICAgICAgICByZX=
R1cm4gY2xvbmU7CiAgICB9CgogICAgc3RhdGljIGNsb25lQW5kSGlkZSh0YXJnZXQsIEluc2Vyd=
E1ldGhvZCA9IDAsIEJhc2VFbGVtZW50ID0gbnVsbCkgewogICAgICAgIGlmIChJbnNlcnRNZXRo=
b2QgPT0gbnVsbCkgewogICAgICAgICAgICBJbnNlcnRNZXRob2QgPSAwOwogICAgICAgIH0KICA=
gICAgICBsZXQgY2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhcmdldC50YWdOYW1lKT=
sKICAgICAgICBsZXQgYXR0cmlidXRlcyA9IHRhcmdldC5hdHRyaWJ1dGVzOwogICAgICAgIGZvc=
iAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBj=
bG9uZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlc1tpXS5uYW1lLCBhdHRyaWJ1dGVzW2ldLnZhbHV=
lKTsKICAgICAgICB9CiAgICAgICAgbGV0IGNoaWxkTm9kZXMgPSB0YXJnZXQuY2hpbGROb2Rlcz=
sKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHsKI=
CAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoY2hpbGROb2Rlc1tpXS5jbG9uZU5vZGUodHJ1=
ZSkpOwogICAgICAgIH0KICAgICAgICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICA=
gICAgICBsZXQgcGFyZW50OwogICAgICAgIGlmIChCYXNlRWxlbWVudCAhPT0gbnVsbCkgewogIC=
AgICAgICAgICBwYXJlbnQgPSBCYXNlRWxlbWVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgI=
CAgICBwYXJlbnQgPSB0YXJnZXQucGFyZW50Tm9kZTsKICAgICAgICB9CiAgICAgICAgc3dpdGNo=
IChJbnNlcnRNZXRob2QpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGF=
yZW50LmFwcGVuZENoaWxkKGNsb25lKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIC=
AgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0Y=
XJnZXQubmV4dFNpYmxpbmcpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNh=
c2UgMjoKICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRhcmdldCk=
7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIC=
AgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjbG9uZSk7CiAgICAgICAgfQogICAgICAgIHJldHVyb=
iBjbG9uZTsKICAgIH0KCiAgICBzdGF0aWMgYXN5bmMgQW5pbWF0ZVRleHQoZWxlLCB0ZXh0LCBE=
ZWxheSA9IDEwMCkgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x=
2ZSkgewogICAgICAgICAgICBsZXQgY3VycmVudFRleHQgPSAnJzsKICAgICAgICAgICAgbGV0IG=
kgPSAwOwogICAgICAgICAgICBsZXQgaGVpZ2h0ID0gZWxlLnBhcmVudCgpLmNzcygnaGVpZ2h0J=
yk7CiAgICAgICAgICAgIGlmIChoZWlnaHQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgcmVz=
b2x2ZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICA=
gIGhlaWdodCA9IGhlaWdodC5zdWJzdHJpbmcoMCwgaGVpZ2h0Lmxlbmd0aCAtIDIpIC0gMjIgKy=
AncHgnOwogICAgICAgICAgICBsZXQgY3Vyc29yOwogICAgICAgICAgICBjdXJzb3IgPSBkb2N1b=
WVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgIGN1cnNvci5jbGFzc0xpc3Qu=
YWRkKCdjdXJzb3InKTsKICAgICAgICAgICAgY3Vyc29yLnN0eWxlLmJhY2tncm91bmRDb2xvciA=
9ICcjZmZmJzsKICAgICAgICAgICAgY3Vyc29yLnN0eWxlLndpZHRoID0gJzNweCc7CiAgICAgIC=
AgICAgIGN1cnNvci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgICAgICAgIGN1cnNvci5zd=
HlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7CiAgICAgICAgICAgIGN1cnNvci5zdHlsZS5h=
bmltYXRpb24gPSAnYmxpbmsgMXMgc3RlcC1lbmQgaW5maW5pdGUnOwogICAgICAgICAgICBsZXQ=
gaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjdXJyZW50VG=
V4dCArPSB0ZXh0W2ldOwogICAgICAgICAgICAgICAgZWxlLnRleHQoY3VycmVudFRleHQpOwogI=
CAgICAgICAgICAgICAgZWxlLmFwcGVuZChjdXJzb3IpOwogICAgICAgICAgICAgICAgaSsrOwog=
ICAgICAgICAgICAgICAgaWYgKGkgPT09IHRleHQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICA=
gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZS=
gpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgI=
CAgICAgICAgICBjdXJzb3IucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsK=
ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgRGVsYXkpOwogICAgICAgIH0pOwogICA=
gfQoKICAgIHN0YXRpYyBnZXRNaWRkbGVTdHJpbmcoc3RyLCBzdGFydCwgZW5kKSB7CiAgICAgIC=
AgcmV0dXJuIHN0ci5zdWJzdHJpbmcoc3RyLmluZGV4T2Yoc3RhcnQpICsgMSwgc3RyLmluZGV4T=
2YoZW5kKSk7CiAgICB9CgogICAgc3RhdGljIENvb2tpZSA9IHsKICAgICAgICBjbGVhckFsbENv=
b2tpZXM6IGZ1bmN0aW9uIChkb21haW4pIHsKICAgICAgICAgICAgdmFyIGNvb2tpZXMgPSBkb2N=
1bWVudC5jb29raWUuc3BsaXQoJzsgJyk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpID=
wgY29va2llcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmFyIGNvb2tpZSA9IGNvb=
2tpZXNbaV07CiAgICAgICAgICAgICAgICB2YXIgZXFQb3MgPSBjb29raWUuaW5kZXhPZignPScp=
OwogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBlcVBvcyA+IC0xID8gY29va2llLnN1YnN0cig=
wLCBlcVBvcykgOiBjb29raWU7CiAgICAgICAgICAgICAgICB2YXIgY29va2llRG9tYWluID0gbG=
9jYXRpb24uaG9zdG5hbWUucmVwbGFjZSgvXnd3d1wuL2ksICcnKTsKICAgICAgICAgICAgICAgI=
GlmIChjb29raWVEb21haW4gPT09IGRvbWFpbiB8fCBjb29raWVEb21haW4uZW5kc1dpdGgoJy4n=
ICsgZG9tYWluKSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWU=
gKyAnPTtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UO2RvbWFpbj0nICsgY2=
9va2llRG9tYWluICsgJztwYXRoPS8nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9C=
iAgICAgICAgfSwKICAgICAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIGxl=
dCBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnwgKScgKyBuYW1=
lICsgJz0oW147XSspJykpOwogICAgICAgICAgICByZXR1cm4gbWF0Y2ggJiYgZGVjb2RlVVJJQ2=
9tcG9uZW50KG1hdGNoWzJdKTsKICAgICAgICB9LAogICAgICAgIHNldDogZnVuY3Rpb24gKG5hb=
WUsIHZhbHVlLCBkYXlzKSB7CiAgICAgICAgICAgIGlmIChkYXlzID09IG51bGwpIHsKICAgICAg=
ICAgICAgICAgIGRheXMgPSAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBkID0gbmV=
3IERhdGUoKTsKICAgICAgICAgICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgMjQgKiA2MCAqID=
YwICogMTAwMCAqIGRheXMpOwogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgJ=
z0nICsgdmFsdWUgKyAnO3BhdGg9LztleHBpcmVzPScgKyBkLnRvR01UU3RyaW5nKCk7CiAgICAg=
ICAgfSwKICAgICAgICBkZWxldGU6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHRoaXM=
uc2V0KG5hbWUsICcnLCAtMSk7CiAgICAgICAgfSwKICAgICAgICBjbGVhcjogZnVuY3Rpb24gKC=
kgewogICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5nZXQoKSkgewogICAgICAgICAgI=
CAgICAgdGhpcy5kZWxldGUoa2V5KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgZG9t=
YWluID0gbG9jYXRpb24uaG9zdG5hbWUucmVwbGFjZSgvXnd3d1wuL2ksICcnKTsKICAgICAgICA=
gICAgdGhpcy5jbGVhckFsbENvb2tpZXMoZG9tYWluKTsKICAgICAgICB9CiAgICB9OwoKICAgIH=
N0YXRpYyBvYmplY3REZXB0aEVudW1lcmF0ZShfb2JqZWN0LCBjYWxsYmFjaykgewogICAgICAgI=
GlmIChBcnJheS5pc0FycmF5KF9vYmplY3QpKSB7CiAgICAgICAgICAgIF9vYmplY3QuZm9yRWFj=
aCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIGNhbGxiYWNrKG5=
1bGwsIGl0ZW0pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgIC=
AgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGhpcy5vYmplY3REZXB0aEVudW1lcmF0ZShpd=
GVtLCBjYWxsYmFjaykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX29=
iamVjdCA9PT0gJ29iamVjdCcgJiYgX29iamVjdCAhPT0gbnVsbCkgewogICAgICAgICAgICBPYm=
plY3Qua2V5cyhfb2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHsKICAgICAgICAgICAgICAgIGlmI=
ChjYWxsYmFjayAmJiBjYWxsYmFjayhrZXksIF9vYmplY3Rba2V5XSkpIHsKICAgICAgICAgICAg=
ICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGl=
mICh0aGlzLm9iamVjdERlcHRoRW51bWVyYXRlKF9vYmplY3Rba2V5XSwgY2FsbGJhY2spKSB7Ci=
AgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgI=
CAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICBzdGF0aWMgTG9jYWxTdG9yYWdlID0gewog=
ICAgICAgIGV4cG9ydExvY2FsU3RvcmFnZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQ=
gbG9jYWxTdG9yYWdlRGF0YSA9IHt9OwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG=
xvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgbGV0IGtleSA9IGxvY=
2FsU3RvcmFnZS5rZXkoaSk7CiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBsb2NhbFN0b3Jh=
Z2UuZ2V0SXRlbShrZXkpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlRGF0YVtrZXldID0=
gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGpzb25TdHJpbmcgPSBKU09OLn=
N0cmluZ2lmeShsb2NhbFN0b3JhZ2VEYXRhLCBudWxsLCAyKTsKICAgICAgICAgICAgcmV0dXJuI=
Gpzb25TdHJpbmc7CiAgICAgICAgfSwKICAgICAgICBpbXBvcnRMb2NhbFN0b3JhZ2U6IGZ1bmN0=
aW9uIChsb2NhbFN0b3JhZ2VTdHJpbmcpIHsKICAgICAgICAgICAgbGV0IGxvY2FsU3RvcmFnZUR=
hdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVN0cmluZyk7CiAgICAgICAgICAgIGZvciAobG=
V0IGtleSBpbiBsb2NhbFN0b3JhZ2VEYXRhKSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ=
2Uuc2V0SXRlbShrZXksIGxvY2FsU3RvcmFnZURhdGFba2V5XSk7CiAgICAgICAgICAgIH0KICAg=
ICAgICB9CiAgICB9OwoKICAgIHN0YXRpYyBNYWlsID0gewogICAgICAgIGdldEhvc3Q6IGZ1bmN=
0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICdodHRwczovL3d3dy5tb2htYWwuY29tLyc7Ci=
AgICAgICAgfSwKICAgICAgICBnZXRJbmJveFVybDogZnVuY3Rpb24gKCkgewogICAgICAgICAgI=
CByZXR1cm4gdGhpcy5nZXRIb3N0KCkgKyAnemgvaW5ib3gnOwogICAgICAgIH0sCiAgICAgICAg=
Z2V0Q2hhbmdlVXJsOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEh=
vc3QoKSArICd6aC9jaGFuZ2UnOwogICAgICAgIH0sCiAgICAgICAgZ2V0TWVzc3NhZ2VVcmw6IG=
Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SG9zdCgpICsgJ3poL21lc=
3NhZ2UvJzsKICAgICAgICB9LAogICAgICAgIENoYW5nZTogYXN5bmMgZnVuY3Rpb24gKCkgewog=
ICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHsKICAgICA=
gICAgICAgICAgIGF3YWl0IGdsb2JhbF9tb2R1bGUuSHR0cCh7IG1ldGhvZDogJ0dFVCcsIHVybD=
ogdGhpcy5nZXRDaGFuZ2VVcmwoKSB9KTsKICAgICAgICAgICAgICAgIGxldCByID0gYXdhaXQgZ=
2xvYmFsX21vZHVsZS5IdHRwKHsgbWV0aG9kOiAnR0VUJywgdXJsOiB0aGlzLmdldEluYm94VXJs=
KCkgfSk7CiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZ2V0RU1haWwoci5yZXQucmVzcG9=
uc2VUZXh0KSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZ2V0RU1haWw6IG=
Z1bmN0aW9uIChodG1sKSB7CiAgICAgICAgICAgIGxldCBlbWFpbERvbSA9ICQoJzxkaXY+PC9ka=
XY+JykuaHRtbChodG1sKS5lcSgwKS5maW5kKCdbZGF0YS1lbWFpbF0nKS5lcSgwKTsKICAgICAg=
ICAgICAgaWYgKCFlbWFpbERvbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICA=
gICAgICAgIH0KICAgICAgICAgICAgaWYgKCFlbWFpbERvbS50ZXh0KCkpIHsKICAgICAgICAgIC=
AgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBlbWFpbCA9I=
GVtYWlsRG9tLmF0dHIoJ2RhdGEtZW1haWwnKTsKICAgICAgICAgICAgcmV0dXJuIGVtYWlsOwog=
ICAgICAgIH0sCiAgICAgICAgYW5hbHl6ZU1haWxzOiBmdW5jdGlvbiAoaHRtbCkgewogICAgICA=
gICAgICBsZXQgX3RoYXQgPSB0aGlzOwogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYX=
N5bmMgKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgIGxldCBUYXNrcyA9IFtdOwogICAgI=
CAgICAgICAgICAgbGV0IE1haWxNc2cgPSBbXTsKICAgICAgICAgICAgICAgIGxldCBtc2dJZHMg=
PSAkKGh0bWwpLmZpbmQoJ3RyW2RhdGEtbXNnLWlkXScpOwogICAgICAgICAgICAgICAgZm9yICh=
sZXQgaSA9IDA7IGkgPCBtc2dJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgIC=
BsZXQgdGhhdCA9ICQobXNnSWRzW2ldKTsKICAgICAgICAgICAgICAgICAgICBsZXQgbXNnSWQgP=
SB0aGF0LmF0dHIoJ2RhdGEtbXNnLWlkJyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbmRl=
ciA9IHRoYXQuZmluZCgndGRbY2xhc3M9InNlbmRlciJdJykuZXEoMCkuZmluZCgnYScpLnRleHQ=
oKTsKICAgICAgICAgICAgICAgICAgICBsZXQgdGltZSA9IHRoYXQuZmluZCgndGRbY2xhc3M9In=
RpbWUiXScpLmVxKDApLmZpbmQoJ2EnKS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgbGV0I=
HVybCA9IF90aGF0LmdldE1lc3NzYWdlVXJsKCkgKyBtc2dJZDsKICAgICAgICAgICAgICAgICAg=
ICBsZXQgdGFzayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJ=
uIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgIC=
AgICAgICBsZXQgcmVzID0gYXdhaXQgZ2xvYmFsX21vZHVsZS5IdHRwKHsgbWV0aG9kOiAnR0VUJ=
ywgdXJsOiB1cmwgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbXNnRG9tID0g=
JCgnPGRpdj48L2Rpdj4nKS5odG1sKHJlcy5yZXQucmVzcG9uc2VUZXh0KS5lcSgwKTsKICAgICA=
gICAgICAgICAgICAgICAgICAgICAgIGxldCBtc2dEb21IdG1sID0gbXNnRG9tLmh0bWwoKTsKIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtc2dEb21UZXh0ID0gbXNnRG9tLnRleHQoK=
TsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB7IG1zZ0lkLCB0aW1lLCB1=
cmwsIHJlcywgc2VuZGVyLCBodG1sOiBtc2dEb21IdG1sLCB0ZXh0OiBtc2dEb21UZXh0IH07CiA=
gICAgICAgICAgICAgICAgICAgICAgICAgICBNYWlsTXNnLnB1c2gob2JqKTsKICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7C=
iAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBUYXNrcy5wdXNoKHRh=
c2soKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmF=
sbChUYXNrcyk7CiAgICAgICAgICAgICAgICByZXNvbHZlKE1haWxNc2cpOwogICAgICAgICAgIC=
B9KTsKICAgICAgICB9LAogICAgICAgIGdldE1haWxzOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgI=
CAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4gewogICAgICAg=
ICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGdsb2JhbF9tb2R1bGUuSHR0cCh7IG1ldGhvZDogJ0d=
FVCcsIHVybDogdGhpcy5nZXRJbmJveFVybCgpIH0pOwogICAgICAgICAgICAgICAgaWYgKHJlcy=
5jb2RlID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgIGxldCByID0gYXdhaXQgdGhpcy5nZ=
XRNYWlsKCk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyKTsKICAgICAgICAgICAgICAg=
ICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmVzLmN=
vZGUgIT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2=
V0IHRoZSB2ZXJpZmljYXRpb24gY29kZSwgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlciEnKTsKICAgI=
CAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpOwogICAgICAgICAgICAgICAgICAgIHJldHVy=
bjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBodG1sID0gJCgnPGRpdj4=
8L2Rpdj4nKS5odG1sKHJlcy5yZXQucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIGxldC=
BOb01lc3NhZ2VzID0gaHRtbC5maW5kKCd0ci5uby1tZXNzYWdlcycpLmVxKDApOwogICAgICAgI=
CAgICAgICAgaWYgKE5vTWVzc2FnZXMubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgICAgICAg=
ICAgcmVzb2x2ZShbXSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICA=
gICAgfQogICAgICAgICAgICAgICAgbGV0IHIgPSBhd2FpdCB0aGlzLmFuYWx5emVNYWlscyhodG=
1sKTsKICAgICAgICAgICAgICAgIHJlc29sdmUocik7CiAgICAgICAgICAgIH0pOwogICAgICAgI=
H0KICAgIH07CgogICAgc3RhdGljIEFuYWxvZ0lucHV0ID0gewogICAgICAgIGNsaWNrRWxlbWVu=
dDogZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIGlmICghZWwgfHwgKGVsICYmICdmdW5jdGl=
vbicgIT09IHR5cGVvZiBlbC5jbGljaykpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZT=
sKICAgICAgICAgICAgfQogICAgICAgICAgICBlbC5jbGljaygpOwogICAgICAgICAgICByZXR1c=
m4gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGRvRm9jdXNFbGVtZW50OiBmdW5jdGlvbiAoZWws=
IHNldFZhbHVlKSB7CiAgICAgICAgICAgIGlmIChzZXRWYWx1ZSkgewogICAgICAgICAgICAgICA=
gbGV0IGV4aXN0aW5nVmFsdWUgPSBlbC52YWx1ZTsKICAgICAgICAgICAgICAgIGVsLmZvY3VzKC=
k7CiAgICAgICAgICAgICAgICBlbC52YWx1ZSAhPT0gZXhpc3RpbmdWYWx1ZSAmJiAoZWwudmFsd=
WUgPSBleGlzdGluZ1ZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg=
IGVsLmZvY3VzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG5vcm1hbGl6ZUV=
2ZW50OiBmdW5jdGlvbiAoZWwsIGV2ZW50TmFtZSkgewogICAgICAgICAgICBsZXQgZXY7CiAgIC=
AgICAgICAgIGlmICgnS2V5Ym9hcmRFdmVudCcgaW4gd2luZG93KSB7CiAgICAgICAgICAgICAgI=
CBldiA9IG5ldyB3aW5kb3cuS2V5Ym9hcmRFdmVudChldmVudE5hbWUsIHsKICAgICAgICAgICAg=
ICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IGZ=
hbHNlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC=
AgICAgIGV2ID0gZWwub3duZXJEb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnRzJyk7CiAgICAgI=
CAgICAgICAgICBldi5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCBmYWxzZSk7CiAgICAgICAg=
ICAgICAgICBldi5jaGFyQ29kZSA9IDA7CiAgICAgICAgICAgICAgICBldi5rZXlDb2RlID0gMDs=
KICAgICAgICAgICAgICAgIGV2LndoaWNoID0gMDsKICAgICAgICAgICAgICAgIGV2LnNyY0VsZW=
1lbnQgPSBlbDsKICAgICAgICAgICAgICAgIGV2LnRhcmdldCA9IGVsOwogICAgICAgICAgICB9C=
iAgICAgICAgICAgIHJldHVybiBldjsKICAgICAgICB9LAogICAgICAgIHNldFZhbHVlRm9yRWxl=
bWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIGxldCB2YWx1ZVRvU2V0ID0gZWwudmF=
sdWU7CiAgICAgICAgICAgIHRoaXMuY2xpY2tFbGVtZW50KGVsKTsKICAgICAgICAgICAgdGhpcy=
5kb0ZvY3VzRWxlbWVudChlbCwgZmFsc2UpOwogICAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50K=
HRoaXMubm9ybWFsaXplRXZlbnQoZWwsICdrZXlkb3duJykpOwogICAgICAgICAgICBlbC5kaXNw=
YXRjaEV2ZW50KHRoaXMubm9ybWFsaXplRXZlbnQoZWwsICdrZXlwcmVzcycpKTsKICAgICAgICA=
gICAgZWwuZGlzcGF0Y2hFdmVudCh0aGlzLm5vcm1hbGl6ZUV2ZW50KGVsLCAna2V5dXAnKSk7Ci=
AgICAgICAgICAgIGVsLnZhbHVlICE9PSB2YWx1ZVRvU2V0ICYmIChlbC52YWx1ZSA9IHZhbHVlV=
G9TZXQpOwogICAgICAgIH0sCiAgICAgICAgc2V0VmFsdWVGb3JFbGVtZW50QnlFdmVudDogZnVu=
Y3Rpb24gKGVsKSB7CiAgICAgICAgICAgIGxldCB2YWx1ZVRvU2V0ID0gZWwudmFsdWUsCiAgICA=
gICAgICAgICAgICBldjEgPSBlbC5vd25lckRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbn=
RzJyksCiAgICAgICAgICAgICAgICBldjIgPSBlbC5vd25lckRvY3VtZW50LmNyZWF0ZUV2ZW50K=
CdIVE1MRXZlbnRzJyk7CiAgICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQodGhpcy5ub3JtYWxp=
emVFdmVudChlbCwgJ2tleWRvd24nKSk7CiAgICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQodGh=
pcy5ub3JtYWxpemVFdmVudChlbCwgJ2tleXByZXNzJykpOwogICAgICAgICAgICBlbC5kaXNwYX=
RjaEV2ZW50KHRoaXMubm9ybWFsaXplRXZlbnQoZWwsICdrZXl1cCcpKTsKICAgICAgICAgICAgZ=
XYyLmluaXRFdmVudCgnaW5wdXQnLCB0cnVlLCB0cnVlKTsKICAgICAgICAgICAgZWwuZGlzcGF0=
Y2hFdmVudChldjIpOwogICAgICAgICAgICBldjEuaW5pdEV2ZW50KCdjaGFuZ2UnLCB0cnVlLCB=
0cnVlKTsKICAgICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldjEpOwogICAgICAgICAgICBlbC=
5ibHVyKCk7CiAgICAgICAgICAgIGVsLnZhbHVlICE9PSB2YWx1ZVRvU2V0ICYmIChlbC52YWx1Z=
SA9IHZhbHVlVG9TZXQpOwogICAgICAgIH0sCiAgICAgICAgZG9BbGxGaWxsT3BlcmF0aW9uczog=
ZnVuY3Rpb24gKGVsLCBhZnRlclZhbFNldEZ1bmMpIHsKICAgICAgICAgICAgdGhpcy5zZXRWYWx=
1ZUZvckVsZW1lbnQoZWwpOwogICAgICAgICAgICBpZiAodHlwZW9mIGFmdGVyVmFsU2V0RnVuYy=
A9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICBhZnRlclZhbFNldEZ1bmMoZWwpOwogI=
CAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVGb3JFbGVtZW50QnlFdmVudChl=
bCk7CiAgICAgICAgfSwKICAgICAgICBBbmFsb2dJbnB1dDogZnVuY3Rpb24gKGVsLCBvcCkgewo=
gICAgICAgICAgICBlbC52YWx1ZSA9PSBvcCB8fAogICAgICAgICAgICAgICAgdGhpcy5kb0FsbE=
ZpbGxPcGVyYXRpb25zKGVsLCBmdW5jdGlvbiAodGhlRWwpIHsKICAgICAgICAgICAgICAgICAgI=
CBpZiAoIXRoZUVsLnR5cGUgJiYgdGhlRWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3Bh=
bicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhlRWwuaW5uZXJUZXh0ID0gb3A7CiAgICA=
gICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgIC=
AgICAgICAgICAgICAgdGhlRWwudmFsdWUgPSBvcDsKICAgICAgICAgICAgICAgIH0pOwogICAgI=
CAgIH0KICAgIH07Cn0KCnRyeSB7CiAgICB3aW5kb3dbJ2dsb2JhbF9tb2R1bGUnXSA9IGdsb2Jh=
bF9tb2R1bGU7Cn0gY2F0Y2ggKGUpIHt9CnRyeSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2J=
hbF9tb2R1bGU7Cn0gY2F0Y2ggKGUpIHt9Cg=3D=3D"}]},{"name":"Bypass Key system=EF=
=BC=88=E9=99=A4=E4=BA=86FL=EF=BC=8C=E5=BF=8D=E8=80=85=EF=BC=892/2","options=
":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_m=
etadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"=
compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":=
true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig=
_connects":["linkvertise.com","short-jambo.com","api.codex.lol","cdn.jsdeli=
vr.net","spdmteam.com","api-gateway.platoboost.com","api.valyse.best","api.=
keyrblx.com","pandadevelopment.net","hohohubv-ac90f67762c4.herokuapp.com","=
tsuo-script.xyz","*"],"orig_excludes":[],"orig_includes":[],"orig_matches":=
["https://mobile.codex.lol/*","https://spdmteam.com/key-system-1?hwid=3D*",=
"https://gateway.platoboost.com/a/8?id=3D*","https://valyse.best/verificati=
on?device_id=3D*","https://keyrblx.com/getkey/*","https://pandadevelopment.=
net/getkey?*","https://hohohubv-ac90f67762c4.herokuapp.com/api/getkeyv2?hwi=
d=3D*","https://tsuo-script.xyz/*"],"orig_noframes":null,"orig_run_at":"doc=
ument-end","use_blockers":[],"use_connects":["*"],"use_excludes":[],"use_in=
cludes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,=
"unwrap":null,"user_modified":null},"storage":{"ts":1707230743452,"data":{}=
},"enabled":true,"position":5,"uuid":"274ef670-ab96-40eb-89a2-b16eda171606"=
,"source":"Ci8vID09VXNlclNjcmlwdD09Ci8vIEBuYW1lICAgICAgICAgQnlwYXNzIEtleSBz=
eXN0ZW3vvIjpmaTkuoZGTO+8jOW/jeiAhe+8iTIvMgovLyBAZGVzY3JpcHRpb24gIOW+heWumgo=
vLyBAYXV0aG9yICAgICAgIFNhbmFkaW5p44GuQ2FyYXN0ZXJtZQoKLy8gQG1hdGNoICAgICAgIC=
BodHRwczovL21vYmlsZS5jb2RleC5sb2wvKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vc3Bkb=
XRlYW0uY29tL2tleS1zeXN0ZW0tMT9od2lkPSoKLy8gQG1hdGNoICAgICAgICBodHRwczovL2dh=
dGV3YXkucGxhdG9ib29zdC5jb20vYS84P2lkPSoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3Z=
hbHlzZS5iZXN0L3ZlcmlmaWNhdGlvbj9kZXZpY2VfaWQ9KgovLyBAbWF0Y2ggICAgICAgIGh0dH=
BzOi8va2V5cmJseC5jb20vZ2V0a2V5LyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3BhbmRhZ=
GV2ZWxvcG1lbnQubmV0L2dldGtleT8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9ob2hvaHVi=
di1hYzkwZjY3NzYyYzQuaGVyb2t1YXBwLmNvbS9hcGkvZ2V0a2V5djI/aHdpZD0qCi8vIEBtYXR=
jaCAgICAgICAgaHR0cHM6Ly90c3VvLXNjcmlwdC54eXovKgoKLy8gQGNvbm5lY3QgICAgICBsaW=
5rdmVydGlzZS5jb20KLy8gQGNvbm5lY3QgICAgICBzaG9ydC1qYW1iby5jb20KLy8gQGNvbm5lY=
3QgICAgICBhcGkuY29kZXgubG9sCi8vIEBjb25uZWN0ICAgICAgY2RuLmpzZGVsaXZyLm5ldAov=
LyBAY29ubmVjdCAgICAgIHNwZG10ZWFtLmNvbQovLyBAY29ubmVjdCAgICAgIGFwaS1nYXRld2F=
5LnBsYXRvYm9vc3QuY29tCi8vIEBjb25uZWN0ICAgICAgYXBpLnZhbHlzZS5iZXN0Ci8vIEBjb2=
5uZWN0ICAgICAgYXBpLmtleXJibHguY29tCi8vIEBjb25uZWN0ICAgICAgcGFuZGFkZXZlbG9wb=
WVudC5uZXQKLy8gQGNvbm5lY3QgICAgICBob2hvaHVidi1hYzkwZjY3NzYyYzQuaGVyb2t1YXBw=
LmNvbQovLyBAY29ubmVjdCAgICAgIHRzdW8tc2NyaXB0Lnh5egovLyBAY29ubmVjdCAgICAgICo=
KCi8vIEB2ZXJzaW9uICAgICAgMV8wXzAKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy=
8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX25vd=
GlmaWNhdGlvbgovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgoKLy8gQGFudGlmZWF0dXJl=
cyBhZHMKCi8vIEBsaWNlbnNlICAgICAgTUlUCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9maWx=
lcy5jYXRib3gubW9lLzdwMmxheC5qcGcKLy8gPT0vVXNlclNjcmlwdD09CmlmIChkb2N1bWVudC=
50aXRsZSA9PSAn5LiA5bCP5LyaJykgewogICAgcmV0dXJuOwp9CgovKioqKioqLyAoKCkgPT4ge=
yAvLyB3ZWJwYWNrQm9vdHN0cmFwCi8qKioqKiovIAl2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9=
ICh7CgovKioqLyA2MzY6Ci8qKiovICgobW9kdWxlKSA9PiB7CgpmdW5jdGlvbiBpbmplY3RBZHM=
oKSB7CiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09ICdmbHV4dXNieXBhc3MucG=
FnZXMuZGV2JykgewogICAgICAgIHJldHVybjsKICAgIH0KCn0KCm1vZHVsZS5leHBvcnRzID0ge=
wogICAgaW5qZWN0QWRzCn0KCi8qKiovIH0pLAoKLyoqKi8gMjQ6Ci8qKiovICgobW9kdWxlLCBf=
X3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pID0+IHsKCmNvbnN=
0IHsgaGFuZGxlRXJyb3IsIHNsZWVwLCBsaW5rdmVydGlzZVNwb29mLCBnZXRUdXJuc3RpbGVSZX=
Nwb25zZSwgZ2V0R3JlY2FwdGNoYVJlc3BvbnNlLCBub3RpZmljYXRpb24gfSA9IF9fd2VicGFja=
19yZXF1aXJlX18oMjIzKQoKYXN5bmMgZnVuY3Rpb24gY29kZXgoKSB7CiAgICBsZXQgc2Vzc2lv=
bjsKICAgIHdoaWxlICghc2Vzc2lvbikgewogICAgICAgIHNlc3Npb24gPSBsb2NhbFN0b3JhZ2U=
uZ2V0SXRlbSgiYW5kcm9pZC1zZXNzaW9uIik7CiAgICAgICAgYXdhaXQgc2xlZXAoMCk7CiAgIC=
B9CiAgICBpZiAoZG9jdW1lbnQ/LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk/Lmxlbmd0aCAmJ=
iBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLmlubmVySFRNTC5pbmNsdWRl=
cygnR2V0IHN0YXJ0ZWQnKSkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1=
lKCdhJylbMF0uY2xpY2soKTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBnZXRTdGFnZXMoKS=
B7CiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmNvZGV4L=
mxvbC92MS9zdGFnZS9zdGFnZXMnLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAg=
ICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICdBbmRyb2lkLVNlc3Npb24nOiBzZXN=
zaW9uCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IH=
Jlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgI=
CBpZiAoZGF0YS5hdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGRhdGEuc3RhZ2VzOwogICAgICAgIH0KICA=
gICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gZ2V0IH=
N0YWdlcyIpOwogICAgICAgIH0KICAgIH0KICAgIGFzeW5jIGZ1bmN0aW9uIGluaXRpYXRlU3RhZ=
2Uoc3RhZ2VJZCkgewogICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczov=
L2FwaS5jb2RleC5sb2wvdjEvc3RhZ2UvaW5pdGlhdGUnLCB7CiAgICAgICAgICAgIG1ldGhvZDo=
gJ1BPU1QnLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnQW5kcm9pZC=
1TZXNzaW9uJzogc2Vzc2lvbiwKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwb=
GljYXRpb24vanNvbicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTogSlNPTi5zdHJp=
bmdpZnkoeyBzdGFnZUlkIH0pCiAgICAgICAgfSk7CiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCB=
yZXNwb25zZS5qc29uKCk7CgogICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIC=
AgcmV0dXJuIGRhdGEudG9rZW47CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgI=
CB0aHJvdyBuZXcgRXJyb3IoImZhaWxlZCB0byBpbml0aWF0ZSBzdGFnZSIpOwogICAgICAgIH0K=
ICAgIH0KICAgIGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlU3RhZ2UodG9rZW4sIHJlZmVycmVyKSB=
7CiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmNvZGV4Lm=
xvbC92MS9zdGFnZS92YWxpZGF0ZScsIHsKICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgI=
CAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICdBbmRyb2lkLVNlc3Npb24nOiBz=
ZXNzaW9uLAogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29=
uJywKICAgICAgICAgICAgICAgICdUYXNrLVJlZmVycmVyJzogcmVmZXJyZXIKICAgICAgICAgIC=
AgfSwKICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0b2tlbiB9KQogICAgICAgI=
H0pOwogICAgICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwoKICAgICAgICBp=
ZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLnRva2VuOwogICAgICA=
gIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG=
8gdmFsaWRhdGUgc3RhZ2UiKTsKICAgICAgICB9CgogICAgfQogICAgYXN5bmMgZnVuY3Rpb24gY=
XV0aGVudGljYXRlKHZhbGlkYXRlZFRva2VucykgewogICAgICAgIGxldCByZXNwb25zZSA9IGF3=
YWl0IGZldGNoKCdodHRwczovL2FwaS5jb2RleC5sb2wvdjEvc3RhZ2UvYXV0aGVudGljYXRlJyw=
gewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgaGVhZGVyczogewogIC=
AgICAgICAgICAgICAgJ0FuZHJvaWQtU2Vzc2lvbic6IHNlc3Npb24sCiAgICAgICAgICAgICAgI=
CAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgIH0sCiAgICAg=
ICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW5zOiB2YWxpZGF0ZWRUb2tlbnMgfSk=
KICAgICAgICB9KTsKICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKCi=
AgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgI=
CAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiZmFpbGVk=
IHRvIGF1dGhlbnRpY2F0ZSIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBkZWNvZGV=
Ub2tlbkRhdGEodG9rZW4pIHsKICAgICAgICBsZXQgZGF0YSA9IHRva2VuLnNwbGl0KCIuIilbMV=
07CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJ=
y8nKTsKICAgICAgICBsZXQgZGVjb2RlZCA9IGF0b2IoZGF0YSk7CiAgICAgICAgcmV0dXJuIEpT=
T04ucGFyc2UoZGVjb2RlZCk7CiAgICB9CgogICAgbGV0IHN0YWdlcyA9IGF3YWl0IGdldFN0YWd=
lcygpOwogICAgbGV0IHN0YWdlc0NvbXBsZXRlZCA9IDA7CiAgICB3aGlsZSAobG9jYWxTdG9yYW=
dlLmdldEl0ZW0oc3RhZ2VzW3N0YWdlc0NvbXBsZXRlZF0pICYmIHN0YWdlc0NvbXBsZXRlZCA8I=
HN0YWdlcy5sZW5ndGgpIHsKICAgICAgICBzdGFnZXNDb21wbGV0ZWQrKzsKICAgIH0KICAgIGlm=
IChzdGFnZXNDb21wbGV0ZWQgPT0gc3RhZ2VzLmxlbmd0aCkgewogICAgICAgIHJldHVybjsKICA=
gIH0KCiAgICBsZXQgdmFsaWRhdGVkVG9rZW5zID0gW107CiAgICB0cnkgewogICAgICAgIHdoaW=
xlIChzdGFnZXNDb21wbGV0ZWQgPCBzdGFnZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCBzd=
GFnZUlkID0gc3RhZ2VzW3N0YWdlc0NvbXBsZXRlZF0udXVpZDsKICAgICAgICAgICAgbGV0IGlu=
aXRUb2tlbiA9IGF3YWl0IGluaXRpYXRlU3RhZ2Uoc3RhZ2VJZCk7CgogICAgICAgICAgICBhd2F=
pdCBzbGVlcCgwKTsKCiAgICAgICAgICAgIGxldCB0b2tlbkRhdGEgPSBkZWNvZGVUb2tlbkRhdG=
EoaW5pdFRva2VuKTsKICAgICAgICAgICAgbGV0IHJlZmVycmVyOwogICAgICAgICAgICBpZiAod=
G9rZW5EYXRhLmxpbmsuaW5jbHVkZXMoJ2xvb3QtbGlua3MnKSkgewogICAgICAgICAgICAgICAg=
cmVmZXJyZXIgPSAnaHR0cHM6Ly9sb290LWxpbmtzLmNvbS8nOwogICAgICAgICAgICB9CiAgICA=
gICAgICAgIGVsc2UgaWYgKHRva2VuRGF0YS5saW5rLmluY2x1ZGVzKCdsb290LWxpbmsnKSkgew=
ogICAgICAgICAgICAgICAgcmVmZXJyZXIgPSAnaHR0cHM6Ly9sb290LWxpbmsuY29tLyc7CiAgI=
CAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZWZlcnJlciA9=
ICdodHRwczovL3dvcmsuaW5rLyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCB2YWx=
pZGF0ZWRUb2tlbiA9IGF3YWl0IHZhbGlkYXRlU3RhZ2UoaW5pdFRva2VuLCByZWZlcnJlcik7Ci=
AgICAgICAgICAgIHZhbGlkYXRlZFRva2Vucy5wdXNoKHsgdXVpZDogc3RhZ2VJZCwgdG9rZW46I=
HZhbGlkYXRlZFRva2VuIH0pOwogICAgICAgICAgICBub3RpZmljYXRpb24oYCR7c3RhZ2VzQ29t=
cGxldGVkICsgMX0vJHtzdGFnZXMubGVuZ3RofSDlrozmiJDvvIFgLCA1MDAwKTsKCiAgICAgICA=
gICAgIGF3YWl0IHNsZWVwKDApOwoKICAgICAgICAgICAgc3RhZ2VzQ29tcGxldGVkKys7CiAgIC=
AgICAgfQogICAgICAgIGlmIChhdXRoZW50aWNhdGUodmFsaWRhdGVkVG9rZW5zKSkgewogICAgI=
CAgICAgICBub3RpZmljYXRpb24oJ+WujOaIkO+8geajkuajkuWTku+8gScpOwogICAgICAgICAg=
ICBhd2FpdCBzbGVlcCgwKTsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwo=
gICAgICAgIH0KICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgJ2=
NvZGV4Jyk7CiAgICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIGFyY2V1cygpIHsKICAgIHRyeSB7CiAgI=
CAgICAgbGV0IGh3aWQgPSAobmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikpLnNlYXJjaFBh=
cmFtcy5nZXQoJ2h3aWQnKTsKICAgICAgICBhd2FpdCBmZXRjaChgaHR0cHM6Ly9zcGRtdGVhbS5=
jb20vYXBpL2tleXN5c3RlbT9od2lkPSR7aHdpZH0mem9uZT1FdXJvcGUvUm9tZSZhZHZlcnRpc2=
VyPWxpbmt2ZXJ0aXNlYCwgeyBtb2RlOiAnbm8tY29ycycgfSk7CiAgICAgICAgbGV0IGNoZWNrc=
G9pbnRzRG9uZSA9IDE7CiAgICAgICAgd2hpbGUgKGNoZWNrcG9pbnRzRG9uZSA8PSAzKSB7CiAg=
ICAgICAgICAgIGF3YWl0IGxpbmt2ZXJ0aXNlU3Bvb2YoYGh0dHBzOi8vc3BkbXRlYW0uY29tL2F=
waS9rZXlzeXN0ZW0/c3RlcD0ke2NoZWNrcG9pbnRzRG9uZX0mYWR2ZXJ0aXNlcj1saW5rdmVydG=
lzZWApOwogICAgICAgICAgICBub3RpZmljYXRpb24oYCR7Y2hlY2twb2ludHNEb25lfS8zIOWuj=
OaIkO+8gWAsIDE5MDApOwogICAgICAgICAgICBhd2FpdCBzbGVlcCgwKTsKICAgICAgICAgICAg=
Y2hlY2twb2ludHNEb25lKys7CiAgICAgICAgfQogICAgICAgIG5vdGlmaWNhdGlvbign5a6M5oi=
Q77yB5qOS5qOS5ZOS77yBJyk7CiAgICAgICAgYXdhaXQgc2xlZXAoMCk7CiAgICAgICAgd2luZG=
93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly9zcGRtdGVhbS5jb20va2V5LXN5c3RlbS1nZXRrZ=
XknKTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgJ2FyY2V1=
cycpOwogICAgfQp9CgoKYXN5bmMgZnVuY3Rpb24ga2V5cmJseCgpIHsKICAgIGlmIChkb2N1bWV=
udC5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MLmluY2x1ZGVzKCdZb3Ugc3VjY2Vzc2Z1bGx5IG=
dvdCBrZXkhJykpIHsKICAgICAgICBub3RpZmljYXRpb24oJ+WujOaIkO+8geajkuajkuWTku+8g=
ScpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IGN1c3RvbVNsZWVwVGltZXMgPSB7=
CiAgICAgICAgJ3Byb2plY3RfbmV4dXMnOiAwLAogICAgICAgICdMLUhVQic6IDAsCiAgICAgICA=
gJ2J1dGlmJzogMCwKICAgICAgICAnS2V5U3lzdGVtbSc6IDAsCiAgICAgICAgJ05pbEh1Yic6ID=
AsCiAgICAgICAgJ1JhaXRvSHViJzogMCwKICAgICAgICAnQm9uZXpIdWInOiAwLAogICAgfTsKI=
CAgIHRyeSB7CiAgICAgICAgbGV0IGh1Yk5hbWU7CiAgICAgICAgbGV0IGh3aWQ7CiAgICAgICAg=
bGV0IGN1cnJlbnRVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAgICAgICB=
0cnkgewogICAgICAgICAgICBodWJOYW1lID0gY3VycmVudFVybC5wYXRobmFtZS5zcGxpdCgnLy=
cpWzJdOwogICAgICAgICAgICBod2lkID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpLmZpb=
HRlcihjb29raWUgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGNvb2tpZS5pbmNsdWRlcyho=
dWJOYW1lKQogICAgICAgICAgICB9KQogICAgICAgICAgICBod2lkID0gaHdpZFswXS5zcGxpdCg=
nPScpWzFdOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICBod2lkID=
0gY3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdod2lkJyk7CiAgICAgICAgICAgIGlmICgha=
HdpZCkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmib7kuI3liLBIV0lE5ZWK=
5ZWK5ZWK5ZWK5ZWK5ZWK5ZWK5ZWK5ZWK77yB77yB77yBJyk7CiAgICAgICAgICAgIH0KICAgICA=
gICB9CgogICAgICAgIGxldCBhZFVybCA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5rZXlyYm=
x4LmNvbS9hcGkvYXBwbGljYXRpb24vY2FwdGNoYT9uYW1lPSR7aHViTmFtZX0mdG9rZW49JHthd=
2FpdCBnZXRHcmVjYXB0Y2hhUmVzcG9uc2UoKX0maHdpZD0ke2h3aWR9YCkudGhlbihyZXMgPT4g=
cmVzLmpzb24oKSk7CiAgICAgICAgbGV0IGVuY29kZWREZXN0ID0gbmV3IFVSTChhZFVybC5yZWR=
pcmVjdCkuc2VhcmNoUGFyYW1zLmdldCgncicpOwogICAgICAgIGxldCBkZXN0OwogICAgICAgIG=
lmIChlbmNvZGVkRGVzdCkgewogICAgICAgICAgICBkZXN0ID0gYXRvYihlbmNvZGVkRGVzdCk7C=
iAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBkZXN0ID0gYGh0dHBzOi8va2V5=
cmJseC5jb20vZ2V0a2V5LyR7aHViTmFtZX1gCiAgICAgICAgICAgIGxldCBjaGVja3BvaW50SW5=
mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoMicpWzBdLmNoaWxkTm9kZXM7Ci=
AgICAgICAgICAgIGlmIChjaGVja3BvaW50SW5mb1s2XS5kYXRhICE9ICcxJykgewogICAgICAgI=
CAgICAgICAgZGVzdCArPSBgP3N0ZXA9JHtjaGVja3BvaW50SW5mb1syXS5kYXRhfWA7CiAgICAg=
ICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGxldCBzbGVlcFRpbWUgPSAwOwogICAgICAgIE9=
iamVjdC5rZXlzKGN1c3RvbVNsZWVwVGltZXMpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgIC=
AgaWYgKGh1Yk5hbWUgPT0ga2V5KSB7CiAgICAgICAgICAgICAgICBzbGVlcFRpbWUgPSBjdXN0b=
21TbGVlcFRpbWVzW2tleV07CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBhd2Fp=
dCBzbGVlcChzbGVlcFRpbWUpOwoKICAgICAgICBhd2FpdCBsaW5rdmVydGlzZVNwb29mKGRlc3Q=
pOwoKICAgICAgICBub3RpZmljYXRpb24oJ+WujOaIkO+8gScpOwogICAgICAgIGF3YWl0IHNsZW=
VwKDApOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KICAgIGNhdGNoI=
ChlKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgJ2tleXJibHgnKTsKICAgIH0KfQoKYXN5bmMg=
ZnVuY3Rpb24gcGFuZGFkZXZlbG9wbWVudCgpIHsKICAgIGxldCBhbnRpQWRibG9ja1JlbW92ZXI=
gPSBzZXRJbnRlcnZhbChyZW1vdmVBbnRpQWRibG9jaywgNTAwKTsKCiAgICBpZiAoZG9jdW1lbn=
QuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTC5pbmNsdWRlcygneW91IGdvdCB0aGUga2V5JykpI=
HsKICAgICAgICBub3RpZmljYXRpb24oJ+WujOaIkO+8geajkuajkuWTku+8gScpOwogICAgICAg=
IHJldHVybjsKICAgIH0KICAgIGVsc2UgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmF=
tZSgnZm9ybScpLmxlbmd0aCkgewogICAgICAgIGxldCBwcm92aWRlcnMgPSBBcnJheS5mcm9tKG=
RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJykpOwogICAgICAgIGZvciAobGV0IHByb=
3ZpZGVyIG9mIHByb3ZpZGVycykgewogICAgICAgICAgICBsZXQgcHJvdmlkZXJOYW1lID0gcHJv=
dmlkZXIuZmlyc3RDaGlsZC5pbm5lckhUTUw7CiAgICAgICAgICAgIGlmIChwcm92aWRlck5hbWU=
gPT0gJ0xpbmt2ZXJ0aXNlJyB8fCBwcm92aWRlck5hbWUgPT0gJ1Nob3J0IEphbWJvJykgewogIC=
AgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihwcm92aWRlci5ocmVmKTsKICAgI=
CAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aHJv=
dyBuZXcgRXJyb3IoJ25vIHN1cHBvcnRlZCBhZCBwcm92aWRlciBmb3VuZCcpOwogICAgfQogICA=
gZnVuY3Rpb24gZ2V0QWRMaW5rKCkgewogICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RW=
xlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKVswXTsKICAgICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtR=
GF0YShmb3JtKTsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJl=
amVjdCkgPT4gewogICAgICAgICAgICBHTS54bWxIdHRwUmVxdWVzdCh7CiAgICAgICAgICAgICA=
gICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgIHVybDogZm9ybS5hY3Rpb24sCiAgIC=
AgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZ=
Sc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAgICAgICAgICAg=
ICAgICdSZWZlcmVyJzogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgICAgICAgICAgICB9LAo=
gICAgICAgICAgICAgICAgZGF0YTogbmV3IFVSTFNlYXJjaFBhcmFtcyhkYXRhKSwKICAgICAgIC=
AgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgI=
CAgcmVzb2x2ZShyZXNwb25zZS5maW5hbFVybCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAg=
ICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICA=
gcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgIC=
AgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXREZXN0VXJsKGxpbmspIHsKICAgICAgICBsZXQgd=
XJsID0gbmV3IFVSTChlbmNvZGVVUkkobGluaykpOwogICAgICAgIHN3aXRjaCAodXJsLmhvc3Ru=
YW1lKSB7CiAgICAgICAgICAgIGNhc2UgJ2xpbmt2ZXJ0aXNlLmNvbSc6IHsKICAgICAgICAgICA=
gICAgIHJldHVybiBhdG9iKHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdyJykpOwogICAgICAgICAgIC=
B9CiAgICAgICAgICAgIGNhc2UgJ3Nob3J0LWphbWJvLmNvbSc6IHsKICAgICAgICAgICAgICAgI=
HJldHVybiB1cmwuc2VhcmNoLnNwbGl0KCcmdXJsPScpWzFdOwogICAgICAgICAgICB9CiAgICAg=
ICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXB=
wb3J0ZWQgYWQgcHJvdmlkZXInKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIG=
Z1bmN0aW9uIHJlbW92ZUFudGlBZGJsb2NrKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgI=
GxldCBhbnRpQWRibG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FkYmxv=
Y2tfdGl0bGUnKVswXTsKICAgICAgICAgICAgd2hpbGUgKGFudGlBZGJsb2NrLnBhcmVudEVsZW1=
lbnQgIT0gZG9jdW1lbnQuYm9keSkgewogICAgICAgICAgICAgICAgYW50aUFkYmxvY2sgPSBhbn=
RpQWRibG9jay5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFudGlBZ=
GJsb2NrLnJlbW92ZSgpOwogICAgICAgICAgICBjbGVhckludGVydmFsKGFudGlBZGJsb2NrUmVt=
b3Zlcik7CiAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICB9CiAgICBjb25zdCBjdXN0b21TbGV=
lcFRpbWVzID0gewogICAgICAgICd2ZWdheCc6IDEwMDAwLAogICAgICAgICdsYXppdW10b29scy=
c6IDgwMDAsCiAgICAgICAgJ2FkZWxodWInOiA4MDAwLAogICAgICAgICduZW94a2V5JzogODAwM=
CwKICAgIH07CiAgICB0cnkgewogICAgICAgIGxldCBjdXJyZW50VXJsID0gbmV3IFVSTCh3aW5k=
b3cubG9jYXRpb24uaHJlZik7CiAgICAgICAgbGV0IGh3aWQgPSBjdXJyZW50VXJsLnNlYXJjaFB=
hcmFtcy5nZXQoJ2h3aWQnKTsKICAgICAgICBsZXQgc2VydmljZSA9IGN1cnJlbnRVcmwuc2Vhcm=
NoUGFyYW1zLmdldCgnc2VydmljZScpOwogICAgICAgIGxldCB0b2tlbiA9IGN1cnJlbnRVcmwuc=
2VhcmNoUGFyYW1zLmdldCgnc2Vzc2lvbnRva2VuJyk7CiAgICAgICAgbGV0IHByb3ZpZGVyID0g=
Y3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdwcm92aWRlcicpOwoKICAgICAgICBpZiAoZG9=
jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmLXR1cm5zdGlsZScpKSB7CiAgICAgICAgICAgIGF3YW=
l0IGdldFR1cm5zdGlsZVJlc3BvbnNlKCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgYWRVcmwgP=
SBhd2FpdCBnZXRBZExpbmsoaHdpZCwgc2VydmljZSwgdG9rZW4pOwogICAgICAgIGxldCBkZXN0=
ID0gZ2V0RGVzdFVybChhZFVybCk7CgogICAgICAgIGxldCBzbGVlcFRpbWUgPSAwOwogICAgICA=
gIE9iamVjdC5rZXlzKGN1c3RvbVNsZWVwVGltZXMpLmZvckVhY2goa2V5ID0+IHsKICAgICAgIC=
AgICAgaWYgKHNlcnZpY2UgPT0ga2V5KSB7CiAgICAgICAgICAgICAgICBzbGVlcFRpbWUgPSBjd=
XN0b21TbGVlcFRpbWVzW2tleV07CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBh=
d2FpdCBzbGVlcChzbGVlcFRpbWUpOwoKICAgICAgICBhd2FpdCBsaW5rdmVydGlzZVNwb29mKGR=
lc3QpOwogICAgICAgIG5vdGlmaWNhdGlvbign5a6M5oiQ77yBJyk7CgogICAgICAgIGF3YWl0IH=
NsZWVwKDApOwoKICAgICAgICBsZXQgbmV3VXJsID0gbmV3IFVSTChkZXN0KTsKICAgICAgICB0b=
2tlbiA9IG5ld1VybC5zZWFyY2hQYXJhbXMuZ2V0KCdzZXNzaW9udG9rZW4nKTsKICAgICAgICBs=
ZXQgbmV4dENoZWNrcG9pbnQgPSBgaHR0cHM6Ly9wYW5kYWRldmVsb3BtZW50Lm5ldC9nZXRrZXk=
/aHdpZD0ke2h3aWR9JnNlcnZpY2U9JHtzZXJ2aWNlfSZzZXNzaW9udG9rZW49JHt0b2tlbn1gOw=
ogICAgICAgIGlmIChwcm92aWRlcikgewogICAgICAgICAgICBuZXh0Q2hlY2twb2ludCArPSBgJ=
nByb3ZpZGVyPSR7cHJvdmlkZXJ9YDsKICAgICAgICB9CiAgICAgICAgd2luZG93LmxvY2F0aW9u=
LmFzc2lnbihuZXh0Q2hlY2twb2ludCk7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIGh=
hbmRsZUVycm9yKGUsICdwYW5kYWRldmVsb3BtZW50Jyk7CiAgICB9Cn0KCmFzeW5jIGZ1bmN0aW=
9uIGhvaG9odWIoKSB7CiAgICBmdW5jdGlvbiBzcG9vZkFkVmlldyh1cmwpIHsKICAgICAgICByZ=
XR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICBHTS54=
bWxIdHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICA=
gICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIC=
AgICAgICAgYWNjZXB0OiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhd=
Glvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44=
LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43JywKICAgICAgICAgICAgICA=
gICAgICBSZWZlcmVyOiAnaHR0cHM6Ly9sb290LWxpbmsuY29tLycsCiAgICAgICAgICAgICAgIC=
AgICAgJ1NlYy1GZXRjaC1EZXN0JzogJ2RvY3VtZW50JywKICAgICAgICAgICAgICAgICAgICAnU=
2VjLUZldGNoLU1vZGUnOiAnbmF2aWdhdGUnLAogICAgICAgICAgICAgICAgICAgICdTZWMtRmV0=
Y2gtU2l0ZSc6ICdjcm9zcy1zaXRlJywKICAgICAgICAgICAgICAgICAgICAnU2VjLUZldGNoLVV=
zZXInOiAnPzEnLAogICAgICAgICAgICAgICAgICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3=
RzJzogJzEnLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY=
3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7=
CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKGV=
ycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgIC=
AgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9CiAgICB0cnkgewogICAgICAgI=
GlmIChkb2N1bWVudC5ib2R5LmlubmVySFRNTC5pbmNsdWRlcygnU3VjY2Vzc2Z1bGx5IFdoaXRl=
bGlzdGVkIScpKSB7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbign5a6M5oiQ77yB5qOS5qOS5ZO=
S77yBJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuZ2=
V0RWxlbWVudEJ5SWQoJ3N1YnNjcmliZU1vZGFsJyk/LnJlbW92ZSgpOwogICAgICAgIGxldCB0b=
2tlblJlZ2V4ID0gL25leHRDaGVja3BvaW50XCgnLisnXCkvZzsKICAgICAgICBsZXQgbG9vdGxp=
bmtUb2tlbiA9IGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLm1hdGNoKHRva2VuUmVnZXgpWzFdLnN=
wbGl0KCInIilbMV0uc3BsaXQoIiciKVswXTsKICAgICAgICBhd2FpdCBmZXRjaChgaHR0cHM6Ly=
9ob2hvaHVidi1hYzkwZjY3NzYyYzQuaGVyb2t1YXBwLmNvbS9hcGkvY2FwdGNoYS8ke2F3YWl0I=
GdldFR1cm5zdGlsZVJlc3BvbnNlKCl9LyR7bG9vdGxpbmtUb2tlbn1gLCB7IG1ldGhvZDogJ1BP=
U1QnIH0pOwogICAgICAgIGF3YWl0IGZldGNoKGBodHRwczovL2hvaG9odWJ2LWFjOTBmNjc3NjJ=
jNC5oZXJva3VhcHAuY29tL2FwaS9zdGFydD90b2tlbj0ke2xvb3RsaW5rVG9rZW59YCwgeyByZW=
RpcmVjdDogJ21hbnVhbCcgfSk7CiAgICAgICAgbGV0IGN1cnJlbnRTdGFnZSA9IGRvY3VtZW50L=
mdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJylbMF0uaW5uZXJIVE1MLnNwbGl0KCdjaGVja3BvaW50=
ICcpWzFdLnNwbGl0KCcgJylbMF07CiAgICAgICAgYXdhaXQgc3Bvb2ZBZFZpZXcoYGh0dHBzOi8=
vaG9ob2h1YnYtYWM5MGY2Nzc2MmM0Lmhlcm9rdWFwcC5jb20vYXBpL3N0ZXA/c3RlcD0ke3Bhcn=
NlSW50KGN1cnJlbnRTdGFnZSkgKyAxfWApOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvY=
WQoKTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgJ2hvaG9o=
dWInKTsKICAgIH0KfQoKYXN5bmMgZnVuY3Rpb24gdHN1b2h1YigpIHsKICAgIGxldCB1cmwgPSB=
uZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAgIGlmICh1cmwucGF0aG5hbWUgPT0gJy=
9jb21wbGV0ZScpIHsKICAgICAgICBub3RpZmljYXRpb24oJ+WujOaIkO+8geajkuajkuWTku+8g=
ScpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGVsc2UgaWYgKCEoWycvZ2V0a2V5JywgJy9z=
dGVwJ10uaW5jbHVkZXModXJsLnBhdGhuYW1lKSkpIHsKICAgICAgICByZXR1cm47CiAgICB9CiA=
gICBmdW5jdGlvbiBnZXREZXN0VXJsKCkgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3=
luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0K=
HsKICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICB1cmw6IGAk=
e3VybC5vcmlnaW4gKyB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNofSR7dXJsLnNlYXJjaCA/ICc=
mJyA6ICc/J31nLXJlY2FwdGNoYS1yZXNwb25zZT0ke2F3YWl0IGdldEdyZWNhcHRjaGFSZXNwb2=
5zZSgpfWAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogI=
CAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UuZmluYWxVcmwpOwogICAgICAgICAg=
ICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICA=
gICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB9LAogICAgIC=
AgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHdpbmRvd=
y5sb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAg=
ICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIHNwb29mQWRWaWV3KCkgewogICAgICAgIHJldHVybiB=
uZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgIEdNLnhtbEh0dH=
BSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgI=
CB1cmw6ICdodHRwczovL3RzdW8tc2NyaXB0Lnh5ei9jb21wbGV0ZScsCiAgICAgICAgICAgICAg=
ICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogJ2h0dHBzOi8vem9uYXR=
0aS5jb20vJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bm=
N0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2Uuc=
mVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9y=
OiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwo=
gICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICAgIG=
xldCBkZXN0ID0gbmV3IFVSTChhd2FpdCBnZXREZXN0VXJsKCkpOwogICAgaWYgKGRlc3QuaG9zd=
G5hbWUgPT0gJ3RzdW8tc2NyaXB0Lnh5eicpIHsKICAgICAgICBub3RpZmljYXRpb24oJzEvMiDl=
rozmiJDvvIEnKTsKICAgICAgICBhd2FpdCBzbGVlcCgwKTsKICAgICAgICB3aW5kb3cubG9jYXR=
pb24uYXNzaWduKGRlc3QuaHJlZik7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBhd2FpdCBzcG=
9vZkFkVmlldygpOwogICAgICAgIG5vdGlmaWNhdGlvbignMi8yIOWujOaIkO+8gScpOwogICAgI=
CAgIGF3YWl0IHNsZWVwKDApOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBz=
Oi8vdHN1by1zY3JpcHQueHl6L2NvbXBsZXRlJykKICAgIH0KfQoKbW9kdWxlLmV4cG9ydHMgPSB=
7CiAgICBjb2RleCwKICAgIGFyY2V1cywKICAgIGtleXJibHgsCiAgICBwYW5kYWRldmVsb3BtZW=
50LAogICAgaG9ob2h1YiwKICAgIHRzdW9odWIsCn0KCiB9KSwKCiAyMjM6CiAoKG1vZHVsZSkgP=
T4gewoKZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IpIHsKICAgIGxldCBlcnJvclRleHQgPSBl=
cnJvci5tZXNzYWdlID8gZXJyb3IubWVzc2FnZSA6IGVycm9yOwogICAgYWxlcnQoZXJyb3JUZXh=
0KTsKICAgIEdNX25vdGlmaWNhdGlvbih7CiAgICAgICAgdGV4dDogZXJyb3JUZXh0LAogICAgIC=
AgIHRpdGxlOiAiRVJST1IiLAogICAgICAgIHVybDogJ2h0dHBzOi8vZGlzY29yZC5nZy85MnA2W=
DJkcnhuJywKICAgICAgICBzaWxlbnQ6IHRydWUsCiAgICB9KTsKfQoKZnVuY3Rpb24gc2xlZXAo=
bXMpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x=
2ZSwgbXMpKTsKfQoKZnVuY3Rpb24gbGlua3ZlcnRpc2VTcG9vZihsaW5rKSB7CiAgICByZXR1cm=
4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIEdNLnhtbEh0dHBSZ=
XF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgdXJsOiBsaW5r=
LAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBSZWZlcmVyOiAnaHR0cHM=
6Ly9saW5rdmVydGlzZS5jb20vJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25sb2FkOi=
BmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2Uuc=
mVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rp=
b24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICB=
9CiAgICAgICAgfSk7CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gZ2V0VHVybnN0aWxlUmVzcG=
9uc2UoKSB7CiAgICBsZXQgbm90aWYgPSBzZXRJbnRlcnZhbChub3RpZmljYXRpb24sIDYwMDAsI=
Cfor7flrozmiJDkurrmnLrpqozor4HvvIEnLCA1MDAwKQogICAgbGV0IHJlcyA9ICcnOwogICAg=
d2hpbGUgKHRydWUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXMgPSB0dXJuc3RpbGU=
uZ2V0UmVzcG9uc2UoKTsKICAgICAgICAgICAgaWYgKHJlcykgeyBicmVhazsgfQogICAgICAgIH=
0gY2F0Y2ggKGUpIHsgfQogICAgICAgIGF3YWl0IHNsZWVwKDApOwogICAgfQogICAgY2xlYXJJb=
nRlcnZhbChub3RpZik7CiAgICByZXR1cm4gdHVybnN0aWxlLmdldFJlc3BvbnNlKCk7Cn0KCmFz=
eW5jIGZ1bmN0aW9uIGdldEdyZWNhcHRjaGFSZXNwb25zZSgpIHsKICAgIGxldCBub3RpZiA9IHN=
ldEludGVydmFsKG5vdGlmaWNhdGlvbiwgNjAwMCwgJ+ivt+WujOaIkOS6uuacuumqjOivge+8gS=
csIDUwMDApCiAgICBsZXQgcmVzID0gJyc7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgIHRye=
SB7CiAgICAgICAgICAgIHJlcyA9IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKTsKICAgICAgICAg=
ICAgaWYgKHJlcykgeyBicmVhazsgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgICAgIGF=
3YWl0IHNsZWVwKDApOwogICAgfQogICAgY2xlYXJJbnRlcnZhbChub3RpZik7CiAgICByZXR1cm=
4gZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpOwp9CgpmdW5jdGlvbiBub3RpZmljYXRpb24obWVzc=
2FnZSwgdGltZW91dCkgewogICAgbGV0IGNvbmZpZyA9IHsKICAgICAgICB0ZXh0OiBtZXNzYWdl=
LAogICAgICAgIHRpdGxlOiAiSU5GTyIsCiAgICAgICAgc2lsZW50OiB0cnVlLAogICAgfQogICA=
gaWYgKHRpbWVvdXQpIHsgY29uZmlnLnRpbWVvdXQgPSB0aW1lb3V0OyB9CiAgICBHTV9ub3RpZm=
ljYXRpb24oY29uZmlnKTsKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgICBoYW5kbGVFcnJvciwKI=
CAgIHNsZWVwLAogICAgbGlua3ZlcnRpc2VTcG9vZiwKICAgIGdldFR1cm5zdGlsZVJlc3BvbnNl=
LAogICAgZ2V0R3JlY2FwdGNoYVJlc3BvbnNlLAogICAgbm90aWZpY2F0aW9uLAp9CgogfSkKCiA=
JfSk7CiAJdmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9OwogCWZ1bmN0aW9uIF9fd2=
VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHsKIAkJdmFyIGNhY2hlZE1vZHVsZSA9IF9fd2Vic=
GFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07CiAJCWlmIChjYWNoZWRNb2R1bGUgIT09IHVu=
ZGVmaW5lZCkgewogCQkJcmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzOwogCQl9CiAJCXZhciB=
tb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0gewogCQkJZXhwb3=
J0czoge30KIAkJfTsKIAkJX193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb=
2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CiAJCXJldHVybiBtb2R1bGUuZXhw=
b3J0czsKIAl9CnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0ge307CigoKSA9PiB7CmNvbnN0IHs=
gY29kZXgsIGFyY2V1cywgZGVsdGEsIHZhbHlzZSwga2V5cmJseCwgcGFuZGFkZXZlbG9wbWVudC=
wgaG9ob2h1YiwgdHN1b2h1YiwgZmx1eHVzIH0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTsKC=
mNvbnN0IHsgc2xlZXAsIG5vdGlmaWNhdGlvbiB9ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjMp=
OwoKY29uc3QgeyBpbmplY3RBZHMgfSA9IF9fd2VicGFja19yZXF1aXJlX18oNjM2KTsKCnN0YXJ=
0KCk7Cgphc3luYyBmdW5jdGlvbiBzdGFydCgpIHsKCiAgICBpbmplY3RBZHMoKTsKCiAgICBHTV=
9ub3RpZmljYXRpb24oewogICAgICAgIHRleHQ6IGDlvIDlp4vkuK3jgILjgILjgILjgIJgLAogI=
CAgICAgIHRpdGxlOiAiSU5GTyIsCiAgICAgICAgc2lsZW50OiB0cnVlLAogICAgICAgIHRpbWVv=
dXQ6IDgwMDAKICAgIH0pOwoKICAgIGF3YWl0IHNsZWVwKDApOwoKICAgIEdNX25vdGlmaWNhdGl=
vbih7CiAgICAgICAgdGV4dDogYOW8gOWni++8gWAsCiAgICAgICAgdGl0bGU6ICJJTkZPIiwKIC=
AgICAgICBzaWxlbnQ6IHRydWUsCiAgICAgICAgdGltZW91dDogMjAwMAogICAgfSk7CgogICAgc=
3dpdGNoICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpIHsKICAgICAgICBjYXNlICdtb2JpbGUu=
Y29kZXgubG9sJzogewogICAgICAgICAgICBhd2FpdCBjb2RleCgpOwogICAgICAgICAgICBicmV=
hazsKICAgICAgICB9CiAgICAgICAgY2FzZSAnc3BkbXRlYW0uY29tJzogewogICAgICAgICAgIC=
Bhd2FpdCBhcmNldXMoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjY=
XNlICd2YWx5c2UuYmVzdCc6IHsKICAgICAgICAgICAgYXdhaXQgdmFseXNlKCk7CiAgICAgICAg=
ICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY2FzZSAna2V5cmJseC5jb20nOiB7CiAgICA=
gICAgICAgIGF3YWl0IGtleXJibHgoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogIC=
AgICAgIGNhc2UgJ3BhbmRhZGV2ZWxvcG1lbnQubmV0JzogewogICAgICAgICAgICBhd2FpdCBwY=
W5kYWRldmVsb3BtZW50KCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBj=
YXNlICdob2hvaHVidi1hYzkwZjY3NzYyYzQuaGVyb2t1YXBwLmNvbSc6IHsKICAgICAgICAgICA=
gYXdhaXQgaG9ob2h1YigpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2=
FzZSAndHN1by1zY3JpcHQueHl6JzogewogICAgICAgICAgICBhd2FpdCB0c3VvaHViKCk7CiAgI=
CAgICAgICAgIGJyZWFrOwoKICAgICAgICB9CiAgICAgICAgZGVmYXVsdDogewogICAgICAgICAg=
ICBub3RpZmljYXRpb24oJ3Vuc3VwcG9ydGVkIGtleXN5c3RlbScpOwogICAgICAgICAgICBicmV=
hazsKICAgICAgICB9CiAgICB9Cn0KfSkoKTsKCiB9KSgpCjs=3D"},{"name":"Cloudflare B=
ypasser for Nitro Type Race","options":{"check_for_updates":true,"comment":=
null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":=
null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframe=
s":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_incl=
udes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig=
_includes":[],"orig_matches":["https://www.nitrotype.com/race","https://www=
.nitrotype.com/race/*"],"orig_noframes":null,"orig_run_at":"document-idle",=
"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"us=
e_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,=
"user_modified":null},"storage":{"ts":1707208285091,"data":{}},"enabled":tr=
ue,"position":6,"file_url":"https://update.greasyfork.org/scripts/468893/Cl=
oudflare%20Bypasser%20for%20Nitro%20Type%20Race.user.js","uuid":"5dc5137f-c=
588-4031-bdaf-ecd06553436e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgI=
CAgICAgICAgICAgQ2xvdWRmbGFyZSBCeXBhc3NlciBmb3IgTml0cm8gVHlwZSBSYWNlCi8vIEBt=
YXRjaCAgICAgICAgICAgIGh0dHBzOi8vd3d3Lm5pdHJvdHlwZS5jb20vcmFjZQovLyBAbWF0Y2g=
gICAgICAgICAgICBodHRwczovL3d3dy5uaXRyb3R5cGUuY29tL3JhY2UvKgovLyBAYXV0aG9yIC=
AgICAgICAgICBTaW5nIERldmVsb3BtZW50cwovLyBAZ3JhbnQgICAgICAgICAgICBub25lCi8vI=
EBkZXNjcmlwdGlvbiAgICAgIEJ5cGFzcyBDbG91ZGZsYXJlCi8vIEBsaWNlbnNlIE1JVAovLyBA=
dmVyc2lvbiAgICAgICAgICAyCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9zaW5nZGV2ZWxvcG1lbnR=
zYmxvZy53b3JkcHJlc3MuY29tLz9wPTQzNTQKLy8gQGljb24gICAgICAgICBodHRwczovL3Npbm=
dkZXZlbG9wbWVudHNibG9nLmZpbGVzLndvcmRwcmVzcy5jb20vMjAyMi8xMS9uaXRyb3R5cGUtb=
G9nby5qcGcKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3Nj=
cmlwdHMvNDY4ODkzL0Nsb3VkZmxhcmUlMjBCeXBhc3NlciUyMGZvciUyME5pdHJvJTIwVHlwZSU=
yMFJhY2UudXNlci5qcwovLyBAdXBkYXRlVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3=
JnL3NjcmlwdHMvNDY4ODkzL0Nsb3VkZmxhcmUlMjBCeXBhc3NlciUyMGZvciUyME5pdHJvJTIwV=
HlwZSUyMFJhY2UubWV0YS5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCgovLyBUaGlzIGNvZGUgaXMg=
Zm9yIGVkdWNhdGlvbmFsIHB1cnBvc2VzIG9ubHkgYW5kIG1heSBub3Qgd29yayBvciBiZSBzYWZ=
lIHRvIHVzZS4KLy8gSXQgdHJpZXMgdG8gcmV2ZXJzZSBlbmdpbmVlciB0aGUgQ2xvdWRmbGFyZS=
BKYXZhU2NyaXB0IGNoYWxsZW5nZSBhbmQgbWFrZSBhIHJlcXVlc3QgdG8gdGhlIHRhcmdldCB3Z=
WJzaXRlLgoKLy8gRGVmaW5lIHRoZSB0YXJnZXQgd2Vic2l0ZSBVUkwKY29uc3QgdGFyZ2V0VVJM=
ID0gJ2h0dHBzOi8vbml0cm90eXBlLmNvbS9yYWNlJzsKCi8vIERlZmluZSBhIGZ1bmN0aW9uIHR=
vIGV4dHJhY3QgdGhlIGNoYWxsZW5nZSBwYXJhbWV0ZXJzIGZyb20gdGhlIEhUTUwgc291cmNlCm=
Z1bmN0aW9uIGdldENoYWxsZW5nZVBhcmFtcyhodG1sKSB7CiAgLy8gVXNlIHJlZ3VsYXIgZXhwc=
mVzc2lvbnMgdG8gbWF0Y2ggdGhlIGNoYWxsZW5nZSBwYXJhbWV0ZXJzCiAgY29uc3QgY2hhbGxl=
bmdlID0gL25hbWU9ImpzY2hsX3ZjIiB2YWx1ZT0iKFx3KykiLy5leGVjKGh0bWwpWzFdOwogIGN=
vbnN0IHBhc3MgPSAvbmFtZT0icGFzcyIgdmFsdWU9IiguKz8pIi8uZXhlYyhodG1sKVsxXTsKIC=
Bjb25zdCBzID0gL3Nccyo9XHMqZG9jdW1lbnRcLmNyZWF0ZUVsZW1lbnRcKCdkaXYnXCk7XHMqc=
1wuaW5uZXJIVE1MXHMqPVxzKiIoLis/KSI7Ly5leGVjKGh0bWwpWzFdOwogIGNvbnN0IGsgPSAv=
a1xzKj1ccyonKFx3KyknOy8uZXhlYyhodG1sKVsxXTsKICByZXR1cm4ge2NoYWxsZW5nZSwgcGF=
zcywgcywga307Cn0KCi8vIERlZmluZSBhIGZ1bmN0aW9uIHRvIHNvbHZlIHRoZSBjaGFsbGVuZ2=
UgZXhwcmVzc2lvbiB1c2luZyBldmFsCmZ1bmN0aW9uIHNvbHZlQ2hhbGxlbmdlRXhwcihleHByK=
SB7CiAgLy8gUmVwbGFjZSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCB3aXRoIGEgZHVtbXkgZnVu=
Y3Rpb24KICBleHByID0gZXhwci5yZXBsYWNlKC9kb2N1bWVudFwuZ2V0RWxlbWVudEJ5SWQvZyw=
gJ2Z1bmN0aW9uKCl7fScpOwogIC8vIEV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGFuZCByZXR1cm=
4gdGhlIHJlc3VsdAogIHJldHVybiBldmFsKGV4cHIpOwp9CgovLyBEZWZpbmUgYSBmdW5jdGlvb=
iB0byBtYWtlIGEgcmVxdWVzdCB1c2luZyBYTUxIdHRwUmVxdWVzdApmdW5jdGlvbiBtYWtlUmVx=
dWVzdCh1cmwsIGNhbGxiYWNrKSB7CiAgLy8gQ3JlYXRlIGEgbmV3IFhNTEh0dHBSZXF1ZXN0IG9=
iamVjdAogIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogIC8vIE9wZW4gYSBHRV=
QgcmVxdWVzdCB0byB0aGUgdXJsCiAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7CiAgLy8gU2V0IHRoZ=
SByZXNwb25zZSB0eXBlIHRvIHRleHQKICB4aHIucmVzcG9uc2VUeXBlID0gJ3RleHQnOwogIC8v=
IFNldCB0aGUgb25sb2FkIGV2ZW50IGhhbmRsZXIgdG8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3R=
pb24gd2l0aCB0aGUgcmVzcG9uc2UgdGV4dAogIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKIC=
AgIGNhbGxiYWNrKHhoci5yZXNwb25zZVRleHQpOwogIH07CiAgLy8gU2VuZCB0aGUgcmVxdWVzd=
AogIHhoci5zZW5kKCk7Cn0KCi8vIE1ha2UgYW4gaW5pdGlhbCByZXF1ZXN0IHRvIHRoZSB0YXJn=
ZXQgd2Vic2l0ZQptYWtlUmVxdWVzdCh0YXJnZXRVUkwsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiA=
gLy8gR2V0IHRoZSBjaGFsbGVuZ2UgcGFyYW1ldGVycyBmcm9tIHRoZSByZXNwb25zZQogIGNvbn=
N0IHBhcmFtcyA9IGdldENoYWxsZW5nZVBhcmFtcyhyZXNwb25zZSk7CiAgLy8gU29sdmUgdGhlI=
GNoYWxsZW5nZSBleHByZXNzaW9uIHVzaW5nIGV2YWwKICBjb25zdCBhbnN3ZXIgPSBzb2x2ZUNo=
YWxsZW5nZUV4cHIocGFyYW1zLnMgKyBwYXJhbXMuayk7CiAgLy8gQ29uc3RydWN0IHRoZSB2ZXJ=
pZmljYXRpb24gVVJMIHdpdGggdGhlIGNoYWxsZW5nZSBwYXJhbWV0ZXJzIGFuZCBhbnN3ZXIKIC=
Bjb25zdCB2ZXJpZnlVUkwgPSB0YXJnZXRVUkwgKyAnL2Nkbi1jZ2kvbC9jaGtfanNjaGw/anNja=
GxfdmM9JyArIHBhcmFtcy5jaGFsbGVuZ2UgKyAnJnBhc3M9JyArIHBhcmFtcy5wYXNzICsgJyZq=
c2NobF9hbnN3ZXI9JyArIGFuc3dlcjsKICAvLyBXYWl0IGZvciA0IHNlY29uZHMgYmVmb3JlIG1=
ha2luZyB0aGUgdmVyaWZpY2F0aW9uIHJlcXVlc3QKICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew=
ogICAgbWFrZVJlcXVlc3QodmVyaWZ5VVJMLCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAvL=
yBDaGVjayBpZiB0aGUgdmVyaWZpY2F0aW9uIHdhcyBzdWNjZXNzZnVsCiAgICAgIGlmIChyZXNw=
b25zZS5pbmNsdWRlcygnWW91IGFyZSBiZWluZyByZWRpcmVjdGVkJykpIHsKICAgICAgICAvLyB=
SZWRpcmVjdCB0byB0aGUgdGFyZ2V0IHdlYnNpdGUKICAgICAgICB3aW5kb3cubG9jYXRpb24uaH=
JlZiA9IHRhcmdldFVSTDsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBEaXNwbGF5IGFuIGVyc=
m9yIG1lc3NhZ2UKICAgICAgICBhbGVydCgnVmVyaWZpY2F0aW9uIGZhaWxlZCcpOwogICAgICB9=
CiAgICB9KTsKICB9LCA0MDAwKTsKfSk7Cg=3D=3D"},{"name":"FL=E5=8D=A1=EF=BC=88=E6=
=89=8B=E6=9C=BA=EF=BC=8C=E7=94=B5=E8=84=91=EF=BC=89","options":{"check_for_=
updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false=
,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for=
_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_ex=
cludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["l=
inkvertise.com","fluxteam.net","*"],"orig_excludes":[],"orig_includes":[],"=
orig_matches":["https://fluxusbypass.pages.dev/*","https://keysystem.fluxte=
am.net/android/checkpoint/start.php?HWID=3D*"],"orig_noframes":null,"orig_r=
un_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[]=
,"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_type=
s":null,"unwrap":null,"user_modified":1707669006777},"storage":{"ts":170729=
5421309,"data":{}},"enabled":true,"position":7,"uuid":"a0a7f3c8-f181-4abc-a=
469-606425659cc1","source":"Ci8vID09VXNlclNjcmlwdD09Ci8vIEBuYW1lICAgICAgICA=
gRkzljaHvvIjmiYvmnLrvvIznlLXohJHvvIkKLy8gQGRlc2NyaXB0aW9uICBlCi8vIEBhdXRob3=
IgICAgICAgWU9VCgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vZmx1eHVzYnlwYXNzLnBhZ2VzL=
mRldi8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9rZXlzeXN0ZW0uZmx1eHRlYW0ubmV0L2Fu=
ZHJvaWQvY2hlY2twb2ludC9zdGFydC5waHA/SFdJRD0qCgovLyBAY29ubmVjdCAgICAgIGxpbmt=
2ZXJ0aXNlLmNvbQovLyBAY29ubmVjdCAgICAgIGZsdXh0ZWFtLm5ldAovLyBAY29ubmVjdCAgIC=
AgICoKCi8vIEB2ZXJzaW9uICAgICAgMQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovL=
yBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgR01fbm90=
aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCgovLyBAYW50aWZlYXR1cmV=
zIGFkcwoKLy8gQGxpY2Vuc2UgICAgICBNSVQKLy8gQGljb24gICAgICAgICBodHRwczovL2ZpbG=
VzLmNhdGJveC5tb2UvN3AybGF4LmpwZwovLyA9PS9Vc2VyU2NyaXB0PT0KCmlmIChkb2N1bWVud=
C50aXRsZSA9PSAnSnVzdCBhIG1vbWVudC4uLicpIHsKICAgIHJldHVybjsKfQoKLyoqKioqKi8g=
KCgpID0+IHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJdmFyIF9fd2VicGFja19tb2R=
1bGVzX18gPSAoewoKLyoqKi8gNjM2OgovKioqLyAoKG1vZHVsZSkgPT4gewoKZnVuY3Rpb24gaW=
5qZWN0QWRzKCkgewogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PSAnZmx1eHVzY=
nlwYXNzLnBhZ2VzLmRldicpIHsKICAgICAgICByZXR1cm47CiAgICB9Cgp9Cgptb2R1bGUuZXhw=
b3J0cyA9IHsKICAgIGluamVjdEFkcwp9CgovKioqLyB9KSwKCi8qKiovIDI0OgovKioqLyAoKG1=
vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSA9Pi=
B7Cgpjb25zdCB7IGhhbmRsZUVycm9yLCBzbGVlcCwgbGlua3ZlcnRpc2VTcG9vZiwgZ2V0VHVyb=
nN0aWxlUmVzcG9uc2UsIGdldEdyZWNhcHRjaGFSZXNwb25zZSwgbm90aWZpY2F0aW9uIH0gPSBf=
X3dlYnBhY2tfcmVxdWlyZV9fKDIyMykKCmFzeW5jIGZ1bmN0aW9uIGZsdXh1cygpIHsKICAgIGx=
ldCB1c2VyQWdlbnRzID0gYXdhaXQgKGF3YWl0IGZldGNoKCdodHRwczovL2Nkbi5qc2RlbGl2ci=
5uZXQvbnBtL3RvcC11c2VyLWFnZW50cy9zcmMvbW9iaWxlLmpzb24nKSkuanNvbigpCiAgICB1c=
2VyQWdlbnRzID0gdXNlckFnZW50cy5maWx0ZXIodXNlckFnZW50ID0+IHVzZXJBZ2VudC5pbmNs=
dWRlcygnQ2hyb21lJykpOwogICAgbGV0IHVzZXJBZ2VudCA9IHVzZXJBZ2VudHNbTWF0aC5mbG9=
vcihNYXRoLnJhbmRvbSgpICogdXNlckFnZW50cy5sZW5ndGgpXTsKICAgIGxldCBmbHV4dXNDdX=
N0b20gPSB7CiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgICAgICAgIHJld=
HVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICBH=
TS54bWxIdHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICA=
gICAgICAgICAgICAgICAgICB1cmw6IGxpbmssCiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3=
VzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgI=
CAgICAgICAgInVzZXItYWdlbnQiOiB1c2VyQWdlbnQsCiAgICAgICAgICAgICAgICAgICAgICAg=
ICJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi9=
4bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcG=
xpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43IiwKICAgICAgICAgICAgICAgICAgI=
CAgICAgImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlLCBiciIsCiAgICAgICAgICAg=
ICAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiZW4tVVMsZW47cT0wLjksemgtQ047cT0=
wLjgsemg7cT0wLjciLAogICAgICAgICAgICAgICAgICAgICAgICAic2VjLWNoLXVhIjogIlwiTm=
90IEEoQnJhbmRcIjt2PVwiOTlcIiwgXCJHb29nbGUgQ2hyb21lXCI7dj1cIjEyMVwiLCBcIkNoc=
m9taXVtXCI7dj1cIjEyMVwiIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1jaC11YS1t=
b2JpbGUiOiAiPzEiLAogICAgICAgICAgICAgICAgICAgICAgICAic2VjLWNoLXVhLXBsYXRmb3J=
tIjogIlwiQW5kcm9pZFwiIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1kZX=
N0IjogImRvY3VtZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlI=
jogIm5hdmlnYXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjog=
Im5vbmUiLAogICAgICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXVzZXIiOiAiPzEiLAo=
gICAgICAgICAgICAgICAgICAgICAgICAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6ICIxIg=
ogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jd=
GlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25z=
ZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiB=
mdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKT=
sKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgf=
Sk7CiAgICAgICAgfSwKICAgICAgICBsaW5rdmVydGlzZVNwb29mOiBmdW5jdGlvbiAobGluaywg=
Y29va2llcykgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamV=
jdCkgPT4gewogICAgICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgIC=
AgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBsaW5rLAogI=
CAgICAgICAgICAgICAgICAgIGFub255bW91czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBo=
ZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjogdXNlckFnZW5=
0LAogICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdG=
lvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2Vic=
CxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztx=
PTAuNyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCw=
gZGVmbGF0ZSwgYnIiLAogICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIj=
ogImVuLVVTLGVuO3E9MC45LHpoLUNOO3E9MC44LHpoO3E9MC43IiwKICAgICAgICAgICAgICAgI=
CAgICAgICAgImNvb2tpZSI6IGNvb2tpZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICJyZWZl=
cmVyIjogImh0dHBzOi8vbGlua3ZlcnRpc2UuY29tLyIsCiAgICAgICAgICAgICAgICAgICAgICA=
gICJzZWMtY2gtdWEiOiAiXCJOb3QgQShCcmFuZFwiO3Y9XCI5OVwiLCBcIkdvb2dsZSBDaHJvbW=
VcIjt2PVwiMTIxXCIsIFwiQ2hyb21pdW1cIjt2PVwiMTIxXCIiLAogICAgICAgICAgICAgICAgI=
CAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICI/MSIsCiAgICAgICAgICAgICAgICAgICAgICAg=
ICJzZWMtY2gtdWEtcGxhdGZvcm0iOiAiXCJBbmRyb2lkXCIiLAogICAgICAgICAgICAgICAgICA=
gICAgICAic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLAogICAgICAgICAgICAgICAgICAgIC=
AgICAic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLAogICAgICAgICAgICAgICAgICAgICAgI=
CAic2VjLWZldGNoLXNpdGUiOiAiY3Jvc3Mtc2l0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAg=
ICJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ1cGdyYWR=
lLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgIC=
AgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgI=
CAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAg=
ICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHs=
KICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgIC=
AgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgI=
CAgICBwYXJzZUhlYWRlcnM6IGZ1bmN0aW9uIChoZWFkZXJzKSB7CiAgICAgICAgICAgIHZhciB0=
cmltID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5=
yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICAgIC=
AsIGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJnKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuI=
E9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0n=
OwogICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIGlmICghaGVhZGVycykKICAgICAgICA=
gICAgICAgIHJldHVybiB7fQoKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9CgogICAgICAgIC=
AgICB2YXIgaGVhZGVyc0FyciA9IHRyaW0oaGVhZGVycykuc3BsaXQoJ1xuJykKCiAgICAgICAgI=
CAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVyc0Fyci5sZW5ndGg7IGkrKykgewogICAgICAg=
ICAgICAgICAgdmFyIHJvdyA9IGhlYWRlcnNBcnJbaV0KICAgICAgICAgICAgICAgIHZhciBpbmR=
leCA9IHJvdy5pbmRleE9mKCc6JykKICAgICAgICAgICAgICAgICAgICAsIGtleSA9IHRyaW0ocm=
93LnNsaWNlKDAsIGluZGV4KSkudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgICAgICAgICwgd=
mFsdWUgPSB0cmltKHJvdy5zbGljZShpbmRleCArIDEpKQoKICAgICAgICAgICAgICAgIGlmICh0=
eXBlb2YgKHJlc3VsdFtrZXldKSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICA=
gICByZXN1bHRba2V5XSA9IHZhbHVlCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYX=
kocmVzdWx0W2tleV0pKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2Y=
Wx1ZSkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0=
W2tleV0gPSBbcmVzdWx0W2tleV0sIHZhbHVlXQogICAgICAgICAgICAgICAgfQogICAgICAgICA=
gICB9CgogICAgICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgICAgIH0sCiAgICB9OwogICAgdH=
J5IHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9Vc2Vyc2NyaXB0JykuaW5uZ=
XJIVE1MID0gJzxoMT7nu5Xov4c8L2gxPic7CiAgICAgICAgbGV0IGlucHV0Qm94ID0gZG9jdW1l=
bnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5wdXQtYm94JylbMF0KICAgICAgICBpbnB1dEJ=
veC5kaXNhYmxlZCA9IGZhbHNlOwoKICAgICAgICBsZXQgZmx1eHVzTGluayA9IG5ldyBVUkwod2=
luZG93LmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKTsKICAgICAgICBsZ=
XQgZmx1eHVzTGlua1JlZ2V4ID0gL2h0dHBzOlwvXC9rZXlzeXN0ZW1cLmZsdXh0ZWFtXC5uZXRc=
L2FuZHJvaWRcL2NoZWNrcG9pbnRcL3N0YXJ0XC5waHBcP0hXSUQ9LisvOwogICAgICAgIGlmICh=
mbHV4dXNMaW5rICYmIGZsdXh1c0xpbmtSZWdleC50ZXN0KGZsdXh1c0xpbmspKSB7CiAgICAgIC=
AgICAgIGlucHV0Qm94LnZhbHVlID0gZmx1eHVzTGluazsKICAgICAgICAgICAgaW5wdXRCb3guZ=
GlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9V=
c2Vyc2NyaXB0JykuaW5uZXJIVE1MID0gJzxoMT7kvaDnrYnlsLHlrozkuovkuobvvIzliKvkubH=
liqg8L2gxPjxoMj7pqazkuIrlsLHlpb08YnI+KGF3YSk8L2gyPic7CiAgICAgICAgICAgIGF3YW=
l0IHNsZWVwKDApOwogICAgICAgIH0KCiAgICAgICAgZmx1eHVzTGluayA9IGlucHV0Qm94LnZhb=
HVlOwogICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgIGlmIChmbHV4dXNMaW5rUmVn=
ZXgudGVzdChmbHV4dXNMaW5rKSkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICA=
gIH0KICAgICAgICAgICAgYXdhaXQgc2xlZXAoMCk7CiAgICAgICAgICAgIGZsdXh1c0xpbmsgPS=
BpbnB1dEJveC52YWx1ZTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5S=
WQoJ25vVXNlcnNjcmlwdCcpLmlubmVySFRNTCA9ICc8aDE+5byA5aeL57uV6L+HPC9oMT4nOwog=
ICAgICAgIGlucHV0Qm94LmRpc2FibGVkID0gdHJ1ZTsKCiAgICAgICAgbGV0IHN0YXJ0RGF0YSA=
9IGF3YWl0IGZsdXh1c0N1c3RvbS5zdGFydChmbHV4dXNMaW5rKTsKICAgICAgICBsZXQgY29va2=
llcyA9IGZsdXh1c0N1c3RvbS5wYXJzZUhlYWRlcnMoc3RhcnREYXRhLnJlc3BvbnNlSGVhZGVyc=
ylbJ3NldC1jb29raWUnXTsKICAgICAgICBjb29raWVzID0gY29va2llcy5zcGxpdCgnOycpLmZp=
bmQoY29va2llID0+IHsgcmV0dXJuIGNvb2tpZS5pbmNsdWRlcygnUEhQU0VTU0lEPScpIH0pCgo=
gICAgICAgIGF3YWl0IGZsdXh1c0N1c3RvbS5saW5rdmVydGlzZVNwb29mKCdodHRwczovL2ZsdX=
h0ZWFtLm5ldC9hbmRyb2lkL2NoZWNrcG9pbnQvY2hlY2sxLnBocCcsIGNvb2tpZXMpOwogICAgI=
CAgIG5vdGlmaWNhdGlvbignMS8yIOWujOaIkCcsIDI5MDApOwogICAgICAgIGF3YWl0IHNsZWVw=
KDApOwoKICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmbHV4dXNDdXN0b20ubGlua3ZlcnR=
pc2VTcG9vZignaHR0cHM6Ly9mbHV4dGVhbS5uZXQvYW5kcm9pZC9jaGVja3BvaW50L21haW4ucG=
hwJywgY29va2llcyk7CiAgICAgICAgbm90aWZpY2F0aW9uKCcyLzIg5a6M5oiQJywgMjkwMCk7C=
iAgICAgICAgYXdhaXQgc2xlZXAoMCk7CgogICAgICAgIGxldCBkb2N1bWVudFBhcnNlciA9IG5l=
dyBET01QYXJzZXIoKTsKICAgICAgICBsZXQgbmV3Qm9keURhdGEgPSBkb2N1bWVudFBhcnNlci5=
wYXJzZUZyb21TdHJpbmcocmVzcG9uc2UsICd0ZXh0L2h0bWwnKTsKICAgICAgICBkb2N1bWVudC=
5ib2R5LmlubmVySFRNTCA9IG5ld0JvZHlEYXRhLmJvZHkuaW5uZXJIVE1MOwogICAgICAgIGRvY=
3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2EgYnV0dG9uOm50aC1jaGlsZCgyKScpLm9uY2xpY2sgPSBm=
dW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGR=
vY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NvZGUnKS5pbm5lckhUTUwudHJpbSgpKTsKICAgICAgIC=
B9CiAgICAgICAgbm90aWZpY2F0aW9uKCfkuLvkurrlrozmiJDkuobvvIEnKTsKICAgICAgICBhd=
2FpdCBzbGVlcCgwKTsKbGV0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5ID4g=
bWFpbiA+IGNvZGUiKS50ZXh0Q29udGVudDsKYXN5bmMgZnVuY3Rpb24gY29weUNvbnRlbnQoKSB=
7CiAgdHJ5IHsKICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpOw=
ogICAgY29uc29sZS5sb2coJ+WGheWuueW3suWkjeWItuWIsOWJqui0tOadvycpOwogIH0gY2F0Y=
2ggKGVycikgewogICAgY29uc29sZS5lcnJvcign5aSN5Yi25aSx6LSlOiAnLCBlcnIpOwogIH0K=
fQpjb3B5Q29udGVudCgpOwogICAgfQoKICAgIGNhdGNoIChlKSB7CiAgICAgICAgZG9jdW1lbnQ=
uZ2V0RWxlbWVudEJ5SWQoJ25vVXNlcnNjcmlwdCcpLmlubmVySFRNTCA9ICc8aDE+5L2g6KKrYm=
Fu5LqG77yM6K+35o2i5LiA5Liq6IqC54K577yBPC9oMT4nOwogICAgICAgIGhhbmRsZUVycm9yK=
G5ldyBFcnJvcign5L2g6KKrYmFu5LqG77yM6K+35o2i5LiA5Liq6IqC54K577yBJyksICdmbHV4=
dXMnKTsKICAgIH0KfQoKCm1vZHVsZS5leHBvcnRzID0gewogICAgZmx1eHVzLAp9CgovKioqLyB=
9KSwKCi8qKiovIDIyMzoKLyoqKi8gKChtb2R1bGUpID0+IHsKCmZ1bmN0aW9uIGhhbmRsZUVycm=
9yKGVycm9yKSB7CiAgICBsZXQgZXJyb3JUZXh0ID0gZXJyb3IubWVzc2FnZSA/IGVycm9yLm1lc=
3NhZ2UgOiBlcnJvcjsKICAgIGFsZXJ0KGVycm9yVGV4dCk7CiAgICBHTV9ub3RpZmljYXRpb24o=
ewogICAgICAgIHRleHQ6IGVycm9yVGV4dCwKICAgICAgICB0aXRsZTogIkVSUk9SIiwKICAgICA=
gICBzaWxlbnQ6IHRydWUsCiAgICB9KTsKfQoKZnVuY3Rpb24gc2xlZXAobXMpIHsKICAgIHJldH=
VybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTsKfQoKZ=
nVuY3Rpb24gbGlua3ZlcnRpc2VTcG9vZihsaW5rKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2Uo=
KHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0KHsKICAgICA=
gICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgdXJsOiBsaW5rLAogICAgICAgICAgIC=
BoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBSZWZlcmVyOiAnaHR0cHM6Ly9saW5rdmVydGlzZ=
S5jb20vJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVz=
cG9uc2UpIHsKICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UucmVzcG9uc2VUZXh0KTs=
KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7Ci=
AgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7C=
iAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gZ2V0VHVybnN0aWxlUmVzcG9uc2UoKSB7CiAgICBs=
ZXQgbm90aWYgPSBzZXRJbnRlcnZhbChub3RpZmljYXRpb24sIDYwMDAsICfor7flrozmiJBjYXB=
0Y2hhJywgNTAwMCkKICAgIGxldCByZXMgPSAnJzsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIC=
AgdHJ5IHsKICAgICAgICAgICAgcmVzID0gdHVybnN0aWxlLmdldFJlc3BvbnNlKCk7CiAgICAgI=
CAgICAgIGlmIChyZXMpIHsgYnJlYWs7IH0KICAgICAgICB9IGNhdGNoIChlKSB7IH0KICAgICAg=
ICBhd2FpdCBzbGVlcCgwKTsKICAgIH0KICAgIGNsZWFySW50ZXJ2YWwobm90aWYpOwogICAgcmV=
0dXJuIHR1cm5zdGlsZS5nZXRSZXNwb25zZSgpOwp9Cgphc3luYyBmdW5jdGlvbiBnZXRHcmVjYX=
B0Y2hhUmVzcG9uc2UoKSB7CiAgICBsZXQgbm90aWYgPSBzZXRJbnRlcnZhbChub3RpZmljYXRpb=
24sIDYwMDAsICfor7flrozmiJBjYXB0Y2hhJywgNTAwMCkKICAgIGxldCByZXMgPSAnJzsKICAg=
IHdoaWxlICh0cnVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVzID0gZ3JlY2FwdGN=
oYS5nZXRSZXNwb25zZSgpOwogICAgICAgICAgICBpZiAocmVzKSB7IGJyZWFrOyB9CiAgICAgIC=
AgfSBjYXRjaCAoZSkgeyB9CiAgICAgICAgYXdhaXQgc2xlZXAoMCk7CiAgICB9CiAgICBjbGVhc=
kludGVydmFsKG5vdGlmKTsKICAgIHJldHVybiBncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCk7Cn0K=
CmZ1bmN0aW9uIG5vdGlmaWNhdGlvbihtZXNzYWdlLCB0aW1lb3V0KSB7CiAgICBsZXQgY29uZml=
nID0gewogICAgICAgIHRleHQ6IG1lc3NhZ2UsCiAgICAgICAgdGl0bGU6ICJJTkZPIiwKICAgIC=
AgICBzaWxlbnQ6IHRydWUsCiAgICB9CiAgICBpZiAodGltZW91dCkgeyBjb25maWcudGltZW91d=
CA9IHRpbWVvdXQ7IH0KICAgIEdNX25vdGlmaWNhdGlvbihjb25maWcpOwp9Cgptb2R1bGUuZXhw=
b3J0cyA9IHsKICAgIGhhbmRsZUVycm9yLAogICAgc2xlZXAsCiAgICBsaW5rdmVydGlzZVNwb29=
mLAogICAgZ2V0VHVybnN0aWxlUmVzcG9uc2UsCiAgICBnZXRHcmVjYXB0Y2hhUmVzcG9uc2UsCi=
AgICBub3RpZmljYXRpb24sCn0KCn0pCgp9KTsKdmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX=
yA9IHt9OwpmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7CnZhciBjYWNo=
ZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdOwppZiAoY2FjaGV=
kTW9kdWxlICE9PSB1bmRlZmluZWQpIHsKcmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzOwp9Cn=
ZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0gewpleHBvc=
nRzOiB7fQp9OwpfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5l=
eHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKcmV0dXJuIG1vZHVsZS5leHBvcnRzOwp9CnZ=
hciBfX3dlYnBhY2tfZXhwb3J0c19fID0ge307CigoKSA9PiB7CmNvbnN0IHsgZmx1eHVzIH0gPS=
BfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTsKCmNvbnN0IHsgc2xlZXAsIG5vdGlmaWNhdGlvbiB9I=
D0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjMpOwoKY29uc3QgeyBpbmplY3RBZHMgfSA9IF9fd2Vi=
cGFja19yZXF1aXJlX18oNjM2KTsKCnN0YXJ0KCk7Cgphc3luYyBmdW5jdGlvbiBzdGFydCgpIHs=
KICAgIEdNX25vdGlmaWNhdGlvbih7CiAgICAgICAgdGV4dDogJ+W8gOWni+WSr++8m++8iScsCi=
AgICAgICAgdGl0bGU6ICJJTkZPIiwKICAgICAgICBzaWxlbnQ6IHRydWUsCiAgICAgICAgdGltZ=
W91dDogODAwMAogICAgfSk7CgogICAgYXdhaXQgc2xlZXAoMCk7CgogICAgR01fbm90aWZpY2F0=
aW9uKHsKICAgICAgICB0ZXh0OiBg5LiA5bCP5Lya5bCx5aW977yM5bCx5LiA5bCP5LyaYXdhYCw=
KICAgICAgICB0aXRsZTogIklORk8iLAogICAgICAgIHNpbGVudDogdHJ1ZSwKICAgICAgICB0aW=
1lb3V0OiAyMDAwCiAgICB9KTsKCiAgICBzd2l0Y2ggKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZ=
SkgewogICAgICAgIGNhc2UgJ2tleXN5c3RlbS5mbHV4dGVhbS5uZXQnOiB7CiAgICAgICAgICAg=
IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBzOi8vZmx1eHVzYnlwYXNzLnBhZ2VzLmRldi8=
/bGluaz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSk7CiAgIC=
AgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY2FzZSAnZmx1eHVzYnlwYXNzLnBhZ=
2VzLmRldic6IHsKICAgICAgICAgICAgYXdhaXQgZmx1eHVzKCk7CiAgICAgICAgICAgIGJyZWFr=
OwogICAgICAgIH0KICAgIH0KfQp9KSgpOwoKICAgICAgfSkoKQo7"},{"name":"Bypass Key =
system=EF=BC=88=E9=99=A4=E4=BA=86FL=EF=BC=8C=E5=BF=8D=E8=80=85=EF=BC=891/2"=
,"options":{"check_for_updates":true,"comment":null,"compat_foreach":false,=
"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject=
":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_c=
onnects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":t=
rue,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches"=
:["https://mobile.codex.lol/*","https://fluxusbypass.pages.dev/?link=3D*","=
https://spdmteam.com/key-system-1?hwid=3D*","https://gateway.platoboost.com=
/a/8?id=3D*","https://valyse.best/verification?device_id=3D*","https://keyr=
blx.com/getkey/*","https://auth.pandadevelopment.net/getkey?*","https://hoh=
ohubv-ac90f67762c4.herokuapp.com/api/getkeyv2?hwid=3D*","https://tsuo-scrip=
t.xyz/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":=
[],"use_connects":["fluxteam.net"],"use_excludes":[],"use_includes":[],"use=
_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"=
user_modified":null},"storage":{"ts":1707664545688,"data":{}},"enabled":tru=
e,"position":8,"file_url":"none","uuid":"67940d87-f294-42a2-a40b-846674dad5=
ea","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBCeXBhc3MgS2V5I=
HN5c3Rlbe+8iOmZpOS6hkZM77yM5b+N6ICF77yJMS8yCi8vIEBob21lcGFnZVVSTCAgaHR0cHM6=
Ly9kaXNjb3JkLmdnLzkycDZYMmRyeG4KLy8gQGRlc2NyaXB0aW9uICA2NjYKLy8gQGF1dGhvciA=
gICAgICBZT1UKLy8gQG1hdGNoICAgICAgICBodHRwczovL21vYmlsZS5jb2RleC5sb2wvKgovLy=
BAbWF0Y2ggICAgICAgIGh0dHBzOi8vZmx1eHVzYnlwYXNzLnBhZ2VzLmRldi8/bGluaz0qCi8vI=
EBtYXRjaCAgICAgICAgaHR0cHM6Ly9zcGRtdGVhbS5jb20va2V5LXN5c3RlbS0xP2h3aWQ9Kgov=
LyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vZ2F0ZXdheS5wbGF0b2Jvb3N0LmNvbS9hLzg/aWQ9Kgo=
vLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vdmFseXNlLmJlc3QvdmVyaWZpY2F0aW9uP2RldmljZV=
9pZD0qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9rZXlyYmx4LmNvbS9nZXRrZXkvKgovLyBAb=
WF0Y2ggICAgICAgIGh0dHBzOi8vYXV0aC5wYW5kYWRldmVsb3BtZW50Lm5ldC9nZXRrZXk/Kgov=
LyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vaG9ob2h1YnYtYWM5MGY2Nzc2MmM0Lmhlcm9rdWFwcC5=
jb20vYXBpL2dldGtleXYyP2h3aWQ9KgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vdHN1by1zY3=
JpcHQueHl6LyoKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQHZlcnNpb24gICAgI=
CAxXzBfMAovLyBAZ3JhbnQgICAgICAgIEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgICAg=
ICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQHJ=
lcXVpcmUgICAgICBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQ4NDMzMS=
8xMzA4NzM3L2N1c3RvbW5vdGlmaWNhdGlvbnMuanMKLy8gQHJlc291cmNlICAgICBub3RpZkNzc=
yBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZjNvYWxsL2F3ZXNvbWUtbm90aWZpY2F0aW9u=
cy9kaXN0L3N0eWxlLmNzcwovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAc3VwcG9ydFVSTCAgIGh=
0dHBzOi8vZGlzY29yZC5nZy85MnA2WDJkcnhuCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9maW=
xlcy5jYXRib3gubW9lLzdwMmxheC5qcGcKLy8gQGRvd25sb2FkVVJMIG5vbmUKLy8gPT0vVXNlc=
lNjcmlwdD09Cgpjb25zdCBub3RpZmllciA9IG5ldyBBV04oeyBpY29uczogeyBlbmFibGVkOiB0=
cnVlIH0gfSk7Cgpjb25zdCB1dGlsID0gewogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIChlcnJ=
vciwga2V5U3lzdGVtKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgbm=
F2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoYFske2tleVN5c3RlbX1dICR7ZXJyb3IubWVzc=
2FnZX1gKTsKICAgICAgICBub3RpZmllci5hbGVydChlcnJvci5tZXNzYWdlICsgJzxicj48YnI+=
YnlwYXNzIGZhaWxlZC48YnI+cGxlYXNlIDxhIGhyZWY9Imh0dHBzOi8vZGlzY29yZC5nZy85MnA=
2WDJkcnhuIj5jbGljayBoZXJlIHRvIGpvaW4gdGhlIGRpc2NvcmQgc2VydmVyPC9hPiB0byByZX=
BvcnQgdGhpcyBpc3N1ZS4nLCB7IGR1cmF0aW9uczogeyBhbGVydDogMCB9IH0pOwogICAgICAgI=
HdpbmRvdy5vcGVuKCdodHRwczovL2Rpc2NvcmQuZ2cvOTJwNlgyZHJ4bicsICdfYmxhbmsnKTsK=
ICAgIH0sCiAgICBzbGVlcDogZnVuY3Rpb24gKG1zKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9=
taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpOwogICAgfSwKICAgIGxpbm=
t2ZXJ0aXNlU3Bvb2Y6IGZ1bmN0aW9uIChsaW5rLCBwbGF0Zm9ybSA9ICcnKSB7CiAgICAgICAgb=
GV0IGhlYWRlcnMgPSB7CiAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vbGlua3ZlcnRp=
c2UuY29tLycsCiAgICAgICAgfQogICAgICAgIGxldCBhbmRyb2lkSGVhZGVycyA9IHsKICAgICA=
gICAgICAgImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2=
F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsKi8qO3E9MC44IiwKICAgICAgI=
CAgICAgImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlLCBiciIsCiAgICAgICAgICAg=
ICJhY2NlcHQtbGFuZ3VhZ2UiOiAiZW4tVVMiLAogICAgICAgICAgICAicmVmZXJlciI6ICJodHR=
wczovL2xpbmt2ZXJ0aXNlLmNvbS8iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZG=
9jdW1lbnQiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLAogICAgI=
CAgICAgICAic2VjLWZldGNoLXNpdGUiOiAiY3Jvc3Mtc2l0ZSIsCiAgICAgICAgICAgICJzZWMt=
ZmV0Y2gtdXNlciI6ICI/MSIsCiAgICAgICAgICAgICJ0ZSI6ICJ0cmFpbGVycyIsCiAgICAgICA=
gICAgICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiCiAgICAgICAgfQogICAgICAgIG=
xldCB3aW5kb3dzSGVhZGVycyA9IHsKICAgICAgICAgICAgImFjY2VwdCI6ICJ0ZXh0L2h0bWwsY=
XBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGlt=
YWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmd=
lO3Y9YjM7cT0wLjciLAogICAgICAgICAgICAicmVmZXJlciI6ICJodHRwczovL2xpbmt2ZXJ0aX=
NlLmNvbS8iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLAogICAgI=
CAgICAgICAic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLAogICAgICAgICAgICAic2VjLWZl=
dGNoLXNpdGUiOiAiY3Jvc3Mtc2l0ZSIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtdXNlciI6ICI=
/MSIsCiAgICAgICAgICAgICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiCiAgICAgIC=
AgfQogICAgICAgIGlmIChwbGF0Zm9ybSkgewogICAgICAgICAgICBpZiAocGxhdGZvcm0gPT0gJ=
2FuZHJvaWQnKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzID0gYW5kcm9pZEhlYWRlcnM7CiAg=
ICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAocGxhdGZvcm0gPT0gJ3dpbmRvd3MnKSB=
7CiAgICAgICAgICAgICAgICBoZWFkZXJzID0gd2luZG93c0hlYWRlcnM7CiAgICAgICAgICAgIH=
0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpI=
D0+IHsKICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0=
aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgIHVybDogbGluaywKICAgICAgICAgICAgICAgIGh=
lYWRlcnM6IGhlYWRlcnMsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb2=
5zZSkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UucmVzcG9uc2VUZXh0K=
TsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAo=
ZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICA=
gICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRUdXJuc3RpbG=
VSZXNwb25zZTogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgIHdoaWxlICh0eXBlb2YgdHVyb=
nN0aWxlID09ICd1bmRlZmluZWQnIHx8ICF0dXJuc3RpbGU/LmdldFJlc3BvbnNlKSB7CiAgICAg=
ICAgICAgIGF3YWl0IHV0aWwuc2xlZXAoMTAwMCk7CiAgICAgICAgfQogICAgICAgIGxldCByZXM=
gPSAnJzsKICAgICAgICB3aGlsZSAoIXJlcykgewogICAgICAgICAgICB0cnkgewogICAgICAgIC=
AgICAgICAgcmVzID0gdHVybnN0aWxlLmdldFJlc3BvbnNlKCk7CiAgICAgICAgICAgICAgICBub=
3RpZmllci53YXJuaW5nKCdwbGVhc2Ugc29sdmUgdGhlIGNhcHRjaGEnLCB7IGR1cmF0aW9uczog=
eyB3YXJuaW5nOiAyMDAwIH0gfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgICA=
gICAgICBhd2FpdCB1dGlsLnNsZWVwKDI1MDApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdH=
VybnN0aWxlLmdldFJlc3BvbnNlKCk7CiAgICB9LAogICAgZ2V0R3JlY2FwdGNoYVJlc3BvbnNlO=
iBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgd2hpbGUgKHR5cGVvZiBncmVjYXB0Y2hhID09=
ICd1bmRlZmluZWQnIHx8ICFncmVjYXB0Y2hhPy5nZXRSZXNwb25zZSkgewogICAgICAgICAgICB=
hd2FpdCB1dGlsLnNsZWVwKDEwMDApOwogICAgICAgIH0KICAgICAgICBsZXQgcmVzID0gJyc7Ci=
AgICAgICAgd2hpbGUgKCFyZXMpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgI=
HJlcyA9IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKTsKICAgICAgICAgICAgICAgIG5vdGlmaWVy=
Lndhcm5pbmcoJ3BsZWFzZSBzb2x2ZSB0aGUgY2FwdGNoYScsIHsgZHVyYXRpb25zOiB7IHdhcm5=
pbmc6IDIwMDAgfSB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICAgICAgICAgIG=
F3YWl0IHV0aWwuc2xlZXAoMjUwMCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBncmVjYXB0Y=
2hhLmdldFJlc3BvbnNlKCk7CiAgICB9LAogICAgZ2V0SGNhcHRjaGFSZXNwb25zZTogYXN5bmMg=
ZnVuY3Rpb24gKCkgewogICAgICAgIHdoaWxlICh0eXBlb2YgaGNhcHRjaGEgPT0gJ3VuZGVmaW5=
lZCcgfHwgIWhjYXB0Y2hhPy5nZXRSZXNwb25zZSkgewogICAgICAgICAgICBhd2FpdCB1dGlsLn=
NsZWVwKDEwMDApOwogICAgICAgIH0KICAgICAgICBsZXQgcmVzID0gJyc7CiAgICAgICAgd2hpb=
GUgKCFyZXMpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJlcyA9IGhjYXB0=
Y2hhLmdldFJlc3BvbnNlKCk7CiAgICAgICAgICAgICAgICBub3RpZmllci53YXJuaW5nKCdwbGV=
hc2Ugc29sdmUgdGhlIGNhcHRjaGEnLCB7IGR1cmF0aW9uczogeyB3YXJuaW5nOiAyMDAwIH0gfS=
k7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgICAgICAgICBhd2FpdCB1dGlsLnNsZ=
WVwKDI1MDApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGNhcHRjaGEuZ2V0UmVzcG9uc2Uo=
KTsKICAgIH0KfTsKCgphc3luYyBmdW5jdGlvbiBjb2RleCgpIHsKICAgIGxldCBzZXNzaW9uID0=
gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFuZHJvaWQtc2Vzc2lvbiIpOwogICAgaWYgKCFzZXNzaW=
9uKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKGRvY3VtZW50Py5nZXRFbGVtZW50c=
0J5VGFnTmFtZSgnYScpPy5sZW5ndGggJiYgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUo=
J2EnKVswXS5pbm5lckhUTUwuaW5jbHVkZXMoJ0dldCBzdGFydGVkJykpIHsKICAgICAgICBkb2N=
1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLmNsaWNrKCk7CiAgICB9CiAgICBhc3=
luYyBmdW5jdGlvbiBnZXRTdGFnZXMoKSB7CiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZ=
mV0Y2goJ2h0dHBzOi8vYXBpLmNvZGV4LmxvbC92MS9zdGFnZS9zdGFnZXMnLCB7CiAgICAgICAg=
ICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICA=
gICdBbmRyb2lkLVNlc3Npb24nOiBzZXNzaW9uCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKIC=
AgICAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgaWYgKGRhd=
GEuc3VjY2VzcykgewogICAgICAgICAgICBpZiAoZGF0YS5hdXRoZW50aWNhdGVkKSB7CiAgICAg=
ICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGR=
hdGEuc3RhZ2VzOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbm=
V3IEVycm9yKCJmYWlsZWQgdG8gZ2V0IHN0YWdlcyIpOwogICAgICAgIH0KICAgIH0KCiAgICBhc=
3luYyBmdW5jdGlvbiBpbml0aWF0ZVN0YWdlKHN0YWdlSWQpIHsKICAgICAgICBsZXQgcmVzcG9u=
c2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuY29kZXgubG9sL3YxL3N0YWdlL2luaXRpYXR=
lJywgewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgaGVhZGVyczogew=
ogICAgICAgICAgICAgICAgJ0FuZHJvaWQtU2Vzc2lvbic6IHNlc3Npb24sCiAgICAgICAgICAgI=
CAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgIH0sCiAg=
ICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3RhZ2VJZCB9KQogICAgICAgIH0pOwo=
gICAgICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwoKICAgICAgICBpZiAoZG=
F0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLnRva2VuOwogICAgICAgIH0KI=
CAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gaW5p=
dGlhdGUgc3RhZ2UiKTsKICAgICAgICB9CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gdmFsaWR=
hdGVTdGFnZSh0b2tlbiwgcmVmZXJyZXIpIHsKICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdC=
BmZXRjaCgnaHR0cHM6Ly9hcGkuY29kZXgubG9sL3YxL3N0YWdlL3ZhbGlkYXRlJywgewogICAgI=
CAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAg=
ICAgICAgJ0FuZHJvaWQtU2Vzc2lvbic6IHNlc3Npb24sCiAgICAgICAgICAgICAgICAnQ29udGV=
udC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgJ1Rhc2stUmVmZX=
JyZXInOiByZWZlcnJlcgogICAgICAgICAgICB9LAogICAgICAgICAgICBib2R5OiBKU09OLnN0c=
mluZ2lmeSh7IHRva2VuIH0pCiAgICAgICAgfSk7CiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBy=
ZXNwb25zZS5qc29uKCk7CgogICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICA=
gcmV0dXJuIGRhdGEudG9rZW47CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgIC=
B0aHJvdyBuZXcgRXJyb3IoImZhaWxlZCB0byB2YWxpZGF0ZSBzdGFnZSIpOwogICAgICAgIH0KC=
iAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gYXV0aGVudGljYXRlKHZhbGlkYXRlZFRva2Vucykg=
ewogICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5jb2RleC5=
sb2wvdjEvc3RhZ2UvYXV0aGVudGljYXRlJywgewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJy=
wKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0FuZHJvaWQtU2Vzc2lvb=
ic6IHNlc3Npb24sCiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9u=
L2pzb24nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHs=
gdG9rZW5zOiB2YWxpZGF0ZWRUb2tlbnMgfSkKICAgICAgICB9KTsKICAgICAgICBsZXQgZGF0YS=
A9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogI=
CAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAg=
ICAgIHRocm93IG5ldyBFcnJvcigiZmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSIpOwogICAgICAgIH0=
KICAgIH0KCiAgICBmdW5jdGlvbiBkZWNvZGVUb2tlbkRhdGEodG9rZW4pIHsKICAgICAgICBsZX=
QgZGVjb2RlZCA9IGF0b2IodG9rZW4uc3BsaXQoIi4iKVsxXSk7CiAgICAgICAgcmV0dXJuIEpTT=
04ucGFyc2UoZGVjb2RlZCk7CiAgICB9CgogICAgbGV0IHN0YWdlcyA9IGF3YWl0IGdldFN0YWdl=
cygpOwogICAgY29uc29sZS5sb2coc3RhZ2VzKTsKICAgIGxldCBzdGFnZXNDb21wbGV0ZWQgPSA=
wOwogICAgd2hpbGUgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0YWdlc1tzdGFnZXNDb21wbGV0ZW=
RdKSAmJiBzdGFnZXNDb21wbGV0ZWQgPCBzdGFnZXMubGVuZ3RoKSB7CiAgICAgICAgc3RhZ2VzQ=
29tcGxldGVkKys7CiAgICB9CiAgICBpZiAoc3RhZ2VzQ29tcGxldGVkID09IHN0YWdlcy5sZW5n=
dGgpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgbGV0IHZhbGlkYXRlZFRva2VucyA9IFt=
dOwogICAgdHJ5IHsKICAgICAgICB3aGlsZSAoc3RhZ2VzQ29tcGxldGVkIDwgc3RhZ2VzLmxlbm=
d0aCkgewogICAgICAgICAgICBsZXQgc3RhZ2VJZCA9IHN0YWdlc1tzdGFnZXNDb21wbGV0ZWRdL=
nV1aWQ7CiAgICAgICAgICAgIGxldCBpbml0VG9rZW4gPSBhd2FpdCBpbml0aWF0ZVN0YWdlKHN0=
YWdlSWQpOwoKICAgICAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCgwKTsKCiAgICAgICAgICAgIGx=
ldCB0b2tlbkRhdGEgPSBkZWNvZGVUb2tlbkRhdGEoaW5pdFRva2VuKTsKICAgICAgICAgICAgbG=
V0IHJlZmVycmVyID0gdG9rZW5EYXRhLmxpbmsuaW5jbHVkZXMoJ3dvcmtpbmsnKSA/ICdodHRwc=
zovL3dvcmsuaW5rLycgOiAnaHR0cHM6Ly9saW5rdmVydGlzZS5jb20vJzsKICAgICAgICAgICAg=
bGV0IHZhbGlkYXRlZFRva2VuID0gYXdhaXQgdmFsaWRhdGVTdGFnZShpbml0VG9rZW4sIHJlZmV=
ycmVyKTsKICAgICAgICAgICAgdmFsaWRhdGVkVG9rZW5zLnB1c2goeyB1dWlkOiBzdGFnZUlkLC=
B0b2tlbjogdmFsaWRhdGVkVG9rZW4gfSk7CiAgICAgICAgICAgIG5vdGlmaWVyLmluZm8oYCR7c=
3RhZ2VzQ29tcGxldGVkICsgMX0vJHtzdGFnZXMubGVuZ3RofSBzdGFnZXMgY29tcGxldGVkYCk7=
CiAgICAgICAgICAgIGF3YWl0IHV0aWwuc2xlZXAoMCk7CgogICAgICAgICAgICBzdGFnZXNDb21=
wbGV0ZWQrKzsKICAgICAgICB9CiAgICAgICAgaWYgKGF1dGhlbnRpY2F0ZSh2YWxpZGF0ZWRUb2=
tlbnMpKSB7CiAgICAgICAgICAgIG5vdGlmaWVyLnN1Y2Nlc3MoJ2J5cGFzc2VkIHN1Y2Nlc3Nmd=
WxseScsIHsgZHVyYXRpb25zOiB7IHN1Y2Nlc3M6IDAgfSB9KTsKICAgICAgICAgICAgYXdhaXQg=
dXRpbC5zbGVlcCgwKTsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICA=
gICAgIH0KICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgdXRpbC5oYW5kbGVFcnJvcihlLC=
AnY29kZXgnKTsKICAgIH0KfQoKYXN5bmMgZnVuY3Rpb24gZmx1eHVzKCkgewogICAgICAgICAgI=
CBhd2FpdCB1dGlsLnNsZWVwKDApOwogICAgICAgICAgICBuZXcgQVdOKCkudGlwKCfmrKLov47k=
vb/nlKjmraTohJrmnKwnLCB7ZHVyYXRpb25zOiB7dGlwOiAwfX0pCiAgICAgICAgICAgIGF3YWl=
0IHV0aWwuc2xlZXAoNDAwKTsKICAgIG5vdGlmaWVyLmluZm8oYDEvMiBzdGFnZXMgY29tcGxldG=
VkYCk7CiAgICAgICAgICAgIGF3YWl0IHV0aWwuc2xlZXAoNjAwKTsKICAgIG5vdGlmaWVyLmluZ=
m8oYDIvMiBzdGFnZXMgY29tcGxldGVkYCk7CiAgICAgICAgICAgIGF3YWl0IHV0aWwuc2xlZXAo=
MTAwMCk7CiAgICBub3RpZmllci5zdWNjZXNzKGDllrXvvJ9gKTsKfQoKYXN5bmMgZnVuY3Rpb24=
gYXJjZXVzKCkgewogICAgaWYgKGRvY3VtZW50LnRpdGxlID09ICdKdXN0IGEgbW9tZW50Li4uJy=
kgeyByZXR1cm47IH0KICAgICAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCgwKTsKICAgIG5ldyBBV=
04oKS50aXAoJ+asoui/juS9v+eUqOatpOiEmuacrCcsIHtkdXJhdGlvbnM6IHt0aXA6IDB9fSkK=
ICAgICAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCg0MDApOwogICAgbm90aWZpZXIuaW5mbyhgMS8=
zIHN0YWdlcyBjb21wbGV0ZWRgKTsKICAgICAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCg2MDApOw=
ogICAgbm90aWZpZXIuaW5mbyhgMi8zIHN0YWdlcyBjb21wbGV0ZWRgKTsKICAgICAgICAgICAgY=
XdhaXQgdXRpbC5zbGVlcCg2MDApOwogICAgbm90aWZpZXIuaW5mbyhgMy8zIHN0YWdlcyBjb21w=
bGV0ZWRgKTsKICAgICAgICAgICBhd2FpdCB1dGlsLnNsZWVwKDcwMCk7CiAgICBub3RpZmllci5=
zdWNjZXNzKGDllrXvvJ9gKTvmrKLov47kvb/nlKjohJrmnKwKfQoKYXN5bmMgZnVuY3Rpb24gZG=
VsdGEoKSB7CiAgICBpZiAoZG9jdW1lbnQudGl0bGUgPT0gJ0p1c3QgYSBtb21lbnQuLi4nKSB7I=
HJldHVybjsgfQogICAgbGV0IGlkID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikuc2Vh=
cmNoUGFyYW1zLmdldCgnaWQnKTsKICAgIGxldCBsaW5rSW5mbyA9IGF3YWl0IChhd2FpdCBmZXR=
jaCgnaHR0cHM6Ly9hcGktZ2F0ZXdheS5wbGF0b2Jvb3N0LmNvbS92MS9hdXRoZW50aWNhdG9ycy=
84LycgKyBpZCkpLmpzb24oKTsKICAgIGlmIChsaW5rSW5mby5rZXkpIHsKICAgICAgICBub3RpZ=
mllci5zdWNjZXNzKCdieXBhc3NlZCBzdWNjZXNzZnVsbHknLCB7IGR1cmF0aW9uczogeyBzdWNj=
ZXNzOiAwIH0gfSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IHRva2VuID0gbmV3IFV=
STCh3aW5kb3cubG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zLmdldCgndGsnKTsKICAgIGlmIC=
ghdG9rZW4pIHsKICAgICAgICBsZXQgY2FwdGNoYVJlcXVpcmVkID0gbGlua0luZm8uY2FwdGNoY=
TsKICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS1nYXRld2F5LnBs=
YXRvYm9vc3QuY29tL3YxL3Nlc3Npb25zL2F1dGgvOC8nICsgaWQsIHsKICAgICAgICAgICAgbWV=
0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICdDb2=
50ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgfSwKICAgICAgICAgI=
CAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgImNhcHRjaGEiOiBjYXB0=
Y2hhUmVxdWlyZWQgPyBhd2FpdCB1dGlsLmdldFR1cm5zdGlsZVJlc3BvbnNlKCkgOiAiIiwKICA=
gICAgICAgICAgICAgICJ0eXBlIjogY2FwdGNoYVJlcXVpcmVkID8gIlR1cm5zdGlsZSIgOiAiIg=
ogICAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgICAgZGF0YSA9IGF3YWl0IGRhdGEuanNvb=
igpOwoKICAgICAgICBub3RpZmllci5pbmZvKCcxLzEgc3RhZ2VzIGNvbXBsZXRlZCcpOwogICAg=
ICAgIGF3YWl0IHV0aWwuc2xlZXAoMCk7CgogICAgICAgIGxldCBmb2xsb3dlZFVybCA9IGRhdGE=
ucmVkaXJlY3Q7CiAgICAgICAgbGV0IGRlY3J5cHRlZFVybCA9IGZvbGxvd2VkVXJsOy8vYXdhaX=
QgKGF3YWl0IGZldGNoKGBodHRwczovL2J5cGFzcy5yYmx4LndvcmtlcnMuZGV2L2RlbHRhLWRlY=
3J5cHQ/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGZvbGxvd2VkVXJsKX1gKSkudGV4dCgpOwoK=
ICAgICAgICBsZXQgZW5jb2RlZERlc3QgPSBuZXcgVVJMKGRlY3J5cHRlZFVybCkuc2VhcmNoUGF=
yYW1zLmdldCgncicpOwogICAgICAgIGxldCBmb2xsb3dlZERlc3QgPSBhdG9iKGVuY29kZWREZX=
N0KTsKICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGZvbGxvd2VkRGVzdCk7CiAgICB9C=
iAgICBlbHNlIHsKICAgICAgICBhd2FpdCB1dGlsLnNsZWVwKDUwMDApOwogICAgICAgIGF3YWl0=
IChhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGktZ2F0ZXdheS5wbGF0b2Jvb3N0LmNvbS92MS9zZXN=
zaW9ucy9hdXRoLzgvJHtpZH0vJHt0b2tlbn1gLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ1BVVC=
csCiAgICAgICAgfSkpLmpzb24oKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgIG5vd=
GlmaWVyLnN1Y2Nlc3MoJ2J5cGFzc2VkIHN1Y2Nlc3NmdWxseScsIHsgZHVyYXRpb25zOiB7IHN1=
Y2Nlc3M6IDAgfSB9KTsKICAgICAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCgwKTsKICAgICAgICA=
gICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihyZXMucmVkaXJlY3QpOwogICAgICAgIH0pLmNhdG=
NoKGUgPT4gewogICAgICAgICAgICB1dGlsLmhhbmRsZUVycm9yKGUsICdkZWx0YScpOwogICAgI=
CAgIH0pCiAgICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIHZhbHlzZSgpIHsKICAgIGlmIChkb2N1bWVu=
dC50aXRsZSA9PSAnSnVzdCBhIG1vbWVudC4uLicpIHsgcmV0dXJuOyB9CiAgICBmdW5jdGlvbiB=
jb21wbGV0ZUNoZWNrcG9pbnQobGluaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocm=
Vzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0KHsKICAgI=
CAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICB1cmw6IGxpbmssCiAg=
ICAgICAgICAgICAgICBzeW5jaHJvbm91czogdHJ1ZSwKICAgICAgICAgICAgICAgIGhlYWRlcnM=
6IHsKICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiAnaHR0cHM6Ly9sb290LWxpbmtzLmNvbS=
8nLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gK=
HJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAg=
ICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICA=
gICAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB9LAogICAgICAgIC=
AgICB9KTsKICAgICAgICB9KTsKICAgIH0KICAgIGxldCBkZXZpY2VJZCA9IG5ldyBVUkwod2luZ=
G93LmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy5nZXQoJ2RldmljZV9pZCcpOwoKICAgIGF3=
YWl0IGZldGNoKCdodHRwczovL2FwaS52YWx5c2UuYmVzdC9hcGkvY3JlYXRlLWRldmljZT9kZXZ=
pY2VfaWQ9JyArIGRldmljZUlkKTsKCiAgICBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkudmFseX=
NlLmJlc3QvY2hlY2twb2ludC8xP2RldmljZV9pZD0nICsgZGV2aWNlSWQpOwogICAgYXdhaXQgd=
XRpbC5zbGVlcCgwKTsKICAgIGF3YWl0IGNvbXBsZXRlQ2hlY2twb2ludCgnaHR0cHM6Ly92YWx5=
c2UuYmVzdC92ZXJpZmljYXRpb24/Y2hlY2twb2ludD0yJyk7CiAgICBub3RpZmllci5pbmZvKCc=
xLzIgc3RhZ2VzIGNvbXBsZXRlZCcpOwoKICAgIGF3YWl0IHV0aWwuc2xlZXAoMCk7CgogICAgYX=
dhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLnZhbHlzZS5iZXN0L2NoZWNrcG9pbnQvMj9kZXZpY2Vfa=
WQ9JyArIGRldmljZUlkKTsKICAgIGF3YWl0IHV0aWwuc2xlZXAoMCk7CiAgICBhd2FpdCBjb21w=
bGV0ZUNoZWNrcG9pbnQoJ2h0dHBzOi8vdmFseXNlLmJlc3QvdmVyaWZpY2F0aW9uP2NvbXBsZXR=
lZD10cnVlJyk7CiAgICBub3RpZmllci5pbmZvKCcyLzIgc3RhZ2VzIGNvbXBsZXRlZCcpOwoKIC=
AgIGF3YWl0IHV0aWwuc2xlZXAoMCk7CiAgICBub3RpZmllci5zdWNjZXNzKCdieXBhc3NlZCBzd=
WNjZXNzZnVsbHknLCB7IGR1cmF0aW9uczogeyBzdWNjZXNzOiAwIH0gfSk7CiAgICBhd2FpdCB1=
dGlsLnNsZWVwKDApOwogICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly92YWx5c2U=
uYmVzdC92ZXJpZmljYXRpb24/Y29tcGxldGVkPXRydWUnKTsKfQoKCmFzeW5jIGZ1bmN0aW9uIG=
tleXJibHgoKSB7CiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTC5pb=
mNsdWRlcygnWW91IHN1Y2Nlc3NmdWxseSBnb3Qga2V5IScpKSB7CiAgICAgICAgbm90aWZpZXIu=
c3VjY2VzcygnYnlwYXNzZWQgc3VjY2Vzc2Z1bGx5JywgeyBkdXJhdGlvbnM6IHsgc3VjY2Vzczo=
gMCB9IH0pOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IGN1c3RvbVNsZWVwVGltZX=
MgPSB7CiAgICAgICAgJ3Byb2plY3RfbmV4dXMnOiAwLAogICAgICAgICdMLUhVQic6IDAsCiAgI=
CAgICAgJ2J1dGlmJzogMCwKICAgICAgICAnS2V5U3lzdGVtbSc6IDAsCiAgICAgICAgJ05pbEh1=
Yic6IDAsCiAgICAgICAgJ1JhaXRvSHViJzogMCwKICAgICAgICAnQm9uZXpIdWInOiAwLAogICA=
gfTsKICAgIHRyeSB7CiAgICAgICAgbGV0IGh1Yk5hbWU7CiAgICAgICAgbGV0IGh3aWQ7CiAgIC=
AgICAgbGV0IGN1cnJlbnRVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAgI=
CAgICB0cnkgewogICAgICAgICAgICBodWJOYW1lID0gY3VycmVudFVybC5wYXRobmFtZS5zcGxp=
dCgnLycpWzJdOwogICAgICAgICAgICBod2lkID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICc=
pLmZpbHRlcihjb29raWUgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGNvb2tpZS5pbmNsdW=
RlcyhodWJOYW1lKQogICAgICAgICAgICB9KQogICAgICAgICAgICBod2lkID0gaHdpZFswXS5zc=
GxpdCgnPScpWzFdOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICBo=
d2lkID0gY3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdod2lkJyk7CiAgICAgICAgICAgIGl=
mICghaHdpZCkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIV0lEIG5vdCBmb3=
VuZCEnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgbGV0IGFkVXJsID0gYXdha=
XQgZmV0Y2goYGh0dHBzOi8vYXBpLmtleXJibHguY29tL2FwaS9hcHBsaWNhdGlvbi9jYXB0Y2hh=
P25hbWU9JHtodWJOYW1lfSZ0b2tlbj0ke2F3YWl0IHV0aWwuZ2V0R3JlY2FwdGNoYVJlc3BvbnN=
lKCl9Jmh3aWQ9JHtod2lkfWApLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpOwogICAgICAgIGxldC=
BlbmNvZGVkRGVzdCA9IG5ldyBVUkwoYWRVcmxbJ3JlZGlyZWN0X3RvJ10pLnNlYXJjaFBhcmFtc=
y5nZXQoJ3InKTsKICAgICAgICBsZXQgZGVzdDsKICAgICAgICBpZiAoZW5jb2RlZERlc3QpIHsK=
ICAgICAgICAgICAgZGVzdCA9IGF0b2IoZW5jb2RlZERlc3QpOwogICAgICAgIH0KICAgICAgICB=
lbHNlIHsKICAgICAgICAgICAgZGVzdCA9IGBodHRwczovL2tleXJibHguY29tL2dldGtleS8ke2=
h1Yk5hbWV9YAogICAgICAgICAgICBsZXQgY2hlY2twb2ludEluZm8gPSBkb2N1bWVudC5nZXRFb=
GVtZW50c0J5VGFnTmFtZSgnaDInKVswXS5jaGlsZE5vZGVzOwogICAgICAgICAgICBpZiAoY2hl=
Y2twb2ludEluZm9bNl0uZGF0YSAhPSAnMScpIHsKICAgICAgICAgICAgICAgIGRlc3QgKz0gYD9=
zdGVwPSR7Y2hlY2twb2ludEluZm9bMl0uZGF0YX1gOwogICAgICAgICAgICB9CiAgICAgICAgfQ=
oKICAgICAgICBsZXQgc2xlZXBUaW1lID0gNjAwMDsKICAgICAgICBPYmplY3Qua2V5cyhjdXN0b=
21TbGVlcFRpbWVzKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgICAgIGlmIChodWJOYW1lID09=
IGtleSkgewogICAgICAgICAgICAgICAgc2xlZXBUaW1lID0gY3VzdG9tU2xlZXBUaW1lc1trZXl=
dOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgdXRpbC5zbGVlcChzbG=
VlcFRpbWUpOwoKICAgICAgICBhd2FpdCB1dGlsLmxpbmt2ZXJ0aXNlU3Bvb2YoZGVzdCk7CgogI=
CAgICAgIG5vdGlmaWVyLmluZm8oJ3N0YWdlIGNvbXBsZXRlZCcpOwogICAgICAgIGF3YWl0IHV0=
aWwuc2xlZXAoMzAwMCk7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQo=
gICAgY2F0Y2ggKGUpIHsKICAgICAgICB1dGlsLmhhbmRsZUVycm9yKGUsICdrZXlyYmx4Jyk7Ci=
AgICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIHBhbmRhZGV2ZWxvcG1lbnQoKSB7CiAgICBpZiAoZG9jd=
W1lbnQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTC5pbmNsdWRlcygneW91IGdvdCB0aGUga2V5=
JykpIHsKICAgICAgICBub3RpZmllci5zdWNjZXNzKCdieXBhc3NlZCBzdWNjZXNzZnVsbHknLCB=
7IGR1cmF0aW9uczogeyBzdWNjZXNzOiAwIH0gfSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogIC=
AgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTC5pbmNsdWRlcygnU=
2VydmVyIEVycm9yJykpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBlbHNlIGlmIChkb2N1=
bWVudC5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MLmluY2x1ZGVzKCdzZXNzaW9uIGludmFsaWR=
hdGVkJykpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgcmV0dX=
JuOwogICAgfQogICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNT=
C5pbmNsdWRlcygnU2VsZWN0IENoZWNrcG9pbnQnKSkgewogICAgICAgIGxldCBwcm92aWRlcnMg=
PSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJykpOwogICAgICA=
gIGZvciAobGV0IHByb3ZpZGVyIG9mIHByb3ZpZGVycykgewogICAgICAgICAgICBsZXQgcHJvdm=
lkZXJOYW1lID0gcHJvdmlkZXIuZmlyc3RDaGlsZC5pbm5lckhUTUw7CiAgICAgICAgICAgIGlmI=
Chwcm92aWRlck5hbWUgPT0gJ0xpbmt2ZXJ0aXNlJyB8fCBwcm92aWRlck5hbWUgPT0gJ1Nob3J0=
IEphbWJvJykgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihwcm92aWR=
lci5ocmVmKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH=
0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHN1cHBvcnRlZCBhZCBwcm92aWRlciBmb3VuZ=
CcpOwogICAgfQogICAgZnVuY3Rpb24gZ2V0QWRMaW5rKGh3aWQsIHNlcnZpY2UsIHRva2VuKSB7=
CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHs=
KICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOi=
AiUE9TVCIsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dGgucGFuZGFkZXZlbG9wb=
WVudC5uZXQvZ2V0a2V5L3Byb2NlZWQnLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAg=
ICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS1=
1cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICAgICAnUmVmZXJlcic6IHdpbmRvdy5sb2NhdG=
lvbi5ocmVmLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRhdGE6IGBod2lkP=
SR7aHdpZH0mc2VydmljZT0ke3NlcnZpY2V9JnRva2VuPSR7dG9rZW59JnByb3ZpZGVyPWxpbmt2=
ZXJ0aXNlJmNmLXR1cm5zdGlsZS1yZXNwb25zZT0ke2F3YWl0IHV0aWwuZ2V0VHVybnN0aWxlUmV=
zcG9uc2UoKX1gLAogICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzcG9uc2UpIH=
sKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmZpbmFsVXJsKTsKICAgICAgI=
CAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsK=
ICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICA=
gICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldERlc3RVcmwobG=
luaykgewogICAgICAgIGxldCB1cmwgPSBuZXcgVVJMKGVuY29kZVVSSShsaW5rKSk7CiAgICAgI=
CAgc3dpdGNoICh1cmwuaG9zdG5hbWUpIHsKICAgICAgICAgICAgY2FzZSAnbGlua3ZlcnRpc2Uu=
Y29tJzogewogICAgICAgICAgICAgICAgcmV0dXJuIGF0b2IodXJsLnNlYXJjaFBhcmFtcy5nZXQ=
oJ3InKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSAnc2hvcnQtamFtYm8uY29tJz=
ogewogICAgICAgICAgICAgICAgcmV0dXJuIHVybC5zZWFyY2guc3BsaXQoJyZ1cmw9JylbMV07C=
iAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVmYXVsdDogewogICAgICAgICAgICAgICAgdGhy=
b3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBhZCBwcm92aWRlcicpOwogICAgICAgICAgICB9CiA=
gICAgICAgfQogICAgfQogICAgY29uc3QgY3VzdG9tU2xlZXBUaW1lcyA9IHsKICAgICAgICAndm=
VnYXgnOiAxMTAwMCwKICAgICAgICAnbGF6aXVtdG9vbHMnOiAxMTAwMCwKICAgICAgICAnYWRlb=
Gh1Yic6IDExMDAwLAogICAgfTsKICAgIHRyeSB7CiAgICAgICAgbGV0IGN1cnJlbnRVcmwgPSBu=
ZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAgICAgICBsZXQgaHdpZCA9IGN1cnJlbnR=
Vcmwuc2VhcmNoUGFyYW1zLmdldCgnaHdpZCcpOwogICAgICAgIGxldCBzZXJ2aWNlID0gY3Vycm=
VudFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdzZXJ2aWNlJyk7CiAgICAgICAgbGV0IHRva2VuID0gY=
3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdzZXNzaW9udG9rZW4nKTsKICAgICAgICBsZXQg=
cHJvdmlkZXIgPSBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3Byb3ZpZGVyJyk7CgogICA=
gICAgIGxldCBhZFVybCA9IGF3YWl0IGdldEFkTGluayhod2lkLCBzZXJ2aWNlLCB0b2tlbik7Ci=
AgICAgICAgbGV0IGRlc3QgPSBnZXREZXN0VXJsKGFkVXJsKTsKCiAgICAgICAgbGV0IHNsZWVwV=
GltZSA9IDMwMDA7CiAgICAgICAgT2JqZWN0LmtleXMoY3VzdG9tU2xlZXBUaW1lcykuZm9yRWFj=
aChrZXkgPT4gewogICAgICAgICAgICBpZiAoc2VydmljZSA9PSBrZXkpIHsKICAgICAgICAgICA=
gICAgIHNsZWVwVGltZSA9IGN1c3RvbVNsZWVwVGltZXNba2V5XTsKICAgICAgICAgICAgfQogIC=
AgICAgIH0pOwogICAgICAgIGF3YWl0IHV0aWwuc2xlZXAoc2xlZXBUaW1lKTsKCiAgICAgICAgY=
XdhaXQgdXRpbC5saW5rdmVydGlzZVNwb29mKGRlc3QpOwogICAgICAgIG5vdGlmaWVyLmluZm8o=
J3N0YWdlIGNvbXBsZXRlZCcpOwoKICAgICAgICBhd2FpdCB1dGlsLnNsZWVwKDMwMDApOwoKICA=
gICAgICBsZXQgbmV3VXJsID0gbmV3IFVSTChkZXN0KTsKICAgICAgICB0b2tlbiA9IG5ld1VybC=
5zZWFyY2hQYXJhbXMuZ2V0KCdzZXNzaW9udG9rZW4nKTsKICAgICAgICBsZXQgbmV4dENoZWNrc=
G9pbnQgPSBgaHR0cHM6Ly9hdXRoLnBhbmRhZGV2ZWxvcG1lbnQubmV0L2dldGtleT9od2lkPSR7=
aHdpZH0mc2VydmljZT0ke3NlcnZpY2V9JnNlc3Npb250b2tlbj0ke3Rva2VufWA7CiAgICAgICA=
gaWYgKHByb3ZpZGVyKSB7CiAgICAgICAgICAgIG5leHRDaGVja3BvaW50ICs9IGAmcHJvdmlkZX=
I9JHtwcm92aWRlcn1gOwogICAgICAgIH0KICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduK=
G5leHRDaGVja3BvaW50KTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgdXRpbC5oYW5k=
bGVFcnJvcihlLCAncGFuZGFkZXZlbG9wbWVudCcpOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiB=
ob2hvaHViKCkgewogICAgZnVuY3Rpb24gc3Bvb2ZBZFZpZXcodXJsKSB7CiAgICAgICAgcmV0dX=
JuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgR00ueG1sS=
HR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAg=
ICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICA=
gICAgIGFjY2VwdDogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb2=
4veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhc=
HBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuNycsCiAgICAgICAgICAgICAgICAg=
ICAgUmVmZXJlcjogJ2h0dHBzOi8vbG9vdC1saW5rLmNvbS8nLAogICAgICAgICAgICAgICAgICA=
gICdTZWMtRmV0Y2gtRGVzdCc6ICdkb2N1bWVudCcsCiAgICAgICAgICAgICAgICAgICAgJ1NlYy=
1GZXRjaC1Nb2RlJzogJ25hdmlnYXRlJywKICAgICAgICAgICAgICAgICAgICAnU2VjLUZldGNoL=
VNpdGUnOiAnY3Jvc3Mtc2l0ZScsCiAgICAgICAgICAgICAgICAgICAgJ1NlYy1GZXRjaC1Vc2Vy=
JzogJz8xJywKICAgICAgICAgICAgICAgICAgICAnVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0cyc=
6ICcxJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW=
9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogI=
CAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIChlcnJv=
cikgewogICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB=
9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQogICAgdHJ5IHsKICAgICAgICBpZi=
AoZG9jdW1lbnQuYm9keS5pbm5lckhUTUwuaW5jbHVkZXMoJ1N1Y2Nlc3NmdWxseSBXaGl0ZWxpc=
3RlZCEnKSkgewogICAgICAgICAgICBub3RpZmllci5zdWNjZXNzKCdieXBhc3NlZCBzdWNjZXNz=
ZnVsbHknLCB7IGR1cmF0aW9uczogeyBzdWNjZXNzOiAwIH0gfSk7CiAgICAgICAgICAgIHJldHV=
ybjsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnNjcmliZU=
1vZGFsJykucmVtb3ZlKCk7CiAgICAgICAgbGV0IHRva2VuUmVnZXggPSAvbmV4dENoZWNrcG9pb=
nRcKCcuKydcKS9nOwogICAgICAgIGxldCBsb290bGlua1Rva2VuID0gZG9jdW1lbnQuYm9keS5p=
bm5lckhUTUwubWF0Y2godG9rZW5SZWdleClbMV0uc3BsaXQoIiciKVsxXS5zcGxpdCgiJyIpWzB=
dOwogICAgICAgIGF3YWl0IGZldGNoKGBodHRwczovL2hvaG9odWJ2LWFjOTBmNjc3NjJjNC5oZX=
Jva3VhcHAuY29tL2FwaS9jYXB0Y2hhLyR7YXdhaXQgdXRpbC5nZXRUdXJuc3RpbGVSZXNwb25zZ=
SgpfS8ke2xvb3RsaW5rVG9rZW59YCwgeyBtZXRob2Q6ICdQT1NUJyB9KTsKICAgICAgICBhd2Fp=
dCBmZXRjaChgaHR0cHM6Ly9ob2hvaHVidi1hYzkwZjY3NzYyYzQuaGVyb2t1YXBwLmNvbS9hcGk=
vc3RhcnQ/dG9rZW49JHtsb290bGlua1Rva2VufWAsIHsgcmVkaXJlY3Q6ICdtYW51YWwnIH0pOw=
ogICAgICAgIGxldCBjdXJyZW50U3RhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZ=
SgncCcpWzBdLmlubmVySFRNTC5zcGxpdCgnY2hlY2twb2ludCAnKVsxXS5zcGxpdCgnICcpWzBd=
OwogICAgICAgIGF3YWl0IHNwb29mQWRWaWV3KGBodHRwczovL2hvaG9odWJ2LWFjOTBmNjc3NjJ=
jNC5oZXJva3VhcHAuY29tL2FwaS9zdGVwP3N0ZXA9JHtwYXJzZUludChjdXJyZW50U3RhZ2UpIC=
sgMX1gKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9CiAgICBjYXRja=
CAoZSkgewogICAgICAgIHV0aWwuaGFuZGxlRXJyb3IoZSwgJ2hvaG9odWInKTsKICAgIH0KfQoK=
YXN5bmMgZnVuY3Rpb24gdHN1b2h1YigpIHsKICAgIGxldCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5=
sb2NhdGlvbi5ocmVmKTsKICAgIGlmICh1cmwucGF0aG5hbWUgPT0gJy9jb21wbGV0ZScpIHsKIC=
AgICAgICBub3RpZmllci5zdWNjZXNzKCdieXBhc3NlZCBzdWNjZXNzZnVsbHknLCB7IGR1cmF0a=
W9uczogeyBzdWNjZXNzOiAwIH0gfSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgZWxzZSBp=
ZiAoIShbJy9nZXRrZXknLCAnL3N0ZXAnXS5pbmNsdWRlcyh1cmwucGF0aG5hbWUpKSkgewogICA=
gICAgIHJldHVybjsKICAgIH0KICAgIGZ1bmN0aW9uIGdldERlc3RVcmwoKSB7CiAgICAgICAgY2=
9uc29sZS5sb2codXJsKTsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sd=
mUsIHJlamVjdCkgPT4gewogICAgICAgICAgICBHTS54bWxIdHRwUmVxdWVzdCh7CiAgICAgICAg=
ICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgdXJsOiBgJHt1cmwub3JpZ2l=
uICsgdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaH0ke3VybC5zZWFyY2ggPyAnJicgOiAnPyd9Zy=
1yZWNhcHRjaGEtcmVzcG9uc2U9JHthd2FpdCB1dGlsLmdldEdyZWNhcHRjaGFSZXNwb25zZSgpf=
WAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAg=
ICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UuZmluYWxVcmwpOwogICAgICAgICAgICAgICA=
gfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC=
AgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgI=
CAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHdpbmRvdy5sb2Nh=
dGlvbi5ocmVmLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTs=
KICAgIH0KICAgIGZ1bmN0aW9uIHNwb29mQWRWaWV3KCkgewogICAgICAgIHJldHVybiBuZXcgUH=
JvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgIEdNLnhtbEh0dHBSZXF1Z=
XN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICB1cmw6=
ICdodHRwczovL3RzdW8tc2NyaXB0Lnh5ei9jb21wbGV0ZScsCiAgICAgICAgICAgICAgICBoZWF=
kZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogJ2h0dHBzOi8vem9uYXR0aS5jb2=
0vJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uI=
ChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UucmVzcG9u=
c2VUZXh0KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5=
jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgIC=
AgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICAgIGxldCBkZ=
XN0ID0gbmV3IFVSTChhd2FpdCBnZXREZXN0VXJsKCkpOwogICAgaWYgKGRlc3QuaG9zdG5hbWUg=
PT0gJ3RzdW8tc2NyaXB0Lnh5eicpIHsKICAgICAgICBub3RpZmllci5pbmZvKCcxLzIgc3RhZ2U=
gY29tcGxldGVkJyk7CiAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCgzMDAwKTsKICAgICAgICB3aW=
5kb3cubG9jYXRpb24uYXNzaWduKGRlc3QuaHJlZik7CiAgICB9CiAgICBlbHNlIHsKICAgICAgI=
CBhd2FpdCBzcG9vZkFkVmlldygpOwogICAgICAgIG5vdGlmaWVyLmluZm8oJzIvMiBzdGFnZSBj=
b21wbGV0ZWQnKTsKICAgICAgICBhd2FpdCB1dGlsLnNsZWVwKDMwMDApOwogICAgICAgIHdpbmR=
vdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBzOi8vdHN1by1zY3JpcHQueHl6L2NvbXBsZXRlJykKIC=
AgIH0KfQoKKGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgIEdNLmdldFJlc291cmNlVGV4dCgibm90a=
WZDc3MiKS50aGVuKGNzcyA9PiB7CiAgICAgICAgR00uYWRkU3R5bGUoY3NzKQogICAgfSkKCiAg=
ICBub3RpZmllci5pbmZvKCdieXBhc3Mgc3RhcnRlZCcsIHsgZHVyYXRpb25zOiB7IGluZm86IDA=
gfSB9KTsKICAgIG5ldyBBV04oKS53YXJuaW5nKCfms6jmhI/vvIHmraTohJrmnKzkuLrlhY3otL=
nohJrmnKxf5L2c6ICFU2FuYWRpbmnjga5DYXJhc3Rlcm1lJywge2R1cmF0aW9uczoge3dhcm5pb=
mc6IDB9fSkKICAgIGxldCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAg=
IHN3aXRjaCAodXJsLmhvc3RuYW1lKSB7CiAgICAgICAgY2FzZSAnbW9iaWxlLmNvZGV4LmxvbCc=
6IHsKICAgICAgICAgICAgYXdhaXQgY29kZXgoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgIC=
AgfQogICAgICAgIGNhc2UgJ2ZsdXh1c2J5cGFzcy5wYWdlcy5kZXYnOiB7CiAgICAgICAgICAgI=
GF3YWl0IGZsdXh1cygpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2Fz=
ZSAnc3BkbXRlYW0uY29tJzogewogICAgICAgICAgICBhd2FpdCBhcmNldXMoKTsKICAgICAgICA=
gICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNhc2UgJ2dhdGV3YXkucGxhdG9ib29zdC5jb2=
0nOiB7CiAgICAgICAgICAgIGF3YWl0IGRlbHRhKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgI=
CAgIH0KICAgICAgICBjYXNlICd2YWx5c2UuYmVzdCc6IHsKICAgICAgICAgICAgYXdhaXQgdmFs=
eXNlKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY2FzZSAna2V5cmJ=
seC5jb20nOiB7CiAgICAgICAgICAgIGF3YWl0IGtleXJibHgoKTsKICAgICAgICAgICAgYnJlYW=
s7CiAgICAgICAgfQogICAgICAgIGNhc2UgJ2F1dGgucGFuZGFkZXZlbG9wbWVudC5uZXQnOiB7C=
iAgICAgICAgICAgIGF3YWl0IHBhbmRhZGV2ZWxvcG1lbnQoKTsKICAgICAgICAgICAgYnJlYWs7=
CiAgICAgICAgfQogICAgICAgIGNhc2UgJ2hvaG9odWJ2LWFjOTBmNjc3NjJjNC5oZXJva3VhcHA=
uY29tJzogewogICAgICAgICAgICBhd2FpdCBob2hvaHViKCk7CiAgICAgICAgICAgIGJyZWFrOw=
ogICAgICAgIH0KICAgICAgICBjYXNlICd0c3VvLXNjcmlwdC54eXonOiB7CiAgICAgICAgICAgI=
GF3YWl0IHRzdW9odWIoKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIH0KICAgICAgICBk=
ZWZhdWx0OiB7CiAgICAgICAgICAgIG5vdGlmaWVyLmFsZXJ0KCd1bnN1cHBvcnRlZCBrZXkgc3l=
zdGVtJywgeyBkdXJhdGlvbnM6IHsgYWxlcnQ6IDAgfSB9KTsKICAgICAgICAgICAgYnJlYWs7Ci=
AgICAgICAgfQogICAgfQp9KSgpOw=3D=3D","resources":[{"meta":{"name":"style.css=
","url":"https://cdn.jsdelivr.net/gh/f3oall/awesome-notifications/dist/styl=
e.css","ts":1707669782208,"mimetype":"text/css"},"source":"QGtleWZyYW1lcyBh=
d24tZmFkZS1pbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGF3bi1mYWR=
lLW91dHswJXtvcGFjaXR5OjF9dG97b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIGF3bi1zbGlkZS1yaW=
dodHswJXtsZWZ0OjEwMCU7b3BhY2l0eTowfXRve2xlZnQ6MDtvcGFjaXR5OjF9fUBrZXlmcmFtZ=
XMgYXduLXNsaWRlLWxlZnR7MCV7b3BhY2l0eTowO3JpZ2h0OjEwMCV9dG97b3BhY2l0eToxO3Jp=
Z2h0OjB9fUBrZXlmcmFtZXMgYXduLWJhcnswJXtyaWdodDoxMDAlfXRve3JpZ2h0OjB9fS5hd24=
tcG9wdXAtbG9hZGluZy1kb3RzLC5hd24tcG9wdXAtbG9hZGluZy1kb3RzOmFmdGVyLC5hd24tcG=
9wdXAtbG9hZGluZy1kb3RzOmJlZm9yZXthbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0a=
W9uOmF3bi1sb2FkaW5nLWRvdHMgMXMgZWFzZS1pbi1vdXQgaW5maW5pdGU7YmFja2dyb3VuZDoj=
ZmZmO2JvcmRlci1yYWRpdXM6NTAlO2hlaWdodDo2cHg7d2lkdGg6NnB4fS5hd24tcG9wdXAtbG9=
hZGluZy1kb3Rze2FuaW1hdGlvbi1kZWxheTotLjE2cztjb2xvcjojZmZmO2Rpc3BsYXk6aW5saW=
5lLWJsb2NrO21hcmdpbi1sZWZ0OjI0cHg7cG9zaXRpb246cmVsYXRpdmV9LmF3bi1wb3B1cC1sb=
2FkaW5nLWRvdHM6YWZ0ZXIsLmF3bi1wb3B1cC1sb2FkaW5nLWRvdHM6YmVmb3Jle2NvbnRlbnQ6=
IiI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjB9LmF3bi1wb3B1cC1sb2FkaW5nLWRvdHM6YmVmb3J=
le2FuaW1hdGlvbi1kZWxheTotLjMycztsZWZ0Oi0xNnB4fS5hd24tcG9wdXAtbG9hZGluZy1kb3=
RzOmFmdGVye2xlZnQ6MTZweH1Aa2V5ZnJhbWVzIGF3bi1sb2FkaW5nLWRvdHN7MCUsODAlLHRve=
2JveC1zaGFkb3c6MCAwIDAgMH00MCV7Ym94LXNoYWRvdzowIDAgMCAycHh9fSNhd24tcG9wdXAt=
d3JhcHBlcnthbGlnbi1pdGVtczpjZW50ZXI7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1=
hdGlvbi1uYW1lOmF3bi1mYWRlLWluO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdX=
Q7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC43KTtib3R0b206MDtkaXNwbGF5OmZsZXg7anVzdGlme=
S1jb250ZW50OmNlbnRlcjtsZWZ0OjA7b3BhY2l0eTowO3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OjA7=
dG9wOjA7ei1pbmRleDo5OTk5OX0jYXduLXBvcHVwLXdyYXBwZXIuYXduLWhpZGluZ3thbmltYXR=
pb24tbmFtZTphd24tZmFkZS1vdXR9I2F3bi1wb3B1cC13cmFwcGVyIC5hd24tcG9wdXAtYm9keX=
tiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo2cHg7Zm9udC1zaXplOjE0cHg7bWF4LXdpZ=
HRoOjUwMHB4O21pbi13aWR0aDozMjBweDtwYWRkaW5nOjI0cHg7cG9zaXRpb246cmVsYXRpdmU7=
d29yZC1icmVhazpicmVhay13b3JkfSNhd24tcG9wdXAtd3JhcHBlciAuYXduLXBvcHVwLWJvZHk=
uYXduLXBvcHVwLWNvbmZpcm17YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtmbGV4LW=
RpcmVjdGlvbjpjb2x1bW59I2F3bi1wb3B1cC13cmFwcGVyIC5hd24tcG9wdXAtYm9keS5hd24tc=
G9wdXAtY29uZmlybSAuZmF7Y29sb3I6I2MyNjcwMDtmb250LXNpemU6NDRweH0jYXduLXBvcHVw=
LXdyYXBwZXIgLmF3bi1wb3B1cC1ib2R5LmF3bi1wb3B1cC1hc3luYy1ibG9ja3tiYWNrZ3JvdW5=
kOnRyYW5zcGFyZW50O2NvbG9yOiNmZmY7Zm9udC1zaXplOjMycHg7Zm9udC13ZWlnaHQ6NzAwO3=
RleHQtYWxpZ246Y2VudGVyfSNhd24tcG9wdXAtd3JhcHBlciAuYXduLXBvcHVwLXRpdGxle2Zvb=
nQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tdG9wOjhweDt0ZXh0LXRyYW5zZm9y=
bTp1cHBlcmNhc2V9I2F3bi1wb3B1cC13cmFwcGVyIC5hd24tYnV0dG9uc3tkaXNwbGF5OmZsZXg=
7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47bWFyZ2luLXRvcDoyNHB4O3dpZHRoOjEwMC=
V9I2F3bi1wb3B1cC13cmFwcGVyIC5hd24tYnV0dG9ucyAuYXduLWJ0bntib3JkZXI6MDtib3JkZ=
XItcmFkaXVzOjRweDtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDts=
aW5lLWhlaWdodDozMnB4O3RyYW5zaXRpb246YmFja2dyb3VuZCAuMnMgbGluZWFyO3dpZHRoOjQ=
1JX0jYXduLXBvcHVwLXdyYXBwZXIgLmF3bi1idXR0b25zLTEgLmF3bi1idG57d2lkdGg6MTAwJX=
0jYXduLXBvcHVwLXdyYXBwZXIgLmF3bi1idXR0b25zIC5hd24tYnRuLXN1Y2Nlc3N7YmFja2dyb=
3VuZDojNDA4NzFkfSNhd24tcG9wdXAtd3JhcHBlciAuYXduLWJ1dHRvbnMgLmF3bi1idG4tc3Vj=
Y2Vzczpob3ZlcntiYWNrZ3JvdW5kOiMzNjcyMTh9I2F3bi1wb3B1cC13cmFwcGVyIC5hd24tYnV=
0dG9ucyAuYXduLWJ0bi1jYW5jZWx7YmFja2dyb3VuZDojMWM3NmE2fSNhd24tcG9wdXAtd3JhcH=
BlciAuYXduLWJ1dHRvbnMgLmF3bi1idG4tY2FuY2VsOmhvdmVye2JhY2tncm91bmQ6IzE4NjY5M=
H0jYXduLXRvYXN0LWNvbnRhaW5lcntib3R0b206MjRweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7=
cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MjRweDt6LWluZGV4Ojk5OTk4fSNhd24tdG9hc3QtY29udGF=
pbmVyLmF3bi10b3AtbGVmdCwjYXduLXRvYXN0LWNvbnRhaW5lci5hd24tdG9wLXJpZ2h0e2JvdH=
RvbTphdXRvO3RvcDoyNHB4fSNhd24tdG9hc3QtY29udGFpbmVyLmF3bi10b3AtbGVmdCAuYXduL=
XRvYXN0OmZpcnN0LWNoaWxkLCNhd24tdG9hc3QtY29udGFpbmVyLmF3bi10b3AtcmlnaHQgLmF3=
bi10b2FzdDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjE2cHh9I2F3bi10b2FzdC1jb250YWluZXI=
uYXduLWJvdHRvbS1sZWZ0LCNhd24tdG9hc3QtY29udGFpbmVyLmF3bi10b3AtbGVmdHtsZWZ0Oj=
I0cHg7cmlnaHQ6YXV0b30jYXduLXRvYXN0LWNvbnRhaW5lci5hd24tYm90dG9tLWxlZnQgLmF3b=
i10b2FzdCwjYXduLXRvYXN0LWNvbnRhaW5lci5hd24tdG9wLWxlZnQgLmF3bi10b2FzdHthbmlt=
YXRpb24tbmFtZTphd24tc2xpZGUtbGVmdDtyaWdodDoxMDAlfSNhd24tdG9hc3QtY29udGFpbmV=
yLmF3bi1ib3R0b20tbGVmdCAuYXduLXRvYXN0LmF3bi1oaWRpbmcsI2F3bi10b2FzdC1jb250YW=
luZXIuYXduLXRvcC1sZWZ0IC5hd24tdG9hc3QuYXduLWhpZGluZ3tyaWdodDowfSNhd24tdG9hc=
3QtY29udGFpbmVyLmF3bi1ib3R0b20tcmlnaHQgLmF3bi10b2FzdCwjYXduLXRvYXN0LWNvbnRh=
aW5lci5hd24tdG9wLXJpZ2h0IC5hd24tdG9hc3R7YW5pbWF0aW9uLW5hbWU6YXduLXNsaWRlLXJ=
pZ2h0O2xlZnQ6MTAwJX0jYXduLXRvYXN0LWNvbnRhaW5lci5hd24tYm90dG9tLXJpZ2h0IC5hd2=
4tdG9hc3QuYXduLWhpZGluZywjYXduLXRvYXN0LWNvbnRhaW5lci5hd24tdG9wLXJpZ2h0IC5hd=
24tdG9hc3QuYXduLWhpZGluZ3tsZWZ0OjB9LmF3bi10b2FzdHthbmltYXRpb24tZmlsbC1tb2Rl=
OmJvdGg7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXI7YmFja2dyb3VuZDojZWJlYmV=
iO2JvcmRlci1yYWRpdXM6NnB4O2NvbG9yOmdyYXk7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOj=
E0cHg7bWFyZ2luLXRvcDoxNnB4O29wYWNpdHk6MDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246c=
mVsYXRpdmU7d2lkdGg6MzIwcHh9LmF3bi10b2FzdC1jb250ZW50e3dvcmQtYnJlYWs6YnJlYWst=
d29yZH0uYXduLXRvYXN0LWxhYmVse2NvbG9yOmdyYXk7ZGlzcGxheTpibG9jaztmb250LXNpemU=
6MThweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2V9LmF3bi10b2FzdC1pY29ue2FsaWduLWl0ZW=
1zOmNlbnRlcjtib3R0b206MDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO=
3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjE2cHg7dG9wOjZweH0uYXduLXRvYXN0LWljb24gLmZh=
e2NvbG9yOmdyYXk7Zm9udC1zaXplOjQ0cHh9LmF3bi10b2FzdC13cmFwcGVye2JvcmRlcjoycHg=
gc29saWQgI2QxZDFkMTtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjIycHggODhweCAxNnB4ID=
E2cHh9LmF3bi10b2FzdC1wcm9ncmVzcy1iYXJ7aGVpZ2h0OjZweDtsZWZ0OjA7cG9zaXRpb246Y=
WJzb2x1dGU7cmlnaHQ6MDt0b3A6MH0uYXduLXRvYXN0LXByb2dyZXNzLWJhcjphZnRlcnthbmlt=
YXRpb24tZHVyYXRpb246aW5oZXJpdDthbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9=
uLW5hbWU6YXduLWJhcjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcjtiYWNrZ3JvdW=
5kOmdyYXk7Y29udGVudDoiICI7aGVpZ2h0OjZweDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxM=
DAlO3RvcDowO3dpZHRoOjEwMCV9LmF3bi10b2FzdC5hd24tdG9hc3QtcHJvZ3Jlc3MtYmFyLXBh=
dXNlZCAuYXduLXRvYXN0LXByb2dyZXNzLWJhcjphZnRlcnthbmltYXRpb24tcGxheS1zdGF0ZTp=
wYXVzZWR9LmF3bi10b2FzdC5hd24taGlkaW5ne2FuaW1hdGlvbi1uYW1lOmF3bi1mYWRlLW91dC=
FpbXBvcnRhbnR9LmF3bi10b2FzdC5hd24tdG9hc3Qtc3VjY2Vzc3tiYWNrZ3JvdW5kOiNkZmY4Z=
DM7Y29sb3I6IzQwODcxZH0uYXduLXRvYXN0LmF3bi10b2FzdC1zdWNjZXNzIC5hd24tdG9hc3Qt=
d3JhcHBlcntib3JkZXItY29sb3I6I2E3ZDU5MH0uYXduLXRvYXN0LmF3bi10b2FzdC1zdWNjZXN=
zIC5mYSwuYXduLXRvYXN0LmF3bi10b2FzdC1zdWNjZXNzIGJ7Y29sb3I6IzQwODcxZH0uYXduLX=
RvYXN0LmF3bi10b2FzdC1zdWNjZXNzIC5hd24tdG9hc3QtcHJvZ3Jlc3MtYmFyOmFmdGVye2JhY=
2tncm91bmQ6IzQwODcxZH0uYXduLXRvYXN0LmF3bi10b2FzdC1pbmZve2JhY2tncm91bmQ6I2Qz=
ZWJmODtjb2xvcjojMWM3NmE2fS5hd24tdG9hc3QuYXduLXRvYXN0LWluZm8gLmF3bi10b2FzdC1=
3cmFwcGVye2JvcmRlci1jb2xvcjojOWZkM2VmfS5hd24tdG9hc3QuYXduLXRvYXN0LWluZm8gLm=
ZhLC5hd24tdG9hc3QuYXduLXRvYXN0LWluZm8gYntjb2xvcjojMWM3NmE2fS5hd24tdG9hc3QuY=
XduLXRvYXN0LWluZm8gLmF3bi10b2FzdC1wcm9ncmVzcy1iYXI6YWZ0ZXJ7YmFja2dyb3VuZDoj=
MWM3NmE2fS5hd24tdG9hc3QuYXduLXRvYXN0LWFsZXJ0e2JhY2tncm91bmQ6I2Y4ZDVkMztjb2x=
vcjojYTkyMDE5fS5hd24tdG9hc3QuYXduLXRvYXN0LWFsZXJ0IC5hd24tdG9hc3Qtd3JhcHBlcn=
tib3JkZXItY29sb3I6I2YwYTI5ZH0uYXduLXRvYXN0LmF3bi10b2FzdC1hbGVydCAuZmEsLmF3b=
i10b2FzdC5hd24tdG9hc3QtYWxlcnQgYntjb2xvcjojYTkyMDE5fS5hd24tdG9hc3QuYXduLXRv=
YXN0LWFsZXJ0IC5hd24tdG9hc3QtcHJvZ3Jlc3MtYmFyOmFmdGVye2JhY2tncm91bmQ6I2E5MjA=
xOX0uYXduLXRvYXN0LmF3bi10b2FzdC13YXJuaW5ne2JhY2tncm91bmQ6I2ZmZTdjYztjb2xvcj=
ojYzI2NzAwfS5hd24tdG9hc3QuYXduLXRvYXN0LXdhcm5pbmcgLmF3bi10b2FzdC13cmFwcGVye=
2JvcmRlci1jb2xvcjojZmZjNDgwfS5hd24tdG9hc3QuYXduLXRvYXN0LXdhcm5pbmcgLmZhLC5h=
d24tdG9hc3QuYXduLXRvYXN0LXdhcm5pbmcgYntjb2xvcjojYzI2NzAwfS5hd24tdG9hc3QuYXd=
uLXRvYXN0LXdhcm5pbmcgLmF3bi10b2FzdC1wcm9ncmVzcy1iYXI6YWZ0ZXJ7YmFja2dyb3VuZD=
ojYzI2NzAwfVtjbGFzc149YXduLV17Ym94LXNpemluZzpib3JkZXItYm94fQ=3D=3D"}],"requ=
ires":[{"meta":{"name":"customnotifications.js","url":"https://update.greas=
yfork.org/scripts/484331/1308737/customnotifications.js","ts":1707669782315=
,"mimetype":"text/javascript"},"source":"dmFyIEFXTjsKKCgpID0+IHsKICAgIHZhci=
BlID0gewogICAgICAgICAgICA2Mjg6IChlLCB0LCBzKSA9PiB7CiAgICAgICAgICAgICAgICAid=
XNlIHN0cmljdCI7CiAgICAgICAgICAgICAgICBzLmQodCwgewogICAgICAgICAgICAgICAgICAg=
IGRlZmF1bHQ6ICgpID0+IG0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29=
uc3QgaSA9IHsKICAgICAgICAgICAgICAgICAgICBtYXhOb3RpZmljYXRpb25zOiAxMCwKICAgIC=
AgICAgICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMzAwLAogICAgICAgICAgICAgICAgI=
CAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IiwKICAgICAgICAgICAgICAgICAgICBsYWJlbHM6=
IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGlwOiAiVGlwIiwKICAgICAgICAgICAgICAgICA=
gICAgICAgaW5mbzogIkluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAiU3=
VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6ICJBdHRlbnRpb24iLAogI=
CAgICAgICAgICAgICAgICAgICAgICBhbGVydDogIkVycm9yIiwKICAgICAgICAgICAgICAgICAg=
ICAgICAgYXN5bmM6ICJMb2FkaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTo=
gIkNvbmZpcm1hdGlvbiByZXF1aXJlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm=
1PazogIk9LIiwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUNhbmNlbDogIkNhbmNlb=
CIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGljb25zOiB7CiAg=
ICAgICAgICAgICAgICAgICAgICAgIHRpcDogInF1ZXN0aW9uLWNpcmNsZSIsCiAgICAgICAgICA=
gICAgICAgICAgICAgIGluZm86ICJpbmZvLWNpcmNsZSIsCiAgICAgICAgICAgICAgICAgICAgIC=
AgIHN1Y2Nlc3M6ICJjaGVjay1jaXJjbGUiLAogICAgICAgICAgICAgICAgICAgICAgICB3YXJua=
W5nOiAiZXhjbGFtYXRpb24tY2lyY2xlIiwKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQ6=
ICJleGNsYW1hdGlvbi10cmlhbmdsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jOiA=
iY29nIGZhLXNwaW4iLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiAiZXhjbGFtYX=
Rpb24tdHJpYW5nbGUiLAogICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXg6ICI8aSBjbGFzc=
z0nZmEgZmFzIGZhLWZ3IGZhLSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeDogIic+=
PC9pPiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6ICEwCiAgICAgICAgICAgICA=
gICAgICAgfSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudHM6IHsKICAgICAgICAgIC=
AgICAgICAgICAgICAgdGlwOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiBud=
WxsLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBudWxsLAogICAgICAgICAgICAg=
ICAgICAgICAgICB3YXJuaW5nOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBhbGVydDo=
gbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmM6IG51bGwsCiAgICAgICAgICAgIC=
AgICAgICAgICAgICJhc3luYy1ibG9jayI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgI=
G1vZGFsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBudWxsLAogICAg=
ICAgICAgICAgICAgICAgICAgICBnZW5lcmFsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAiPHNjcmlwdD4iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICI8XC9zY3JpcH=
Q+IjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sC=
iAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAg=
dGlwOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogIiIsCiAgICAgICAgICAgICA=
gICAgICAgICAgIHN1Y2Nlc3M6ICJBY3Rpb24gaGFzIGJlZW4gc3VjY2VlZGVkIiwKICAgICAgIC=
AgICAgICAgICAgICAgICAgd2FybmluZzogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZ=
XJ0OiAiQWN0aW9uIGhhcyBiZWVuIGZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNv=
bmZpcm06ICJUaGlzIGFjdGlvbiBjYW4ndCBiZSB1bmRvbmUuIENvbnRpbnVlPyIsCiAgICAgICA=
gICAgICAgICAgICAgICAgIGFzeW5jOiAiUGxlYXNlLCB3YWl0Li4uIiwKICAgICAgICAgICAgIC=
AgICAgICAgICAgImFzeW5jLWJsb2NrIjogIkxvYWRpbmciCiAgICAgICAgICAgICAgICAgICAgf=
SwKICAgICAgICAgICAgICAgICAgICBmb3JtYXRFcnJvcihlKSB7CiAgICAgICAgICAgICAgICAg=
ICAgICAgIGlmIChlLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiA=
oIWUucmVzcG9uc2UuZGF0YSkgcmV0dXJuICI1MDAgQVBJIFNlcnZlciBFcnJvciI7CiAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5kYXRhLmVycm9ycykgcmV0dXJuI=
GUucmVzcG9uc2UuZGF0YS5lcnJvcnMubWFwKChlID0+IGUuZGV0YWlsKSkuam9pbigiPGJyPiIp=
OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzVGV4dCk=
gcmV0dXJuIGAke2UucmVzcG9uc2Uuc3RhdHVzfSAke2UucmVzcG9uc2Uuc3RhdHVzVGV4dH06IC=
R7ZS5yZXNwb25zZS5kYXRhfWAKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgI=
CAgICAgICAgICAgICByZXR1cm4gZS5tZXNzYWdlID8gZS5tZXNzYWdlIDogZQogICAgICAgICAg=
ICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25zOiB7CiAgICAgICAgICA=
gICAgICAgICAgICAgIGdsb2JhbDogNWUzLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZX=
NzOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiBudWxsLAogICAgICAgICAgI=
CAgICAgICAgICAgICB0aXA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6=
IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0OiBudWxsCiAgICAgICAgICAgICA=
gICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBtaW5EdXJhdGlvbnM6IHsKICAgICAgICAgIC=
AgICAgICAgICAgICAgYXN5bmM6IDFlMywKICAgICAgICAgICAgICAgICAgICAgICAgImFzeW5jL=
WJsb2NrIjogMWUzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAg=
ICAgICAgICAgICAgIGNsYXNzIG4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yKGU=
gPSB7fSwgdCA9IGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aG=
lzLCB0aGlzLmRlZmF1bHRzRGVlcCh0LCBlKSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgI=
CAgICAgICAgICAgICAgaWNvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0=
aGlzLmljb25zLmVuYWJsZWQgPyBgJHt0aGlzLmljb25zLnByZWZpeH0ke3RoaXMuaWNvbnNbZV1=
9JHt0aGlzLmljb25zLnN1ZmZpeH1gIDogIiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgIC=
AgICAgICAgICAgICAgbGFiZWwoZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd=
Ghpcy5sYWJlbHNbZV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg=
ZHVyYXRpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdCA9IHRoaXMuZHVyYXR=
pb25zW2VdOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gdCA/IHRoaX=
MuZHVyYXRpb25zLmdsb2JhbCA6IHQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgI=
CAgICAgICAgdG9TZWNzKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgLyAx=
ZTMgKyAicyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYXBwbHl=
SZXBsYWNlbWVudHMoZSwgdCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUpIHJldH=
VybiB0aGlzLm1lc3NhZ2VzW3RdIHx8ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgK=
GNvbnN0IHMgb2YgWyJnZW5lcmFsIiwgdF0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBp=
ZiAodGhpcy5yZXBsYWNlbWVudHNbc10pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=
gZm9yIChjb25zdCB0IGluIHRoaXMucmVwbGFjZW1lbnRzW3NdKSBlID0gZS5yZXBsYWNlKHQsIH=
RoaXMucmVwbGFjZW1lbnRzW3NdW3RdKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuI=
GUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGUoZSkg=
ewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSA/IG5ldyBuKGUsIHRoaXMpIDogdGh=
pcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0c0RlZX=
AoZSwgdCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IHt9OwogICAgICAgICAgI=
CAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gZSkgdC5oYXNPd25Qcm9wZXJ0eShpKSA/IHNb=
aV0gPSAib2JqZWN0IiA9PSB0eXBlb2YgZVtpXSAmJiBudWxsICE9PSBlW2ldID8gdGhpcy5kZWZ=
hdWx0c0RlZXAoZVtpXSwgdFtpXSkgOiB0W2ldIDogc1tpXSA9IGVbaV07CiAgICAgICAgICAgIC=
AgICAgICAgICAgIHJldHVybiBzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgI=
CAgfQogICAgICAgICAgICAgICAgY29uc3QgciA9ICJhd24tcG9wdXAiLAogICAgICAgICAgICAg=
ICAgICAgIGEgPSAiYXduLXRvYXN0IiwKICAgICAgICAgICAgICAgICAgICBvID0gImF3bi1idG4=
iLAogICAgICAgICAgICAgICAgICAgIGwgPSAiYXduLWNvbmZpcm0iLAogICAgICAgICAgICAgIC=
AgICAgIGMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeDogYSwKICAgICAgICAgI=
CAgICAgICAgICAgICAga2xhc3M6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVs=
OiBgJHthfS1sYWJlbGAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgJHt=
hfS1jb250ZW50YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGAke2F9LWljb2=
5gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXI6IGAke2F9LXByb2dyZ=
XNzLWJhcmAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0JhclBhdXNlOiBg=
JHthfS1wcm9ncmVzcy1iYXItcGF1c2VkYAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICA=
gICAgICAgICAgICAgICAgICAgICBpZHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG=
NvbnRhaW5lcjogYCR7YX0tY29udGFpbmVyYAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgI=
CAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkID0gewogICAgICAgICAg=
ICAgICAgICAgICAgICBwcmVmaXg6IHIsCiAgICAgICAgICAgICAgICAgICAgICAgIGtsYXNzOiB=
7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAiYXduLWJ1dHRvbnMiLAogIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiBvLAogICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgc3VjY2Vzc0J0bjogYCR7b30tc3VjY2Vzc2AsCiAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICBjYW5jZWxCdG46IGAke299LWNhbmNlbGAsCiAgICAgICAgICAgICAgICAgICAgICA=
gICAgICB0aXRsZTogYCR7cn0tdGl0bGVgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm=
9keTogYCR7cn0tYm9keWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgJ=
HtyfS1jb250ZW50YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdEFuaW1hdGlvbjog=
YCR7cn0tbG9hZGluZy1kb3RzYAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICA=
gICAgICAgICAgICAgICBpZHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZX=
I6IGAke3J9LXdyYXBwZXJgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybU9rO=
iBgJHtsfS1va2AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQ2FuY2VsOiBg=
JHtsfS1jYW5jZWxgCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICA=
gICB9LAogICAgICAgICAgICAgICAgICAgIGggPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG=
hpZGluZzogImF3bi1oaWRpbmciCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgI=
CAgICAgICB1ID0gY2xhc3MgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvcihl=
LCB0LCBzLCBpLCBuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld05vZGU=
gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdCAmJiAodGhpcy5uZXdOb2RlLmlkID=
0gdCksIHMgJiYgKHRoaXMubmV3Tm9kZS5jbGFzc05hbWUgPSBzKSwgaSAmJiAodGhpcy5uZXdOb=
2RlLnN0eWxlLmNzc1RleHQgPSBpKSwgdGhpcy5wYXJlbnQgPSBlLCB0aGlzLm9wdGlvbnMgPSBu=
CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3J=
lSW5zZXJ0KCkge30KICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJJbnNlcnQoKSB7fQogIC=
AgICAgICAgICAgICAgICAgICAgICBpbnNlcnQoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgI=
CAgICByZXR1cm4gdGhpcy5iZWZvcmVJbnNlcnQoKSwgdGhpcy5lbCA9IHRoaXMucGFyZW50LmFw=
cGVuZENoaWxkKHRoaXMubmV3Tm9kZSksIHRoaXMuYWZ0ZXJJbnNlcnQoKSwgdGhpcwogICAgICA=
gICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UoZSkgew=
ogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RWxlbWVudCgpKSByZXR1c=
m4gdGhpcy5iZWZvcmVEZWxldGUoKS50aGVuKCgoKSA9PiAodGhpcy51cGRhdGVUeXBlKGUudHlw=
ZSksIHRoaXMucGFyZW50LnJlcGxhY2VDaGlsZChlLm5ld05vZGUsIHRoaXMuZWwpLCB0aGlzLmV=
sID0gdGhpcy5nZXRFbGVtZW50KGUubmV3Tm9kZSksIHRoaXMuYWZ0ZXJJbnNlcnQoKSwgdGhpcy=
kpKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ=
m9yZURlbGV0ZShlID0gdGhpcy5lbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0=
IHQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgJiY=
gKHQgPSB0aGlzLm9wdGlvbnMubWluRHVyYXRpb25zW3RoaXMudHlwZV0gKyB0aGlzLnN0YXJ0IC=
0gRGF0ZS5ub3coKSwgdCA8IDAgJiYgKHQgPSAwKSksIG5ldyBQcm9taXNlKChzID0+IHsKICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgoKSA9PiB7CiAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuY2xhc3NMaXN0LmFkZChoLmhpZGluZyksIHN=
ldFRpbWVvdXQocywgdGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKQogICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgIH0pLCB0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgf=
SkpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGVs=
ZXRlKGUgPSB0aGlzLmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGh=
pcy5nZXRFbGVtZW50KGUpID8gdGhpcy5iZWZvcmVEZWxldGUoZSkudGhlbigoKCkgPT4gewogIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucmVtb3ZlKCksIHRoaXMuYWZ0ZXJEZWxld=
GUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpIDogbnVsbAogICAgICAgICAgICAg=
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyRGVsZXRlKCkge30KICA=
gICAgICAgICAgICAgICAgICAgICAgZ2V0RWxlbWVudChlID0gdGhpcy5lbCkgewogICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlL=
mlkKSA6IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg=
ICAgICBhZGRFdmVudChlLCB0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV=
sLmFkZEV2ZW50TGlzdGVuZXIoZSwgdCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgIC=
AgICAgICAgICAgICAgICAgICB0b2dnbGVDbGFzcyhlKSB7CiAgICAgICAgICAgICAgICAgICAgI=
CAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC50b2dnbGUoZSkKICAgICAgICAgICAgICAgICAgICAg=
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUeXBlKGUpIHsKICAgICAgICAgICA=
gICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGUsIHRoaXMuZHVyYXRpb24gPSB0aGlzLm9wdG=
lvbnMuZHVyYXRpb24odGhpcy50eXBlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgI=
CAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwID0gY2xhc3MgZXh0ZW5kcyB1=
IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IoZSwgdCwgcywgaSkgewogICA=
gICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXIoaSwgYCR7Yy5wcmVmaXh9LSR7TWF0aC5mbG=
9vcihEYXRlLm5vdygpLTEwMCpNYXRoLnJhbmRvbSgpKX1gLCBgJHtjLnByZWZpeH0gJHtjLnByZ=
WZpeH0tJHt0fWAsIGBhbmltYXRpb24tZHVyYXRpb246ICR7cy50b1NlY3Mocy5hbmltYXRpb25E=
dXJhdGlvbil9O2AsIHMpLCB0aGlzLnVwZGF0ZVR5cGUodCksIHRoaXMuc2V0SW5uZXJIdG1sKGU=
pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW=
5uZXJIdG1sKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhbGVydCIgPT09IHRoa=
XMudHlwZSAmJiBlICYmIChlID0gdGhpcy5vcHRpb25zLmZvcm1hdEVycm9yKGUpKSwgZSA9IHRo=
aXMub3B0aW9ucy5hcHBseVJlcGxhY2VtZW50cyhlLCB0aGlzLnR5cGUpLCB0aGlzLm5ld05vZGU=
uaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9ImF3bi10b2FzdC13cmFwcGVyIj4ke3RoaXMucHJvZ3=
Jlc3NCYXJ9JHt0aGlzLmxhYmVsfTxkaXYgY2xhc3M9IiR7Yy5rbGFzcy5jb250ZW50fSI+JHtlf=
TwvZGl2PjxzcGFuIGNsYXNzPSIke2Mua2xhc3MuaWNvbn0iPiR7dGhpcy5vcHRpb25zLmljb24o=
dGhpcy50eXBlKX08L3NwYW4+PC9kaXY+YAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICA=
gICAgICAgICAgICAgICAgICAgIGJlZm9yZUluc2VydCgpIHsKICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgIGlmICh0aGlzLnBhcmVudC5jaGlsZEVsZW1lbnRDb3VudCA+PSB0aGlzLm9wdGlvb=
nMubWF4Tm90aWZpY2F0aW9ucykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxl=
dCBlID0gQXJyYXkuZnJvbSh0aGlzLnBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGMucHJ=
lZml4KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGUoZS5maW=
5kKChlID0+ICF0aGlzLmlzRGVsZXRlZChlKSkpKQogICAgICAgICAgICAgICAgICAgICAgICAgI=
CAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGFm=
dGVySW5zZXJ0KCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCJhc3luYyIgPT0=
gdGhpcy50eXBlKSByZXR1cm4gdGhpcy5zdGFydCA9IERhdGUubm93KCk7CiAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICBpZiAodGhpcy5hZGRFdmVudCgiY2xpY2siLCAoKCkgPT4gdGhpcy5kZ=
WxldGUoKSkpLCAhKHRoaXMuZHVyYXRpb24gPD0gMCkpIHsKICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICB0aGlzLnRpbWVyID0gbmV3IGNsYXNzIHsKICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgY29uc3RydWN0b3IoZSwgdCkgewogICAgICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGUsIHRoaXMucmVtYWluaW5nID0gd=
CwgdGhpcy5yZXN1bWUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlKCkgewogICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZWQgPSAhMCwgd2luZG93LmNsZW=
FyVGltZW91dCh0aGlzLnRpbWVySWQpLCB0aGlzLnJlbWFpbmluZyAtPSBuZXcgRGF0ZSAtIHRoa=
XMuc3RhcnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bWUoKSB7CiAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlZCA9ICExLCB0aGlzLnN0YXJ0ID0gbmV3IE=
RhdGUsIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lcklkKSwgdGhpcy50aW1lcklkID0gd=
2luZG93LnNldFRpbWVvdXQoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCksIHRoaXMuY2F=
sbGJhY2soKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIHRoaX=
MucmVtYWluaW5nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZSgpIHsKICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2VkID8gdGhpcy5yZXN1bWUoKSA6IHR=
oaXMucGF1c2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgfSgoKCkgPT4gdGhpcy5kZWxldGUoKSksIHRoaXMuZ=
HVyYXRpb24pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBv=
ZiBbIm1vdXNlZW50ZXIiLCAibW91c2VsZWF2ZSJdKSB0aGlzLmFkZEV2ZW50KGUsICgoKSA9PiB=
7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEZWxldGVkKCkgfH=
wgKHRoaXMudG9nZ2xlQ2xhc3MoYy5rbGFzcy5wcm9ncmVzc0JhclBhdXNlKSwgdGhpcy50aW1lc=
i50b2dnbGUoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkKICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICA=
gICAgICAgICAgICAgICBpc0RlbGV0ZWQoZSA9IHRoaXMuZWwpIHsKICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgIHJldHVybiBlLmNsYXNzTGlzdC5jb250YWlucyhoLmhpZGluZykKICAgICAgI=
CAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBnZXQgcHJvZ3Jlc3NC=
YXIoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdXJhdGlvbiA=
8PSAwIHx8ICJhc3luYyIgPT09IHRoaXMudHlwZSA/ICIiIDogYDxkaXYgY2xhc3M9JyR7Yy5rbG=
Fzcy5wcm9ncmVzc0Jhcn0nIHN0eWxlPSJhbmltYXRpb24tZHVyYXRpb246JHt0aGlzLm9wdGlvb=
nMudG9TZWNzKHRoaXMuZHVyYXRpb24pfTsiPjwvZGl2PmAKICAgICAgICAgICAgICAgICAgICAg=
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICBnZXQgbGFiZWwoKSB7CiAgICAgICAgICAgICA=
gICAgICAgICAgICAgICByZXR1cm4gYDxiIGNsYXNzPSIke2Mua2xhc3MubGFiZWx9Ij4ke3RoaX=
Mub3B0aW9ucy5sYWJlbCh0aGlzLnR5cGUpfTwvYj5gCiAgICAgICAgICAgICAgICAgICAgICAgI=
H0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGYgPSBjbGFzcyBl=
eHRlbmRzIHUgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcihlLCB0ID0gIm1=
vZGFsIiwgcywgaSwgbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBgYW=
5pbWF0aW9uLWR1cmF0aW9uOiAke3MudG9TZWNzKHMuYW5pbWF0aW9uRHVyYXRpb24pfTtgOwogI=
CAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXIoZG9jdW1lbnQuYm9keSwgZC5pZHMud3Jh=
cHBlciwgbnVsbCwgciwgcyksIHRoaXNbZC5pZHMuY29uZmlybU9rXSA9IGksIHRoaXNbZC5pZHM=
uY29uZmlybUNhbmNlbF0gPSBuLCB0aGlzLmNsYXNzTmFtZSA9IGAke2QucHJlZml4fS0ke3R9YC=
wgWyJjb25maXJtIiwgImFzeW5jLWJsb2NrIiwgIm1vZGFsIl0uaW5jbHVkZXModCkgfHwgKHQgP=
SAibW9kYWwiKSwgdGhpcy51cGRhdGVUeXBlKHQpLCB0aGlzLnNldElubmVySHRtbChlKSwgdGhp=
cy5pbnNlcnQoKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICA=
gICAgIHNldElubmVySHRtbChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdC=
A9IHRoaXMub3B0aW9ucy5hcHBseVJlcGxhY2VtZW50cyhlLCB0aGlzLnR5cGUpOwogICAgICAgI=
CAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICBjYXNlICJjb25maXJtIjoKICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICAgICAgbGV0IGUgPSBbYDxidXR0b24gY2xhc3M9JyR7ZC5rbGFzcy5idXR0b259IC=
R7ZC5rbGFzcy5zdWNjZXNzQnRufSdpZD0nJHtkLmlkcy5jb25maXJtT2t9Jz4ke3RoaXMub3B0a=
W9ucy5sYWJlbHMuY29uZmlybU9rfTwvYnV0dG9uPmBdOwogICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICAgICAgICAhMSAhPT0gdGhpc1tkLmlkcy5jb25maXJtQ2FuY2VsXSAmJiBlLnB1c2g=
oYDxidXR0b24gY2xhc3M9JyR7ZC5rbGFzcy5idXR0b259ICR7ZC5rbGFzcy5jYW5jZWxCdG59J2=
lkPScke2QuaWRzLmNvbmZpcm1DYW5jZWx9Jz4ke3RoaXMub3B0aW9ucy5sYWJlbHMuY29uZmlyb=
UNhbmNlbH08L2J1dHRvbj5gKSwgdCA9IGAke3RoaXMub3B0aW9ucy5pY29uKHRoaXMudHlwZSl9=
PGRpdiBjbGFzcz0nJHtkLmtsYXNzLnRpdGxlfSc+JHt0aGlzLm9wdGlvbnMubGFiZWwodGhpcy5=
0eXBlKX08L2Rpdj48ZGl2IGNsYXNzPSIke2Qua2xhc3MuY29udGVudH0iPiR7dH08L2Rpdj48ZG=
l2IGNsYXNzPScke2Qua2xhc3MuYnV0dG9uc30gJHtkLmtsYXNzLmJ1dHRvbnN9LSR7ZS5sZW5nd=
Gh9Jz4ke2Uuam9pbigiIil9PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiYXN5bmM=
tYmxvY2siOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gYCR7dH08ZG=
l2IGNsYXNzPSIke2Qua2xhc3MuZG90QW5pbWF0aW9ufSI+PC9kaXY+YAogICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdOb2Rl=
LmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPSIke2Qua2xhc3MuYm9keX0gJHt0aGlzLmNsYXNzTmF=
tZX0iPiR7dH08L2Rpdj5gCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIC=
AgICAgICAgICAga2V5dXBMaXN0ZW5lcihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgI=
CBpZiAoImFzeW5jLWJsb2NrIiA9PT0gdGhpcy50eXBlKSByZXR1cm4gZS5wcmV2ZW50RGVmYXVs=
dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLmNvZGUpIHsKICAgICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJFc2NhcGUiOgogICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuZGVsZXRlKCk7C=
iAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiVGFiIjoKICAgICAgICAgICAg=
ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgImNvbmZpcm0=
iICE9PSB0aGlzLnR5cGUgfHwgITEgPT09IHRoaXNbZC5pZHMuY29uZmlybUNhbmNlbF0pIHJldH=
VybiAhMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSB0aGlzL=
m9rQnRuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnNoaWZ0S2V5ID8g=
ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZCA9PSBkLmlkcy5jb25maXJtT2sgJiYgKHQgPSB0aGl=
zLmNhbmNlbEJ0bikgOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlkICE9PSBkLmlkcy5jb25maX=
JtQ2FuY2VsICYmICh0ID0gdGhpcy5jYW5jZWxCdG4pLCB0LmZvY3VzKCkKICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg=
ICAgICAgICAgICBhZnRlckluc2VydCgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN=
3aXRjaCAodGhpcy5saXN0ZW5lciA9IGUgPT4gdGhpcy5rZXl1cExpc3RlbmVyKGUpLCB3aW5kb3=
cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMubGlzdGVuZXIpLCB0aGlzLnR5cGUpI=
HsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJhc3luYy1ibG9jayI6CiAg=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBEYXRlLm5vdyg=
pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICBjYXNlICJjb25maXJtIjoKICAgICAgICAgICAgICAgICAgI=
CAgICAgICAgICAgICAgICAgdGhpcy5va0J0bi5mb2N1cygpLCB0aGlzLmFkZEV2ZW50KCJjbGlj=
ayIsIChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg=
iQlVUVE9OIiAhPT0gZS50YXJnZXQubm9kZU5hbWUpIHJldHVybiAhMTsKICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlKCksIHRoaXNbZS50YXJnZXQua=
WRdICYmIHRoaXNbZS50YXJnZXQuaWRdKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICA=
gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSwgdGhpcy5hZ=
GRFdmVudCgiY2xpY2siLCAoZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
ICAgICAgICBlLnRhcmdldC5pZCA9PT0gdGhpcy5uZXdOb2RlLmlkICYmIHRoaXMuZGVsZXRlKCk=
KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgIC=
AgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgI=
CAgICAgICAgYWZ0ZXJEZWxldGUoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5k=
b3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMubGlzdGVuZXIpCiAgICAgICA=
gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IG9rQnRuKCkgew=
ogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCe=
UlkKGQuaWRzLmNvbmZpcm1PaykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg=
ICAgICAgICAgICAgICBnZXQgY2FuY2VsQnRuKCkgewogICAgICAgICAgICAgICAgICAgICAgICA=
gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQuaWRzLmNvbmZpcm1DYW5jZWwpCi=
AgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgI=
CAgICAgICAgY2xhc3MgbSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IoZSA9IHt9=
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG5ldyBuKGUpCiAgICA=
gICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRpcChlLCB0KSB7CiAgICAgIC=
AgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRUb2FzdChlLCAidGlwIiwgdCkuZWwKI=
CAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaW5mbyhlLCB0KSB7CiAg=
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRUb2FzdChlLCAiaW5mbyIsIHQ=
pLmVsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZS=
wgdCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9hc3QoZSwgI=
nN1Y2Nlc3MiLCB0KS5lbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAg=
ICB3YXJuaW5nKGUsIHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F=
kZFRvYXN0KGUsICJ3YXJuaW5nIiwgdCkuZWwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgIC=
AgICAgICAgICAgICAgYWxlcnQoZSwgdCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1c=
m4gdGhpcy5fYWRkVG9hc3QoZSwgImFsZXJ0IiwgdCkuZWwKICAgICAgICAgICAgICAgICAgICB9=
CiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKGUsIHQsIHMsIGksIG4pIHsKICAgICAgICAgICA=
gICAgICAgICAgICAgbGV0IHIgPSB0aGlzLl9hZGRUb2FzdChpLCAiYXN5bmMiLCBuKTsKICAgIC=
AgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyQXN5bmMoZSwgdCwgcywgbiwgc=
ikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uZmlybShlLCB0=
LCBzLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRQb3B1cCh=
lLCAiY29uZmlybSIsIGksIHQsIHMpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgIC=
AgICAgICAgIGFzeW5jQmxvY2soZSwgdCwgcywgaSwgbikgewogICAgICAgICAgICAgICAgICAgI=
CAgICBsZXQgciA9IHRoaXMuX2FkZFBvcHVwKGksICJhc3luYy1ibG9jayIsIG4pOwogICAgICAg=
ICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJBc3luYyhlLCB0LCBzLCBuLCByKQo=
gICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBtb2RhbChlLCB0LCBzKS=
B7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRQb3B1cChlLCB0LCBzK=
QogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjbG9zZVRvYXN0cygp=
IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSB0aGlzLmNvbnRhaW5lcjsKICAgICA=
gICAgICAgICAgICAgICAgICAgZm9yICg7IGUuZmlyc3RDaGlsZDspIGUucmVtb3ZlQ2hpbGQoZS=
5maXJzdENoaWxkKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfY=
WRkUG9wdXAoZSwgdCwgcywgaSwgbikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g=
bmV3IGYoZSwgdCwgdGhpcy5vcHRpb25zLm92ZXJyaWRlKHMpLCBpLCBuKQogICAgICAgICAgICA=
gICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfYWRkVG9hc3QoZSwgdCwgcywgaSkgewogIC=
AgICAgICAgICAgICAgICAgICAgICBzID0gdGhpcy5vcHRpb25zLm92ZXJyaWRlKHMpOwogICAgI=
CAgICAgICAgICAgICAgICAgICBsZXQgbiA9IG5ldyBwKGUsIHQsIHMsIHRoaXMuY29udGFpbmVy=
KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgPyBpIGluc3RhbmNlb2YgZiA/IGk=
uZGVsZXRlKCkudGhlbigoKCkgPT4gbi5pbnNlcnQoKSkpIDogaS5yZXBsYWNlKG4pIDogbi5pbn=
NlcnQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfYWZ0ZXJBc=
3luYyhlLCB0LCBzLCBpLCBuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLnRo=
ZW4odGhpcy5fcmVzcG9uc2VIYW5kbGVyKHQsICJzdWNjZXNzIiwgaSwgbiksIHRoaXMuX3Jlc3B=
vbnNlSGFuZGxlcihzLCAiYWxlcnQiLCBpLCBuKSkKICAgICAgICAgICAgICAgICAgICB9CiAgIC=
AgICAgICAgICAgICAgICAgX3Jlc3BvbnNlSGFuZGxlcihlLCB0LCBzLCBpKSB7CiAgICAgICAgI=
CAgICAgICAgICAgICAgIHJldHVybiBuID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg=
IHN3aXRjaCAodHlwZW9mIGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXN=
lICJ1bmRlZmluZWQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInN0cm=
luZyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByID0gImFsZXJ0I=
iA9PT0gdCA/IGUgfHwgbiA6IGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg=
IHRoaXMuX2FkZFRvYXN0KHIsIHQsIHMsIGkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICA=
gICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Og=
ogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmRlbGV0ZSgpLnRoZW4oKCgpI=
D0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgJiYgZShuKQog=
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAgICAgICA=
gICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIC=
AgIH0KICAgICAgICAgICAgICAgICAgICBfY3JlYXRlQ29udGFpbmVyKCkgewogICAgICAgICAgI=
CAgICAgICAgICAgICByZXR1cm4gbmV3IHUoZG9jdW1lbnQuYm9keSwgYy5pZHMuY29udGFpbmVy=
LCBgYXduLSR7dGhpcy5vcHRpb25zLnBvc2l0aW9ufWApLmluc2VydCgpLmVsCiAgICAgICAgICA=
gICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGdldCBjb250YWluZXIoKSB7CiAgICAgIC=
AgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjLmlkcy5jb=
250YWluZXIpIHx8IHRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpCiAgICAgICAgICAgICAgICAgICAg=
fQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICA2MTI6IChlLCB=
0LCBzKSA9PiB7CiAgICAgICAgICAgICAgICBlLmV4cG9ydHMgPSBzKDYyOCkuZGVmYXVsdAogIC=
AgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0ID0ge307CgogICAgZnVuY3Rpb24gcyhpK=
SB7CiAgICAgICAgdmFyIG4gPSB0W2ldOwogICAgICAgIGlmICh2b2lkIDAgIT09IG4pIHJldHVy=
biBuLmV4cG9ydHM7CiAgICAgICAgdmFyIHIgPSB0W2ldID0gewogICAgICAgICAgICBleHBvcnR=
zOiB7fQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGVbaV0ociwgci5leHBvcnRzLCBzKSwgci=
5leHBvcnRzCiAgICB9CiAgICBzLmQgPSAoZSwgdCkgPT4gewogICAgICAgIGZvciAodmFyIGkga=
W4gdCkgcy5vKHQsIGkpICYmICFzLm8oZSwgaSkgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUs=
IGksIHsKICAgICAgICAgICAgZW51bWVyYWJsZTogITAsCiAgICAgICAgICAgIGdldDogdFtpXQo=
gICAgICAgIH0pCiAgICB9LCBzLm8gPSAoZSwgdCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd2=
5Qcm9wZXJ0eS5jYWxsKGUsIHQpOwogICAgdmFyIGkgPSBzKDYxMik7CiAgICBBV04gPSBpCn0pK=
Ck7"}]}],"settings":{"enabled":true,"script_blacklist_server":[{"rules":["/=
https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.us=
er\\.js/"],"severity":2},{"name":"SaveFrom.net helper","reason":"Shows adve=
rtisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/",=
"/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":3},{"rea=
sons":{"en":"Used for a phishing compain to compromise users of baon-nutrit=
ion.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/=
"],"severity":8}]}}</pre></body></html>
------MultipartBoundary--j3MscNnFiYNc3A3ncUGXyEuWG2Mlwy9OmhvSmYkp8i------
